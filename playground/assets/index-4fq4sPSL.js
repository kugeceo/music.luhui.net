var AA=Object.defineProperty;var MA=(t,e,n)=>e in t?AA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ge=(t,e,n)=>MA(t,typeof e!="symbol"?e+"":e,n);function EA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var _n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Oz(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var g_={exports:{}},Ld={},m_={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=Symbol.for("react.element"),$A=Symbol.for("react.portal"),RA=Symbol.for("react.fragment"),LA=Symbol.for("react.strict_mode"),NA=Symbol.for("react.profiler"),PA=Symbol.for("react.provider"),OA=Symbol.for("react.context"),IA=Symbol.for("react.forward_ref"),DA=Symbol.for("react.suspense"),FA=Symbol.for("react.memo"),WA=Symbol.for("react.lazy"),_w=Symbol.iterator;function jA(t){return t===null||typeof t!="object"?null:(t=_w&&t[_w]||t["@@iterator"],typeof t=="function"?t:null)}var v_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y_=Object.assign,w_={};function jl(t,e,n){this.props=t,this.context=e,this.refs=w_,this.updater=n||v_}jl.prototype.isReactComponent={};jl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b_(){}b_.prototype=jl.prototype;function ly(t,e,n){this.props=t,this.context=e,this.refs=w_,this.updater=n||v_}var cy=ly.prototype=new b_;cy.constructor=ly;y_(cy,jl.prototype);cy.isPureReactComponent=!0;var Sw=Array.isArray,__=Object.prototype.hasOwnProperty,uy={current:null},S_={key:!0,ref:!0,__self:!0,__source:!0};function x_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)__.call(e,r)&&!S_.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Iu,type:t,key:o,ref:s,props:i,_owner:uy.current}}function BA(t,e){return{$$typeof:Iu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Iu}function zA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xw=/\/+/g;function lg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zA(""+t.key):e.toString(36)}function ff(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Iu:case $A:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lg(s,0):r,Sw(i)?(n="",t!=null&&(n=t.replace(xw,"$&/")+"/"),ff(i,e,n,"",function(u){return u})):i!=null&&(hy(i)&&(i=BA(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Sw(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+lg(o,l);s+=ff(o,e,n,a,i)}else if(a=jA(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+lg(o,l++),s+=ff(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $h(t,e,n){if(t==null)return t;var r=[],i=0;return ff(t,r,"","",function(o){return e.call(n,o,i++)}),r}function HA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fr={current:null},df={transition:null},VA={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:df,ReactCurrentOwner:uy};function C_(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:$h,forEach:function(t,e,n){$h(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $h(t,function(){e++}),e},toArray:function(t){return $h(t,function(e){return e})||[]},only:function(t){if(!hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=jl;vt.Fragment=RA;vt.Profiler=NA;vt.PureComponent=ly;vt.StrictMode=LA;vt.Suspense=DA;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VA;vt.act=C_;vt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=y_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=uy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)__.call(e,a)&&!S_.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Iu,type:t.type,key:i,ref:o,props:r,_owner:s}};vt.createContext=function(t){return t={$$typeof:OA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PA,_context:t},t.Consumer=t};vt.createElement=x_;vt.createFactory=function(t){var e=x_.bind(null,t);return e.type=t,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:IA,render:t}};vt.isValidElement=hy;vt.lazy=function(t){return{$$typeof:WA,_payload:{_status:-1,_result:t},_init:HA}};vt.memo=function(t,e){return{$$typeof:FA,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=df.transition;df.transition={};try{t()}finally{df.transition=e}};vt.unstable_act=C_;vt.useCallback=function(t,e){return fr.current.useCallback(t,e)};vt.useContext=function(t){return fr.current.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t){return fr.current.useDeferredValue(t)};vt.useEffect=function(t,e){return fr.current.useEffect(t,e)};vt.useId=function(){return fr.current.useId()};vt.useImperativeHandle=function(t,e,n){return fr.current.useImperativeHandle(t,e,n)};vt.useInsertionEffect=function(t,e){return fr.current.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return fr.current.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return fr.current.useMemo(t,e)};vt.useReducer=function(t,e,n){return fr.current.useReducer(t,e,n)};vt.useRef=function(t){return fr.current.useRef(t)};vt.useState=function(t){return fr.current.useState(t)};vt.useSyncExternalStore=function(t,e,n){return fr.current.useSyncExternalStore(t,e,n)};vt.useTransition=function(){return fr.current.useTransition()};vt.version="18.3.1";m_.exports=vt;var V=m_.exports;const dt=Wl(V),UA=EA({__proto__:null,default:dt},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=V,qA=Symbol.for("react.element"),KA=Symbol.for("react.fragment"),YA=Object.prototype.hasOwnProperty,QA=GA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XA={key:!0,ref:!0,__self:!0,__source:!0};function T_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)YA.call(e,r)&&!XA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qA,type:t,key:o,ref:s,props:i,_owner:QA.current}}Ld.Fragment=KA;Ld.jsx=T_;Ld.jsxs=T_;g_.exports=Ld;var U=g_.exports,k_={exports:{}},jr={},A_={exports:{}},M_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,W){var z=D.length;D.push(W);e:for(;0<z;){var G=z-1>>>1,Z=D[G];if(0<i(Z,W))D[G]=W,D[z]=Z,z=G;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],z=D.pop();if(z!==W){D[0]=z;e:for(var G=0,Z=D.length,q=Z>>>1;G<q;){var X=2*(G+1)-1,Y=D[X],ee=X+1,re=D[ee];if(0>i(Y,z))ee<Z&&0>i(re,Y)?(D[G]=re,D[ee]=z,G=ee):(D[G]=Y,D[X]=z,G=X);else if(ee<Z&&0>i(re,z))D[G]=re,D[ee]=z,G=ee;else break e}}return W}function i(D,W){var z=D.sortIndex-W.sortIndex;return z!==0?z:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,h=null,f=3,p=!1,d=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=D)r(u),W.sortIndex=W.expirationTime,e(a,W);else break;W=n(u)}}function x(D){if(g=!1,C(D),!d)if(n(a)!==null)d=!0,P(_);else{var W=n(u);W!==null&&I(x,W.startTime-D)}}function _(D,W){d=!1,g&&(g=!1,v(S),S=-1),p=!0;var z=f;try{for(C(W),h=n(a);h!==null&&(!(h.expirationTime>W)||D&&!R());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var Z=G(h.expirationTime<=W);W=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(a)&&r(a),C(W)}else r(a);h=n(a)}if(h!==null)var q=!0;else{var X=n(u);X!==null&&I(x,X.startTime-W),q=!1}return q}finally{h=null,f=z,p=!1}}var w=!1,y=null,S=-1,A=5,M=-1;function R(){return!(t.unstable_now()-M<A)}function k(){if(y!==null){var D=t.unstable_now();M=D;var W=!0;try{W=y(!0,D)}finally{W?$():(w=!1,y=null)}}else w=!1}var $;if(typeof b=="function")$=function(){b(k)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,L=E.port2;E.port1.onmessage=k,$=function(){L.postMessage(null)}}else $=function(){m(k,0)};function P(D){y=D,w||(w=!0,$())}function I(D,W){S=m(function(){D(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){d||p||(d=!0,P(_))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var z=f;f=W;try{return D()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=f;f=D;try{return W()}finally{f=z}},t.unstable_scheduleCallback=function(D,W,z){var G=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=z+Z,D={id:c++,callback:W,priorityLevel:D,startTime:z,expirationTime:Z,sortIndex:-1},z>G?(D.sortIndex=z,e(u,D),n(a)===null&&D===n(u)&&(g?(v(S),S=-1):g=!0,I(x,z-G))):(D.sortIndex=Z,e(a,D),d||p||(d=!0,P(_))),D},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(D){var W=f;return function(){var z=f;f=W;try{return D.apply(this,arguments)}finally{f=z}}}})(M_);A_.exports=M_;var ZA=A_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA=V,Fr=ZA;function Ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E_=new Set,nu={};function _a(t,e){xl(t,e),xl(t+"Capture",e)}function xl(t,e){for(nu[t]=e,t=0;t<e.length;t++)E_.add(e[t])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mm=Object.prototype.hasOwnProperty,eM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cw={},Tw={};function tM(t){return mm.call(Tw,t)?!0:mm.call(Cw,t)?!1:eM.test(t)?Tw[t]=!0:(Cw[t]=!0,!1)}function nM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rM(t,e,n,r){if(e===null||typeof e>"u"||nM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var fy=/[\-:]([a-z])/g;function dy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fy,dy);Hn[e]=new dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fy,dy);Hn[e]=new dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fy,dy);Hn[e]=new dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new dr(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function py(t,e,n,r){var i=Hn.hasOwnProperty(e)?Hn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rM(e,n,i,r)&&(n=null),r||i===null?tM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var No=JA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rh=Symbol.for("react.element"),Ka=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),$_=Symbol.for("react.provider"),R_=Symbol.for("react.context"),my=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),wm=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),Yo=Symbol.for("react.lazy"),L_=Symbol.for("react.offscreen"),kw=Symbol.iterator;function mc(t){return t===null||typeof t!="object"?null:(t=kw&&t[kw]||t["@@iterator"],typeof t=="function"?t:null)}var dn=Object.assign,cg;function Ac(t){if(cg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cg=e&&e[1]||""}return`
`+cg+t}var ug=!1;function hg(t,e){if(!t||ug)return"";ug=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{ug=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ac(t):""}function iM(t){switch(t.tag){case 5:return Ac(t.type);case 16:return Ac("Lazy");case 13:return Ac("Suspense");case 19:return Ac("SuspenseList");case 0:case 2:case 15:return t=hg(t.type,!1),t;case 11:return t=hg(t.type.render,!1),t;case 1:return t=hg(t.type,!0),t;default:return""}}function bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ya:return"Fragment";case Ka:return"Portal";case vm:return"Profiler";case gy:return"StrictMode";case ym:return"Suspense";case wm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R_:return(t.displayName||"Context")+".Consumer";case $_:return(t._context.displayName||"Context")+".Provider";case my:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vy:return e=t.displayName||null,e!==null?e:bm(t.type)||"Memo";case Yo:e=t._payload,t=t._init;try{return bm(t(e))}catch{}}return null}function oM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bm(e);case 8:return e===gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sM(t){var e=N_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lh(t){t._valueTracker||(t._valueTracker=sM(t))}function P_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _m(t,e){var n=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Aw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O_(t,e){e=e.checked,e!=null&&py(t,"checked",e,!1)}function Sm(t,e){O_(t,e);var n=ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xm(t,e.type,n):e.hasOwnProperty("defaultValue")&&xm(t,e.type,ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xm(t,e,n){(e!=="number"||Pf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mc=Array.isArray;function dl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ms(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ew(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ce(92));if(Mc(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ms(n)}}function I_(t,e){var n=ms(e.value),r=ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $w(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function D_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?D_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nh,F_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nh=Nh||document.createElement("div"),Nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ru(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aM=["Webkit","ms","Moz","O"];Object.keys(Oc).forEach(function(t){aM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oc[e]=Oc[t]})});function W_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oc.hasOwnProperty(t)&&Oc[t]?(""+e).trim():e+"px"}function j_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=W_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lM=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(t,e){if(e){if(lM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=null;function yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Em=null,pl=null,gl=null;function Rw(t){if(t=Wu(t)){if(typeof Em!="function")throw Error(Ce(280));var e=t.stateNode;e&&(e=Dd(e),Em(t.stateNode,t.type,e))}}function B_(t){pl?gl?gl.push(t):gl=[t]:pl=t}function z_(){if(pl){var t=pl,e=gl;if(gl=pl=null,Rw(t),e)for(t=0;t<e.length;t++)Rw(e[t])}}function H_(t,e){return t(e)}function V_(){}var fg=!1;function U_(t,e,n){if(fg)return t(e,n);fg=!0;try{return H_(t,e,n)}finally{fg=!1,(pl!==null||gl!==null)&&(V_(),z_())}}function iu(t,e){var n=t.stateNode;if(n===null)return null;var r=Dd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ce(231,e,typeof n));return n}var $m=!1;if(So)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){$m=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{$m=!1}function cM(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ic=!1,Of=null,If=!1,Rm=null,uM={onError:function(t){Ic=!0,Of=t}};function hM(t,e,n,r,i,o,s,l,a){Ic=!1,Of=null,cM.apply(uM,arguments)}function fM(t,e,n,r,i,o,s,l,a){if(hM.apply(this,arguments),Ic){if(Ic){var u=Of;Ic=!1,Of=null}else throw Error(Ce(198));If||(If=!0,Rm=u)}}function Sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lw(t){if(Sa(t)!==t)throw Error(Ce(188))}function dM(t){var e=t.alternate;if(!e){if(e=Sa(t),e===null)throw Error(Ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Lw(i),t;if(o===r)return Lw(i),e;o=o.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?t:e}function q_(t){return t=dM(t),t!==null?K_(t):null}function K_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K_(t);if(e!==null)return e;t=t.sibling}return null}var Y_=Fr.unstable_scheduleCallback,Nw=Fr.unstable_cancelCallback,pM=Fr.unstable_shouldYield,gM=Fr.unstable_requestPaint,bn=Fr.unstable_now,mM=Fr.unstable_getCurrentPriorityLevel,wy=Fr.unstable_ImmediatePriority,Q_=Fr.unstable_UserBlockingPriority,Df=Fr.unstable_NormalPriority,vM=Fr.unstable_LowPriority,X_=Fr.unstable_IdlePriority,Nd=null,Ki=null;function yM(t){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(Nd,t,void 0,(t.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:_M,wM=Math.log,bM=Math.LN2;function _M(t){return t>>>=0,t===0?32:31-(wM(t)/bM|0)|0}var Ph=64,Oh=4194304;function Ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ff(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Ec(l):(o&=s,o!==0&&(r=Ec(o)))}else s=n&~i,s!==0?r=Ec(s):o!==0&&(r=Ec(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wi(e),i=1<<n,r|=t[n],e&=~i;return r}function SM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-wi(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=SM(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function Lm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z_(){var t=Ph;return Ph<<=1,!(Ph&4194240)&&(Ph=64),t}function dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wi(e),t[e]=n}function CM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function by(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Nt=0;function J_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eS,_y,tS,nS,rS,Nm=!1,Ih=[],os=null,ss=null,as=null,ou=new Map,su=new Map,Zo=[],TM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pw(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ou.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(e.pointerId)}}function yc(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Wu(e),e!==null&&_y(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kM(t,e,n,r,i){switch(e){case"focusin":return os=yc(os,t,e,n,r,i),!0;case"dragenter":return ss=yc(ss,t,e,n,r,i),!0;case"mouseover":return as=yc(as,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ou.set(o,yc(ou.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,su.set(o,yc(su.get(o)||null,t,e,n,r,i)),!0}return!1}function iS(t){var e=Ys(t.target);if(e!==null){var n=Sa(e);if(n!==null){if(e=n.tag,e===13){if(e=G_(n),e!==null){t.blockedOn=e,rS(t.priority,function(){tS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mm=r,n.target.dispatchEvent(r),Mm=null}else return e=Wu(n),e!==null&&_y(e),t.blockedOn=n,!1;e.shift()}return!0}function Ow(t,e,n){pf(t)&&n.delete(e)}function AM(){Nm=!1,os!==null&&pf(os)&&(os=null),ss!==null&&pf(ss)&&(ss=null),as!==null&&pf(as)&&(as=null),ou.forEach(Ow),su.forEach(Ow)}function wc(t,e){t.blockedOn===e&&(t.blockedOn=null,Nm||(Nm=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,AM)))}function au(t){function e(i){return wc(i,t)}if(0<Ih.length){wc(Ih[0],t);for(var n=1;n<Ih.length;n++){var r=Ih[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&wc(os,t),ss!==null&&wc(ss,t),as!==null&&wc(as,t),ou.forEach(e),su.forEach(e),n=0;n<Zo.length;n++)r=Zo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zo.length&&(n=Zo[0],n.blockedOn===null);)iS(n),n.blockedOn===null&&Zo.shift()}var ml=No.ReactCurrentBatchConfig,Wf=!0;function MM(t,e,n,r){var i=Nt,o=ml.transition;ml.transition=null;try{Nt=1,Sy(t,e,n,r)}finally{Nt=i,ml.transition=o}}function EM(t,e,n,r){var i=Nt,o=ml.transition;ml.transition=null;try{Nt=4,Sy(t,e,n,r)}finally{Nt=i,ml.transition=o}}function Sy(t,e,n,r){if(Wf){var i=Pm(t,e,n,r);if(i===null)xg(t,e,r,jf,n),Pw(t,r);else if(kM(i,t,e,n,r))r.stopPropagation();else if(Pw(t,r),e&4&&-1<TM.indexOf(t)){for(;i!==null;){var o=Wu(i);if(o!==null&&eS(o),o=Pm(t,e,n,r),o===null&&xg(t,e,r,jf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else xg(t,e,r,null,n)}}var jf=null;function Pm(t,e,n,r){if(jf=null,t=yy(r),t=Ys(t),t!==null)if(e=Sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=G_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jf=t,null}function oS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mM()){case wy:return 1;case Q_:return 4;case Df:case vM:return 16;case X_:return 536870912;default:return 16}default:return 16}}var ts=null,xy=null,gf=null;function sS(){if(gf)return gf;var t,e=xy,n=e.length,r,i="value"in ts?ts.value:ts.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return gf=i.slice(t,1<r?1-r:void 0)}function mf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dh(){return!0}function Iw(){return!1}function Br(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dh:Iw,this.isPropagationStopped=Iw,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dh)},persist:function(){},isPersistent:Dh}),e}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cy=Br(Bl),Fu=dn({},Bl,{view:0,detail:0}),$M=Br(Fu),pg,gg,bc,Pd=dn({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ty,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bc&&(bc&&t.type==="mousemove"?(pg=t.screenX-bc.screenX,gg=t.screenY-bc.screenY):gg=pg=0,bc=t),pg)},movementY:function(t){return"movementY"in t?t.movementY:gg}}),Dw=Br(Pd),RM=dn({},Pd,{dataTransfer:0}),LM=Br(RM),NM=dn({},Fu,{relatedTarget:0}),mg=Br(NM),PM=dn({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),OM=Br(PM),IM=dn({},Bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DM=Br(IM),FM=dn({},Bl,{data:0}),Fw=Br(FM),WM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BM[t])?!!e[t]:!1}function Ty(){return zM}var HM=dn({},Fu,{key:function(t){if(t.key){var e=WM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ty,charCode:function(t){return t.type==="keypress"?mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VM=Br(HM),UM=dn({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ww=Br(UM),GM=dn({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ty}),qM=Br(GM),KM=dn({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),YM=Br(KM),QM=dn({},Pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XM=Br(QM),ZM=[9,13,27,32],ky=So&&"CompositionEvent"in window,Dc=null;So&&"documentMode"in document&&(Dc=document.documentMode);var JM=So&&"TextEvent"in window&&!Dc,aS=So&&(!ky||Dc&&8<Dc&&11>=Dc),jw=" ",Bw=!1;function lS(t,e){switch(t){case"keyup":return ZM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function eE(t,e){switch(t){case"compositionend":return cS(e);case"keypress":return e.which!==32?null:(Bw=!0,jw);case"textInput":return t=e.data,t===jw&&Bw?null:t;default:return null}}function tE(t,e){if(Qa)return t==="compositionend"||!ky&&lS(t,e)?(t=sS(),gf=xy=ts=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aS&&e.locale!=="ko"?null:e.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nE[t.type]:e==="textarea"}function uS(t,e,n,r){B_(r),e=Bf(e,"onChange"),0<e.length&&(n=new Cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fc=null,lu=null;function rE(t){_S(t,0)}function Od(t){var e=Ja(t);if(P_(e))return t}function iE(t,e){if(t==="change")return e}var hS=!1;if(So){var vg;if(So){var yg="oninput"in document;if(!yg){var Hw=document.createElement("div");Hw.setAttribute("oninput","return;"),yg=typeof Hw.oninput=="function"}vg=yg}else vg=!1;hS=vg&&(!document.documentMode||9<document.documentMode)}function Vw(){Fc&&(Fc.detachEvent("onpropertychange",fS),lu=Fc=null)}function fS(t){if(t.propertyName==="value"&&Od(lu)){var e=[];uS(e,lu,t,yy(t)),U_(rE,e)}}function oE(t,e,n){t==="focusin"?(Vw(),Fc=e,lu=n,Fc.attachEvent("onpropertychange",fS)):t==="focusout"&&Vw()}function sE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Od(lu)}function aE(t,e){if(t==="click")return Od(e)}function lE(t,e){if(t==="input"||t==="change")return Od(e)}function cE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xi=typeof Object.is=="function"?Object.is:cE;function cu(t,e){if(xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mm.call(e,i)||!xi(t[i],e[i]))return!1}return!0}function Uw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gw(t,e){var n=Uw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uw(n)}}function dS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pS(){for(var t=window,e=Pf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pf(t.document)}return e}function Ay(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uE(t){var e=pS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dS(n.ownerDocument.documentElement,n)){if(r!==null&&Ay(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Gw(n,o);var s=Gw(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hE=So&&"documentMode"in document&&11>=document.documentMode,Xa=null,Om=null,Wc=null,Im=!1;function qw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Im||Xa==null||Xa!==Pf(r)||(r=Xa,"selectionStart"in r&&Ay(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wc&&cu(Wc,r)||(Wc=r,r=Bf(Om,"onSelect"),0<r.length&&(e=new Cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xa)))}function Fh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Za={animationend:Fh("Animation","AnimationEnd"),animationiteration:Fh("Animation","AnimationIteration"),animationstart:Fh("Animation","AnimationStart"),transitionend:Fh("Transition","TransitionEnd")},wg={},gS={};So&&(gS=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Id(t){if(wg[t])return wg[t];if(!Za[t])return t;var e=Za[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gS)return wg[t]=e[n];return t}var mS=Id("animationend"),vS=Id("animationiteration"),yS=Id("animationstart"),wS=Id("transitionend"),bS=new Map,Kw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(t,e){bS.set(t,e),_a(e,[t])}for(var bg=0;bg<Kw.length;bg++){var _g=Kw[bg],fE=_g.toLowerCase(),dE=_g[0].toUpperCase()+_g.slice(1);ks(fE,"on"+dE)}ks(mS,"onAnimationEnd");ks(vS,"onAnimationIteration");ks(yS,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(wS,"onTransitionEnd");xl("onMouseEnter",["mouseout","mouseover"]);xl("onMouseLeave",["mouseout","mouseover"]);xl("onPointerEnter",["pointerout","pointerover"]);xl("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("cancel close invalid load scroll toggle".split(" ").concat($c));function Yw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fM(r,e,void 0,t),t.currentTarget=null}function _S(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Yw(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Yw(i,l,u),o=a}}}if(If)throw t=Rm,If=!1,Rm=null,t}function Yt(t,e){var n=e[Bm];n===void 0&&(n=e[Bm]=new Set);var r=t+"__bubble";n.has(r)||(SS(e,t,2,!1),n.add(r))}function Sg(t,e,n){var r=0;e&&(r|=4),SS(n,t,r,e)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function uu(t){if(!t[Wh]){t[Wh]=!0,E_.forEach(function(n){n!=="selectionchange"&&(pE.has(n)||Sg(n,!1,t),Sg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wh]||(e[Wh]=!0,Sg("selectionchange",!1,e))}}function SS(t,e,n,r){switch(oS(e)){case 1:var i=MM;break;case 4:i=EM;break;default:i=Sy}n=i.bind(null,e,n,t),i=void 0,!$m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Ys(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}U_(function(){var u=o,c=yy(n),h=[];e:{var f=bS.get(t);if(f!==void 0){var p=Cy,d=t;switch(t){case"keypress":if(mf(n)===0)break e;case"keydown":case"keyup":p=VM;break;case"focusin":d="focus",p=mg;break;case"focusout":d="blur",p=mg;break;case"beforeblur":case"afterblur":p=mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qM;break;case mS:case vS:case yS:p=OM;break;case wS:p=YM;break;case"scroll":p=$M;break;case"wheel":p=XM;break;case"copy":case"cut":case"paste":p=DM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ww}var g=(e&4)!==0,m=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var b=u,C;b!==null;){C=b;var x=C.stateNode;if(C.tag===5&&x!==null&&(C=x,v!==null&&(x=iu(b,v),x!=null&&g.push(hu(b,x,C)))),m)break;b=b.return}0<g.length&&(f=new p(f,d,null,n,c),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Mm&&(d=n.relatedTarget||n.fromElement)&&(Ys(d)||d[xo]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(d=n.relatedTarget||n.toElement,p=u,d=d?Ys(d):null,d!==null&&(m=Sa(d),d!==m||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=u),p!==d)){if(g=Dw,x="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=Ww,x="onPointerLeave",v="onPointerEnter",b="pointer"),m=p==null?f:Ja(p),C=d==null?f:Ja(d),f=new g(x,b+"leave",p,n,c),f.target=m,f.relatedTarget=C,x=null,Ys(c)===u&&(g=new g(v,b+"enter",d,n,c),g.target=C,g.relatedTarget=m,x=g),m=x,p&&d)t:{for(g=p,v=d,b=0,C=g;C;C=Fa(C))b++;for(C=0,x=v;x;x=Fa(x))C++;for(;0<b-C;)g=Fa(g),b--;for(;0<C-b;)v=Fa(v),C--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=Fa(g),v=Fa(v)}g=null}else g=null;p!==null&&Qw(h,f,p,g,!1),d!==null&&m!==null&&Qw(h,m,d,g,!0)}}e:{if(f=u?Ja(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=iE;else if(zw(f))if(hS)_=lE;else{_=sE;var w=oE}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=aE);if(_&&(_=_(t,u))){uS(h,_,n,c);break e}w&&w(t,f,u),t==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&xm(f,"number",f.value)}switch(w=u?Ja(u):window,t){case"focusin":(zw(w)||w.contentEditable==="true")&&(Xa=w,Om=u,Wc=null);break;case"focusout":Wc=Om=Xa=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,qw(h,n,c);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":qw(h,n,c)}var y;if(ky)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Qa?lS(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(aS&&n.locale!=="ko"&&(Qa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Qa&&(y=sS()):(ts=c,xy="value"in ts?ts.value:ts.textContent,Qa=!0)),w=Bf(u,S),0<w.length&&(S=new Fw(S,t,null,n,c),h.push({event:S,listeners:w}),y?S.data=y:(y=cS(n),y!==null&&(S.data=y)))),(y=JM?eE(t,n):tE(t,n))&&(u=Bf(u,"onBeforeInput"),0<u.length&&(c=new Fw("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=y))}_S(h,e)})}function hu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=iu(t,n),o!=null&&r.unshift(hu(t,o,i)),o=iu(t,e),o!=null&&r.push(hu(t,o,i))),t=t.return}return r}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qw(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=iu(n,o),a!=null&&s.unshift(hu(n,a,l))):i||(a=iu(n,o),a!=null&&s.push(hu(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var gE=/\r\n?/g,mE=/\u0000|\uFFFD/g;function Xw(t){return(typeof t=="string"?t:""+t).replace(gE,`
`).replace(mE,"")}function jh(t,e,n){if(e=Xw(e),Xw(t)!==e&&n)throw Error(Ce(425))}function zf(){}var Dm=null,Fm=null;function Wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jm=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,yE=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw<"u"?function(t){return Zw.resolve(null).then(t).catch(wE)}:jm;function wE(t){setTimeout(function(){throw t})}function Cg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);au(e)}function ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zl=Math.random().toString(36).slice(2),Vi="__reactFiber$"+zl,fu="__reactProps$"+zl,xo="__reactContainer$"+zl,Bm="__reactEvents$"+zl,bE="__reactListeners$"+zl,_E="__reactHandles$"+zl;function Ys(t){var e=t[Vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xo]||n[Vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jw(t);t!==null;){if(n=t[Vi])return n;t=Jw(t)}return e}t=n,n=t.parentNode}return null}function Wu(t){return t=t[Vi]||t[xo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ce(33))}function Dd(t){return t[fu]||null}var zm=[],el=-1;function As(t){return{current:t}}function Xt(t){0>el||(t.current=zm[el],zm[el]=null,el--)}function qt(t,e){el++,zm[el]=t.current,t.current=e}var vs={},nr=As(vs),br=As(!1),ca=vs;function Cl(t,e){var n=t.type.contextTypes;if(!n)return vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _r(t){return t=t.childContextTypes,t!=null}function Hf(){Xt(br),Xt(nr)}function eb(t,e,n){if(nr.current!==vs)throw Error(Ce(168));qt(nr,e),qt(br,n)}function xS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ce(108,oM(t)||"Unknown",i));return dn({},n,r)}function Vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,ca=nr.current,qt(nr,t),qt(br,br.current),!0}function tb(t,e,n){var r=t.stateNode;if(!r)throw Error(Ce(169));n?(t=xS(t,e,ca),r.__reactInternalMemoizedMergedChildContext=t,Xt(br),Xt(nr),qt(nr,t)):Xt(br),qt(br,n)}var vo=null,Fd=!1,Tg=!1;function CS(t){vo===null?vo=[t]:vo.push(t)}function SE(t){Fd=!0,CS(t)}function Ms(){if(!Tg&&vo!==null){Tg=!0;var t=0,e=Nt;try{var n=vo;for(Nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vo=null,Fd=!1}catch(i){throw vo!==null&&(vo=vo.slice(t+1)),Y_(wy,Ms),i}finally{Nt=e,Tg=!1}}return null}var tl=[],nl=0,Uf=null,Gf=0,Qr=[],Xr=0,ua=null,yo=1,wo="";function Us(t,e){tl[nl++]=Gf,tl[nl++]=Uf,Uf=t,Gf=e}function TS(t,e,n){Qr[Xr++]=yo,Qr[Xr++]=wo,Qr[Xr++]=ua,ua=t;var r=yo;t=wo;var i=32-wi(r)-1;r&=~(1<<i),n+=1;var o=32-wi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,yo=1<<32-wi(e)+i|n<<i|r,wo=o+t}else yo=1<<o|n<<i|r,wo=t}function My(t){t.return!==null&&(Us(t,1),TS(t,1,0))}function Ey(t){for(;t===Uf;)Uf=tl[--nl],tl[nl]=null,Gf=tl[--nl],tl[nl]=null;for(;t===ua;)ua=Qr[--Xr],Qr[Xr]=null,wo=Qr[--Xr],Qr[Xr]=null,yo=Qr[--Xr],Qr[Xr]=null}var Or=null,Lr=null,nn=!1,pi=null;function kS(t,e){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Or=t,Lr=ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Or=t,Lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ua!==null?{id:yo,overflow:wo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Or=t,Lr=null,!0):!1;default:return!1}}function Hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vm(t){if(nn){var e=Lr;if(e){var n=e;if(!nb(t,e)){if(Hm(t))throw Error(Ce(418));e=ls(n.nextSibling);var r=Or;e&&nb(t,e)?kS(r,n):(t.flags=t.flags&-4097|2,nn=!1,Or=t)}}else{if(Hm(t))throw Error(Ce(418));t.flags=t.flags&-4097|2,nn=!1,Or=t}}}function rb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Or=t}function Bh(t){if(t!==Or)return!1;if(!nn)return rb(t),nn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wm(t.type,t.memoizedProps)),e&&(e=Lr)){if(Hm(t))throw AS(),Error(Ce(418));for(;e;)kS(t,e),e=ls(e.nextSibling)}if(rb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lr=ls(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lr=null}}else Lr=Or?ls(t.stateNode.nextSibling):null;return!0}function AS(){for(var t=Lr;t;)t=ls(t.nextSibling)}function Tl(){Lr=Or=null,nn=!1}function $y(t){pi===null?pi=[t]:pi.push(t)}var xE=No.ReactCurrentBatchConfig;function _c(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,t))}return t}function zh(t,e){throw t=Object.prototype.toString.call(e),Error(Ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ib(t){var e=t._init;return e(t._payload)}function MS(t){function e(v,b){if(t){var C=v.deletions;C===null?(v.deletions=[b],v.flags|=16):C.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=fs(v,b),v.index=0,v.sibling=null,v}function o(v,b,C){return v.index=C,t?(C=v.alternate,C!==null?(C=C.index,C<b?(v.flags|=2,b):C):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,b,C,x){return b===null||b.tag!==6?(b=Lg(C,v.mode,x),b.return=v,b):(b=i(b,C),b.return=v,b)}function a(v,b,C,x){var _=C.type;return _===Ya?c(v,b,C.props.children,x,C.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Yo&&ib(_)===b.type)?(x=i(b,C.props),x.ref=_c(v,b,C),x.return=v,x):(x=xf(C.type,C.key,C.props,null,v.mode,x),x.ref=_c(v,b,C),x.return=v,x)}function u(v,b,C,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=Ng(C,v.mode,x),b.return=v,b):(b=i(b,C.children||[]),b.return=v,b)}function c(v,b,C,x,_){return b===null||b.tag!==7?(b=ia(C,v.mode,x,_),b.return=v,b):(b=i(b,C),b.return=v,b)}function h(v,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Lg(""+b,v.mode,C),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rh:return C=xf(b.type,b.key,b.props,null,v.mode,C),C.ref=_c(v,null,b),C.return=v,C;case Ka:return b=Ng(b,v.mode,C),b.return=v,b;case Yo:var x=b._init;return h(v,x(b._payload),C)}if(Mc(b)||mc(b))return b=ia(b,v.mode,C,null),b.return=v,b;zh(v,b)}return null}function f(v,b,C,x){var _=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return _!==null?null:l(v,b,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Rh:return C.key===_?a(v,b,C,x):null;case Ka:return C.key===_?u(v,b,C,x):null;case Yo:return _=C._init,f(v,b,_(C._payload),x)}if(Mc(C)||mc(C))return _!==null?null:c(v,b,C,x,null);zh(v,C)}return null}function p(v,b,C,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(C)||null,l(b,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rh:return v=v.get(x.key===null?C:x.key)||null,a(b,v,x,_);case Ka:return v=v.get(x.key===null?C:x.key)||null,u(b,v,x,_);case Yo:var w=x._init;return p(v,b,C,w(x._payload),_)}if(Mc(x)||mc(x))return v=v.get(C)||null,c(b,v,x,_,null);zh(b,x)}return null}function d(v,b,C,x){for(var _=null,w=null,y=b,S=b=0,A=null;y!==null&&S<C.length;S++){y.index>S?(A=y,y=null):A=y.sibling;var M=f(v,y,C[S],x);if(M===null){y===null&&(y=A);break}t&&y&&M.alternate===null&&e(v,y),b=o(M,b,S),w===null?_=M:w.sibling=M,w=M,y=A}if(S===C.length)return n(v,y),nn&&Us(v,S),_;if(y===null){for(;S<C.length;S++)y=h(v,C[S],x),y!==null&&(b=o(y,b,S),w===null?_=y:w.sibling=y,w=y);return nn&&Us(v,S),_}for(y=r(v,y);S<C.length;S++)A=p(y,v,S,C[S],x),A!==null&&(t&&A.alternate!==null&&y.delete(A.key===null?S:A.key),b=o(A,b,S),w===null?_=A:w.sibling=A,w=A);return t&&y.forEach(function(R){return e(v,R)}),nn&&Us(v,S),_}function g(v,b,C,x){var _=mc(C);if(typeof _!="function")throw Error(Ce(150));if(C=_.call(C),C==null)throw Error(Ce(151));for(var w=_=null,y=b,S=b=0,A=null,M=C.next();y!==null&&!M.done;S++,M=C.next()){y.index>S?(A=y,y=null):A=y.sibling;var R=f(v,y,M.value,x);if(R===null){y===null&&(y=A);break}t&&y&&R.alternate===null&&e(v,y),b=o(R,b,S),w===null?_=R:w.sibling=R,w=R,y=A}if(M.done)return n(v,y),nn&&Us(v,S),_;if(y===null){for(;!M.done;S++,M=C.next())M=h(v,M.value,x),M!==null&&(b=o(M,b,S),w===null?_=M:w.sibling=M,w=M);return nn&&Us(v,S),_}for(y=r(v,y);!M.done;S++,M=C.next())M=p(y,v,S,M.value,x),M!==null&&(t&&M.alternate!==null&&y.delete(M.key===null?S:M.key),b=o(M,b,S),w===null?_=M:w.sibling=M,w=M);return t&&y.forEach(function(k){return e(v,k)}),nn&&Us(v,S),_}function m(v,b,C,x){if(typeof C=="object"&&C!==null&&C.type===Ya&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Rh:e:{for(var _=C.key,w=b;w!==null;){if(w.key===_){if(_=C.type,_===Ya){if(w.tag===7){n(v,w.sibling),b=i(w,C.props.children),b.return=v,v=b;break e}}else if(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Yo&&ib(_)===w.type){n(v,w.sibling),b=i(w,C.props),b.ref=_c(v,w,C),b.return=v,v=b;break e}n(v,w);break}else e(v,w);w=w.sibling}C.type===Ya?(b=ia(C.props.children,v.mode,x,C.key),b.return=v,v=b):(x=xf(C.type,C.key,C.props,null,v.mode,x),x.ref=_c(v,b,C),x.return=v,v=x)}return s(v);case Ka:e:{for(w=C.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){n(v,b.sibling),b=i(b,C.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=Ng(C,v.mode,x),b.return=v,v=b}return s(v);case Yo:return w=C._init,m(v,b,w(C._payload),x)}if(Mc(C))return d(v,b,C,x);if(mc(C))return g(v,b,C,x);zh(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,C),b.return=v,v=b):(n(v,b),b=Lg(C,v.mode,x),b.return=v,v=b),s(v)):n(v,b)}return m}var kl=MS(!0),ES=MS(!1),qf=As(null),Kf=null,rl=null,Ry=null;function Ly(){Ry=rl=Kf=null}function Ny(t){var e=qf.current;Xt(qf),t._currentValue=e}function Um(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vl(t,e){Kf=t,Ry=rl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wr=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(Ry!==t)if(t={context:t,memoizedValue:e,next:null},rl===null){if(Kf===null)throw Error(Ce(308));rl=t,Kf.dependencies={lanes:0,firstContext:t}}else rl=rl.next=t;return e}var Qs=null;function Py(t){Qs===null?Qs=[t]:Qs.push(t)}function $S(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Py(e)):(n.next=i.next,i.next=n),e.interleaved=n,Co(t,r)}function Co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qo=!1;function Oy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Co(t,n)}return i=r.interleaved,i===null?(e.next=e,Py(r)):(e.next=i.next,i.next=e),r.interleaved=e,Co(t,n)}function vf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,by(t,n)}}function ob(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yf(t,e,n,r){var i=t.updateQueue;Qo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var h=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var d=t,g=l;switch(f=e,p=n,g.tag){case 1:if(d=g.payload,typeof d=="function"){h=d.call(p,h,f);break e}h=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=g.payload,f=typeof d=="function"?d.call(p,h,f):d,f==null)break e;h=dn({},h,f);break e;case 2:Qo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=h):c=c.next=p,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fa|=s,t.lanes=s,t.memoizedState=h}}function sb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ce(191,i));i.call(r)}}}var ju={},Yi=As(ju),du=As(ju),pu=As(ju);function Xs(t){if(t===ju)throw Error(Ce(174));return t}function Iy(t,e){switch(qt(pu,e),qt(du,t),qt(Yi,ju),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tm(e,t)}Xt(Yi),qt(Yi,e)}function Al(){Xt(Yi),Xt(du),Xt(pu)}function LS(t){Xs(pu.current);var e=Xs(Yi.current),n=Tm(e,t.type);e!==n&&(qt(du,t),qt(Yi,n))}function Dy(t){du.current===t&&(Xt(Yi),Xt(du))}var un=As(0);function Qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kg=[];function Fy(){for(var t=0;t<kg.length;t++)kg[t]._workInProgressVersionPrimary=null;kg.length=0}var yf=No.ReactCurrentDispatcher,Ag=No.ReactCurrentBatchConfig,ha=0,fn=null,$n=null,On=null,Xf=!1,jc=!1,gu=0,CE=0;function qn(){throw Error(Ce(321))}function Wy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xi(t[n],e[n]))return!1;return!0}function jy(t,e,n,r,i,o){if(ha=o,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yf.current=t===null||t.memoizedState===null?ME:EE,t=n(r,i),jc){o=0;do{if(jc=!1,gu=0,25<=o)throw Error(Ce(301));o+=1,On=$n=null,e.updateQueue=null,yf.current=$E,t=n(r,i)}while(jc)}if(yf.current=Zf,e=$n!==null&&$n.next!==null,ha=0,On=$n=fn=null,Xf=!1,e)throw Error(Ce(300));return t}function By(){var t=gu!==0;return gu=0,t}function zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?fn.memoizedState=On=t:On=On.next=t,On}function ii(){if($n===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=$n.next;var e=On===null?fn.memoizedState:On.next;if(e!==null)On=e,$n=t;else{if(t===null)throw Error(Ce(310));$n=t,t={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},On===null?fn.memoizedState=On=t:On=On.next=t}return On}function mu(t,e){return typeof e=="function"?e(t):e}function Mg(t){var e=ii(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=$n,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((ha&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,s=r):a=a.next=h,fn.lanes|=c,fa|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,xi(r,e.memoizedState)||(wr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,fn.lanes|=o,fa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eg(t){var e=ii(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);xi(o,e.memoizedState)||(wr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function NS(){}function PS(t,e){var n=fn,r=ii(),i=e(),o=!xi(r.memoizedState,i);if(o&&(r.memoizedState=i,wr=!0),r=r.queue,zy(DS.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||On!==null&&On.memoizedState.tag&1){if(n.flags|=2048,vu(9,IS.bind(null,n,r,i,e),void 0,null),In===null)throw Error(Ce(349));ha&30||OS(n,e,i)}return i}function OS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IS(t,e,n,r){e.value=n,e.getSnapshot=r,FS(e)&&WS(t)}function DS(t,e,n){return n(function(){FS(e)&&WS(t)})}function FS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xi(t,n)}catch{return!0}}function WS(t){var e=Co(t,1);e!==null&&bi(e,t,1,-1)}function ab(t){var e=zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:t},e.queue=t,t=t.dispatch=AE.bind(null,fn,t),[e.memoizedState,t]}function vu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jS(){return ii().memoizedState}function wf(t,e,n,r){var i=zi();fn.flags|=t,i.memoizedState=vu(1|e,n,void 0,r===void 0?null:r)}function Wd(t,e,n,r){var i=ii();r=r===void 0?null:r;var o=void 0;if($n!==null){var s=$n.memoizedState;if(o=s.destroy,r!==null&&Wy(r,s.deps)){i.memoizedState=vu(e,n,o,r);return}}fn.flags|=t,i.memoizedState=vu(1|e,n,o,r)}function lb(t,e){return wf(8390656,8,t,e)}function zy(t,e){return Wd(2048,8,t,e)}function BS(t,e){return Wd(4,2,t,e)}function zS(t,e){return Wd(4,4,t,e)}function HS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VS(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4,4,HS.bind(null,e,t),n)}function Hy(){}function US(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GS(t,e){var n=ii();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qS(t,e,n){return ha&21?(xi(n,e)||(n=Z_(),fn.lanes|=n,fa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wr=!0),t.memoizedState=n)}function TE(t,e){var n=Nt;Nt=n!==0&&4>n?n:4,t(!0);var r=Ag.transition;Ag.transition={};try{t(!1),e()}finally{Nt=n,Ag.transition=r}}function KS(){return ii().memoizedState}function kE(t,e,n){var r=hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YS(t))QS(e,n);else if(n=$S(t,e,n,r),n!==null){var i=hr();bi(n,t,r,i),XS(n,e,r)}}function AE(t,e,n){var r=hs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YS(t))QS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,xi(l,s)){var a=e.interleaved;a===null?(i.next=i,Py(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=$S(t,e,i,r),n!==null&&(i=hr(),bi(n,t,r,i),XS(n,e,r))}}function YS(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function QS(t,e){jc=Xf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,by(t,n)}}var Zf={readContext:ri,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},ME={readContext:ri,useCallback:function(t,e){return zi().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:lb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wf(4194308,4,HS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wf(4194308,4,t,e)},useInsertionEffect:function(t,e){return wf(4,2,t,e)},useMemo:function(t,e){var n=zi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kE.bind(null,fn,t),[r.memoizedState,t]},useRef:function(t){var e=zi();return t={current:t},e.memoizedState=t},useState:ab,useDebugValue:Hy,useDeferredValue:function(t){return zi().memoizedState=t},useTransition:function(){var t=ab(!1),e=t[0];return t=TE.bind(null,t[1]),zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fn,i=zi();if(nn){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=e(),In===null)throw Error(Ce(349));ha&30||OS(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,lb(DS.bind(null,r,o,t),[t]),r.flags|=2048,vu(9,IS.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=zi(),e=In.identifierPrefix;if(nn){var n=wo,r=yo;n=(r&~(1<<32-wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EE={readContext:ri,useCallback:US,useContext:ri,useEffect:zy,useImperativeHandle:VS,useInsertionEffect:BS,useLayoutEffect:zS,useMemo:GS,useReducer:Mg,useRef:jS,useState:function(){return Mg(mu)},useDebugValue:Hy,useDeferredValue:function(t){var e=ii();return qS(e,$n.memoizedState,t)},useTransition:function(){var t=Mg(mu)[0],e=ii().memoizedState;return[t,e]},useMutableSource:NS,useSyncExternalStore:PS,useId:KS,unstable_isNewReconciler:!1},$E={readContext:ri,useCallback:US,useContext:ri,useEffect:zy,useImperativeHandle:VS,useInsertionEffect:BS,useLayoutEffect:zS,useMemo:GS,useReducer:Eg,useRef:jS,useState:function(){return Eg(mu)},useDebugValue:Hy,useDeferredValue:function(t){var e=ii();return $n===null?e.memoizedState=t:qS(e,$n.memoizedState,t)},useTransition:function(){var t=Eg(mu)[0],e=ii().memoizedState;return[t,e]},useMutableSource:NS,useSyncExternalStore:PS,useId:KS,unstable_isNewReconciler:!1};function fi(t,e){if(t&&t.defaultProps){e=dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jd={isMounted:function(t){return(t=t._reactInternals)?Sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hr(),i=hs(t),o=bo(r,i);o.payload=e,n!=null&&(o.callback=n),e=cs(t,o,i),e!==null&&(bi(e,t,i,r),vf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hr(),i=hs(t),o=bo(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=cs(t,o,i),e!==null&&(bi(e,t,i,r),vf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hr(),r=hs(t),i=bo(n,r);i.tag=2,e!=null&&(i.callback=e),e=cs(t,i,r),e!==null&&(bi(e,t,r,n),vf(e,t,r))}};function cb(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!cu(n,r)||!cu(i,o):!0}function ZS(t,e,n){var r=!1,i=vs,o=e.contextType;return typeof o=="object"&&o!==null?o=ri(o):(i=_r(e)?ca:nr.current,r=e.contextTypes,o=(r=r!=null)?Cl(t,i):vs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ub(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jd.enqueueReplaceState(e,e.state,null)}function qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Oy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ri(o):(o=_r(e)?ca:nr.current,i.context=Cl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Gm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jd.enqueueReplaceState(i,i.state,null),Yf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ml(t,e){try{var n="",r=e;do n+=iM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $g(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Km(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RE=typeof WeakMap=="function"?WeakMap:Map;function JS(t,e,n){n=bo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ed||(ed=!0,iv=r),Km(t,e)},n}function ex(t,e,n){n=bo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Km(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Km(t,e),typeof r!="function"&&(us===null?us=new Set([this]):us.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function hb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UE.bind(null,t,e,n),e.then(t,t))}function fb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function db(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bo(-1,1),e.tag=2,cs(n,e,1))),n.lanes|=1),t)}var LE=No.ReactCurrentOwner,wr=!1;function ar(t,e,n,r){e.child=t===null?ES(e,null,n,r):kl(e,t.child,n,r)}function pb(t,e,n,r,i){n=n.render;var o=e.ref;return vl(e,i),r=jy(t,e,n,r,o,i),n=By(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,To(t,e,i)):(nn&&n&&My(e),e.flags|=1,ar(t,e,r,i),e.child)}function gb(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Xy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,tx(t,e,o,r,i)):(t=xf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:cu,n(s,r)&&t.ref===e.ref)return To(t,e,i)}return e.flags|=1,t=fs(o,r),t.ref=e.ref,t.return=e,e.child=t}function tx(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(cu(o,r)&&t.ref===e.ref)if(wr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(wr=!0);else return e.lanes=t.lanes,To(t,e,i)}return Ym(t,e,n,r,i)}function nx(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(ol,Er),Er|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(ol,Er),Er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qt(ol,Er),Er|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qt(ol,Er),Er|=r;return ar(t,e,i,n),e.child}function rx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ym(t,e,n,r,i){var o=_r(n)?ca:nr.current;return o=Cl(e,o),vl(e,i),n=jy(t,e,n,r,o,i),r=By(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,To(t,e,i)):(nn&&r&&My(e),e.flags|=1,ar(t,e,n,i),e.child)}function mb(t,e,n,r,i){if(_r(n)){var o=!0;Vf(e)}else o=!1;if(vl(e,i),e.stateNode===null)bf(t,e),ZS(e,n,r),qm(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ri(u):(u=_r(n)?ca:nr.current,u=Cl(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ub(e,s,r,u),Qo=!1;var f=e.memoizedState;s.state=f,Yf(e,r,s,i),a=e.memoizedState,l!==r||f!==a||br.current||Qo?(typeof c=="function"&&(Gm(e,n,c,r),a=e.memoizedState),(l=Qo||cb(e,n,l,r,f,a,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,RS(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:fi(e.type,l),s.props=u,h=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ri(a):(a=_r(n)?ca:nr.current,a=Cl(e,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||f!==a)&&ub(e,s,r,a),Qo=!1,f=e.memoizedState,s.state=f,Yf(e,r,s,i);var d=e.memoizedState;l!==h||f!==d||br.current||Qo?(typeof p=="function"&&(Gm(e,n,p,r),d=e.memoizedState),(u=Qo||cb(e,n,u,r,f,d,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,d,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,d,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Qm(t,e,n,r,o,i)}function Qm(t,e,n,r,i,o){rx(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&tb(e,n,!1),To(t,e,o);r=e.stateNode,LE.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=kl(e,t.child,null,o),e.child=kl(e,null,l,o)):ar(t,e,l,o),e.memoizedState=r.state,i&&tb(e,n,!0),e.child}function ix(t){var e=t.stateNode;e.pendingContext?eb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eb(t,e.context,!1),Iy(t,e.containerInfo)}function vb(t,e,n,r,i){return Tl(),$y(i),e.flags|=256,ar(t,e,n,r),e.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Zm(t){return{baseLanes:t,cachePool:null,transitions:null}}function ox(t,e,n){var r=e.pendingProps,i=un.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qt(un,i&1),t===null)return Vm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Hd(s,r,0,null),t=ia(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Zm(n),e.memoizedState=Xm,t):Vy(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return NE(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=fs(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=fs(l,o):(o=ia(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Zm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Xm,r}return o=t.child,t=o.sibling,r=fs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vy(t,e){return e=Hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hh(t,e,n,r){return r!==null&&$y(r),kl(e,t.child,null,n),t=Vy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NE(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=$g(Error(Ce(422))),Hh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Hd({mode:"visible",children:r.children},i,0,null),o=ia(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&kl(e,t.child,null,s),e.child.memoizedState=Zm(s),e.memoizedState=Xm,o);if(!(e.mode&1))return Hh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(Ce(419)),r=$g(o,r,void 0),Hh(t,e,s,r)}if(l=(s&t.childLanes)!==0,wr||l){if(r=In,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Co(t,i),bi(r,t,i,-1))}return Qy(),r=$g(Error(Ce(421))),Hh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GE.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Lr=ls(i.nextSibling),Or=e,nn=!0,pi=null,t!==null&&(Qr[Xr++]=yo,Qr[Xr++]=wo,Qr[Xr++]=ua,yo=t.id,wo=t.overflow,ua=e),e=Vy(e,r.children),e.flags|=4096,e)}function yb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Um(t.return,e,n)}function Rg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function sx(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ar(t,e,r.children,n),r=un.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yb(t,n,e);else if(t.tag===19)yb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qt(un,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rg(e,!0,n,null,o);break;case"together":Rg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function To(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ce(153));if(e.child!==null){for(t=e.child,n=fs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PE(t,e,n){switch(e.tag){case 3:ix(e),Tl();break;case 5:LS(e);break;case 1:_r(e.type)&&Vf(e);break;case 4:Iy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qt(qf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qt(un,un.current&1),e.flags|=128,null):n&e.child.childLanes?ox(t,e,n):(qt(un,un.current&1),t=To(t,e,n),t!==null?t.sibling:null);qt(un,un.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(un,un.current),r)break;return null;case 22:case 23:return e.lanes=0,nx(t,e,n)}return To(t,e,n)}var ax,Jm,lx,cx;ax=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jm=function(){};lx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xs(Yi.current);var o=null;switch(n){case"input":i=_m(t,i),r=_m(t,r),o=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),o=[];break;case"textarea":i=Cm(t,i),r=Cm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zf)}km(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nu.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Yt("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};cx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sc(t,e){if(!nn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OE(t,e,n){var r=e.pendingProps;switch(Ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(e),null;case 1:return _r(e.type)&&Hf(),Kn(e),null;case 3:return r=e.stateNode,Al(),Xt(br),Xt(nr),Fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pi!==null&&(av(pi),pi=null))),Jm(t,e),Kn(e),null;case 5:Dy(e);var i=Xs(pu.current);if(n=e.type,t!==null&&e.stateNode!=null)lx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ce(166));return Kn(e),null}if(t=Xs(Yi.current),Bh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Vi]=e,r[fu]=o,t=(e.mode&1)!==0,n){case"dialog":Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(i=0;i<$c.length;i++)Yt($c[i],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"input":Aw(r,o),Yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Yt("invalid",r);break;case"textarea":Ew(r,o),Yt("invalid",r)}km(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&jh(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&jh(r.textContent,l,t),i=["children",""+l]):nu.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Yt("scroll",r)}switch(n){case"input":Lh(r),Mw(r,o,!0);break;case"textarea":Lh(r),$w(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=D_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Vi]=e,t[fu]=r,ax(t,e,!1,!1),e.stateNode=t;e:{switch(s=Am(n,r),n){case"dialog":Yt("cancel",t),Yt("close",t),i=r;break;case"iframe":case"object":case"embed":Yt("load",t),i=r;break;case"video":case"audio":for(i=0;i<$c.length;i++)Yt($c[i],t);i=r;break;case"source":Yt("error",t),i=r;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),i=r;break;case"details":Yt("toggle",t),i=r;break;case"input":Aw(t,r),i=_m(t,r),Yt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),Yt("invalid",t);break;case"textarea":Ew(t,r),i=Cm(t,r),Yt("invalid",t);break;default:i=r}km(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?j_(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&F_(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ru(t,a):typeof a=="number"&&ru(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(nu.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Yt("scroll",t):a!=null&&py(t,o,a,s))}switch(n){case"input":Lh(t),Mw(t,r,!1);break;case"textarea":Lh(t),$w(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ms(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?dl(t,!!r.multiple,o,!1):r.defaultValue!=null&&dl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kn(e),null;case 6:if(t&&e.stateNode!=null)cx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ce(166));if(n=Xs(pu.current),Xs(Yi.current),Bh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vi]=e,(o=r.nodeValue!==n)&&(t=Or,t!==null))switch(t.tag){case 3:jh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vi]=e,e.stateNode=r}return Kn(e),null;case 13:if(Xt(un),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nn&&Lr!==null&&e.mode&1&&!(e.flags&128))AS(),Tl(),e.flags|=98560,o=!1;else if(o=Bh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ce(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ce(317));o[Vi]=e}else Tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kn(e),o=!1}else pi!==null&&(av(pi),pi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||un.current&1?Rn===0&&(Rn=3):Qy())),e.updateQueue!==null&&(e.flags|=4),Kn(e),null);case 4:return Al(),Jm(t,e),t===null&&uu(e.stateNode.containerInfo),Kn(e),null;case 10:return Ny(e.type._context),Kn(e),null;case 17:return _r(e.type)&&Hf(),Kn(e),null;case 19:if(Xt(un),o=e.memoizedState,o===null)return Kn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Sc(o,!1);else{if(Rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Qf(t),s!==null){for(e.flags|=128,Sc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(un,un.current&1|2),e.child}t=t.sibling}o.tail!==null&&bn()>El&&(e.flags|=128,r=!0,Sc(o,!1),e.lanes=4194304)}else{if(!r)if(t=Qf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!nn)return Kn(e),null}else 2*bn()-o.renderingStartTime>El&&n!==1073741824&&(e.flags|=128,r=!0,Sc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bn(),e.sibling=null,n=un.current,qt(un,r?n&1|2:n&1),e):(Kn(e),null);case 22:case 23:return Yy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Er&1073741824&&(Kn(e),e.subtreeFlags&6&&(e.flags|=8192)):Kn(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function IE(t,e){switch(Ey(e),e.tag){case 1:return _r(e.type)&&Hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Al(),Xt(br),Xt(nr),Fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dy(e),null;case 13:if(Xt(un),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));Tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xt(un),null;case 4:return Al(),null;case 10:return Ny(e.type._context),null;case 22:case 23:return Yy(),null;case 24:return null;default:return null}}var Vh=!1,Jn=!1,DE=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function il(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(t,e,r)}else n.current=null}function ev(t,e,n){try{n()}catch(r){gn(t,e,r)}}var wb=!1;function FE(t,e){if(Dm=Wf,t=pS(),Ay(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(l=s+i),h!==o||r!==0&&h.nodeType!==3||(a=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fm={focusedElem:t,selectionRange:n},Wf=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var d=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var g=d.memoizedProps,m=d.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:fi(e.type,g),m);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(x){gn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return d=wb,wb=!1,d}function Bc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ev(e,n,o)}i=i.next}while(i!==r)}}function Bd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ux(t){var e=t.alternate;e!==null&&(t.alternate=null,ux(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vi],delete e[fu],delete e[Bm],delete e[bE],delete e[_E])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hx(t){return t.tag===5||t.tag===3||t.tag===4}function bb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zf));else if(r!==4&&(t=t.child,t!==null))for(nv(t,e,n),t=t.sibling;t!==null;)nv(t,e,n),t=t.sibling}function rv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rv(t,e,n),t=t.sibling;t!==null;)rv(t,e,n),t=t.sibling}var Bn=null,di=!1;function Vo(t,e,n){for(n=n.child;n!==null;)fx(t,e,n),n=n.sibling}function fx(t,e,n){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(Nd,n)}catch{}switch(n.tag){case 5:Jn||il(n,e);case 6:var r=Bn,i=di;Bn=null,Vo(t,e,n),Bn=r,di=i,Bn!==null&&(di?(t=Bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bn.removeChild(n.stateNode));break;case 18:Bn!==null&&(di?(t=Bn,n=n.stateNode,t.nodeType===8?Cg(t.parentNode,n):t.nodeType===1&&Cg(t,n),au(t)):Cg(Bn,n.stateNode));break;case 4:r=Bn,i=di,Bn=n.stateNode.containerInfo,di=!0,Vo(t,e,n),Bn=r,di=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ev(n,e,s),i=i.next}while(i!==r)}Vo(t,e,n);break;case 1:if(!Jn&&(il(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){gn(n,e,l)}Vo(t,e,n);break;case 21:Vo(t,e,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,Vo(t,e,n),Jn=r):Vo(t,e,n);break;default:Vo(t,e,n)}}function _b(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DE),e.forEach(function(r){var i=qE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ui(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Bn=l.stateNode,di=!1;break e;case 3:Bn=l.stateNode.containerInfo,di=!0;break e;case 4:Bn=l.stateNode.containerInfo,di=!0;break e}l=l.return}if(Bn===null)throw Error(Ce(160));fx(o,s,i),Bn=null,di=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){gn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dx(e,t),e=e.sibling}function dx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ui(e,t),Bi(t),r&4){try{Bc(3,t,t.return),Bd(3,t)}catch(g){gn(t,t.return,g)}try{Bc(5,t,t.return)}catch(g){gn(t,t.return,g)}}break;case 1:ui(e,t),Bi(t),r&512&&n!==null&&il(n,n.return);break;case 5:if(ui(e,t),Bi(t),r&512&&n!==null&&il(n,n.return),t.flags&32){var i=t.stateNode;try{ru(i,"")}catch(g){gn(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&O_(i,o),Am(l,s);var u=Am(l,o);for(s=0;s<a.length;s+=2){var c=a[s],h=a[s+1];c==="style"?j_(i,h):c==="dangerouslySetInnerHTML"?F_(i,h):c==="children"?ru(i,h):py(i,c,h,u)}switch(l){case"input":Sm(i,o);break;case"textarea":I_(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?dl(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?dl(i,!!o.multiple,o.defaultValue,!0):dl(i,!!o.multiple,o.multiple?[]:"",!1))}i[fu]=o}catch(g){gn(t,t.return,g)}}break;case 6:if(ui(e,t),Bi(t),r&4){if(t.stateNode===null)throw Error(Ce(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){gn(t,t.return,g)}}break;case 3:if(ui(e,t),Bi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{au(e.containerInfo)}catch(g){gn(t,t.return,g)}break;case 4:ui(e,t),Bi(t);break;case 13:ui(e,t),Bi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qy=bn())),r&4&&_b(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(u=Jn)||c,ui(e,t),Jn=u):ui(e,t),Bi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ie=t,c=t.child;c!==null;){for(h=Ie=c;Ie!==null;){switch(f=Ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:Bc(4,f,f.return);break;case 1:il(f,f.return);var d=f.stateNode;if(typeof d.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,d.props=e.memoizedProps,d.state=e.memoizedState,d.componentWillUnmount()}catch(g){gn(r,n,g)}}break;case 5:il(f,f.return);break;case 22:if(f.memoizedState!==null){xb(h);continue}}p!==null?(p.return=f,Ie=p):xb(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=W_("display",s))}catch(g){gn(t,t.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){gn(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ui(e,t),Bi(t),r&4&&_b(t);break;case 21:break;default:ui(e,t),Bi(t)}}function Bi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hx(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ru(i,""),r.flags&=-33);var o=bb(t);rv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=bb(t);nv(t,l,s);break;default:throw Error(Ce(161))}}catch(a){gn(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WE(t,e,n){Ie=t,px(t)}function px(t,e,n){for(var r=(t.mode&1)!==0;Ie!==null;){var i=Ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Vh;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Jn;l=Vh;var u=Jn;if(Vh=s,(Jn=a)&&!u)for(Ie=i;Ie!==null;)s=Ie,a=s.child,s.tag===22&&s.memoizedState!==null?Cb(i):a!==null?(a.return=s,Ie=a):Cb(i);for(;o!==null;)Ie=o,px(o),o=o.sibling;Ie=i,Vh=l,Jn=u}Sb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ie=o):Sb(t)}}function Sb(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||Bd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&sb(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sb(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&au(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Jn||e.flags&512&&tv(e)}catch(f){gn(e,e.return,f)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function xb(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function Cb(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bd(4,e)}catch(a){gn(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){gn(e,i,a)}}var o=e.return;try{tv(e)}catch(a){gn(e,o,a)}break;case 5:var s=e.return;try{tv(e)}catch(a){gn(e,s,a)}}}catch(a){gn(e,e.return,a)}if(e===t){Ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ie=l;break}Ie=e.return}}var jE=Math.ceil,Jf=No.ReactCurrentDispatcher,Uy=No.ReactCurrentOwner,ei=No.ReactCurrentBatchConfig,Tt=0,In=null,An=null,zn=0,Er=0,ol=As(0),Rn=0,yu=null,fa=0,zd=0,Gy=0,zc=null,vr=null,qy=0,El=1/0,po=null,ed=!1,iv=null,us=null,Uh=!1,ns=null,td=0,Hc=0,ov=null,_f=-1,Sf=0;function hr(){return Tt&6?bn():_f!==-1?_f:_f=bn()}function hs(t){return t.mode&1?Tt&2&&zn!==0?zn&-zn:xE.transition!==null?(Sf===0&&(Sf=Z_()),Sf):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:oS(t.type)),t):1}function bi(t,e,n,r){if(50<Hc)throw Hc=0,ov=null,Error(Ce(185));Du(t,n,r),(!(Tt&2)||t!==In)&&(t===In&&(!(Tt&2)&&(zd|=n),Rn===4&&Jo(t,zn)),Sr(t,r),n===1&&Tt===0&&!(e.mode&1)&&(El=bn()+500,Fd&&Ms()))}function Sr(t,e){var n=t.callbackNode;xM(t,e);var r=Ff(t,t===In?zn:0);if(r===0)n!==null&&Nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nw(n),e===1)t.tag===0?SE(Tb.bind(null,t)):CS(Tb.bind(null,t)),yE(function(){!(Tt&6)&&Ms()}),n=null;else{switch(J_(r)){case 1:n=wy;break;case 4:n=Q_;break;case 16:n=Df;break;case 536870912:n=X_;break;default:n=Df}n=Sx(n,gx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gx(t,e){if(_f=-1,Sf=0,Tt&6)throw Error(Ce(327));var n=t.callbackNode;if(yl()&&t.callbackNode!==n)return null;var r=Ff(t,t===In?zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nd(t,r);else{e=r;var i=Tt;Tt|=2;var o=vx();(In!==t||zn!==e)&&(po=null,El=bn()+500,ra(t,e));do try{HE();break}catch(l){mx(t,l)}while(!0);Ly(),Jf.current=o,Tt=i,An!==null?e=0:(In=null,zn=0,e=Rn)}if(e!==0){if(e===2&&(i=Lm(t),i!==0&&(r=i,e=sv(t,i))),e===1)throw n=yu,ra(t,0),Jo(t,r),Sr(t,bn()),n;if(e===6)Jo(t,r);else{if(i=t.current.alternate,!(r&30)&&!BE(i)&&(e=nd(t,r),e===2&&(o=Lm(t),o!==0&&(r=o,e=sv(t,o))),e===1))throw n=yu,ra(t,0),Jo(t,r),Sr(t,bn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ce(345));case 2:Gs(t,vr,po);break;case 3:if(Jo(t,r),(r&130023424)===r&&(e=qy+500-bn(),10<e)){if(Ff(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jm(Gs.bind(null,t,vr,po),e);break}Gs(t,vr,po);break;case 4:if(Jo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-wi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jE(r/1960))-r,10<r){t.timeoutHandle=jm(Gs.bind(null,t,vr,po),r);break}Gs(t,vr,po);break;case 5:Gs(t,vr,po);break;default:throw Error(Ce(329))}}}return Sr(t,bn()),t.callbackNode===n?gx.bind(null,t):null}function sv(t,e){var n=zc;return t.current.memoizedState.isDehydrated&&(ra(t,e).flags|=256),t=nd(t,e),t!==2&&(e=vr,vr=n,e!==null&&av(e)),t}function av(t){vr===null?vr=t:vr.push.apply(vr,t)}function BE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jo(t,e){for(e&=~Gy,e&=~zd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wi(e),r=1<<n;t[n]=-1,e&=~r}}function Tb(t){if(Tt&6)throw Error(Ce(327));yl();var e=Ff(t,0);if(!(e&1))return Sr(t,bn()),null;var n=nd(t,e);if(t.tag!==0&&n===2){var r=Lm(t);r!==0&&(e=r,n=sv(t,r))}if(n===1)throw n=yu,ra(t,0),Jo(t,e),Sr(t,bn()),n;if(n===6)throw Error(Ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gs(t,vr,po),Sr(t,bn()),null}function Ky(t,e){var n=Tt;Tt|=1;try{return t(e)}finally{Tt=n,Tt===0&&(El=bn()+500,Fd&&Ms())}}function da(t){ns!==null&&ns.tag===0&&!(Tt&6)&&yl();var e=Tt;Tt|=1;var n=ei.transition,r=Nt;try{if(ei.transition=null,Nt=1,t)return t()}finally{Nt=r,ei.transition=n,Tt=e,!(Tt&6)&&Ms()}}function Yy(){Er=ol.current,Xt(ol)}function ra(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vE(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(Ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hf();break;case 3:Al(),Xt(br),Xt(nr),Fy();break;case 5:Dy(r);break;case 4:Al();break;case 13:Xt(un);break;case 19:Xt(un);break;case 10:Ny(r.type._context);break;case 22:case 23:Yy()}n=n.return}if(In=t,An=t=fs(t.current,null),zn=Er=e,Rn=0,yu=null,Gy=zd=fa=0,vr=zc=null,Qs!==null){for(e=0;e<Qs.length;e++)if(n=Qs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Qs=null}return t}function mx(t,e){do{var n=An;try{if(Ly(),yf.current=Zf,Xf){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xf=!1}if(ha=0,On=$n=fn=null,jc=!1,gu=0,Uy.current=null,n===null||n.return===null){Rn=1,yu=e,An=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=zn,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=fb(s);if(p!==null){p.flags&=-257,db(p,s,l,o,e),p.mode&1&&hb(o,u,e),e=p,a=u;var d=e.updateQueue;if(d===null){var g=new Set;g.add(a),e.updateQueue=g}else d.add(a);break e}else{if(!(e&1)){hb(o,u,e),Qy();break e}a=Error(Ce(426))}}else if(nn&&l.mode&1){var m=fb(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),db(m,s,l,o,e),$y(Ml(a,l));break e}}o=a=Ml(a,l),Rn!==4&&(Rn=2),zc===null?zc=[o]:zc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=JS(o,a,e);ob(o,v);break e;case 1:l=a;var b=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(us===null||!us.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=ex(o,l,e);ob(o,x);break e}}o=o.return}while(o!==null)}wx(n)}catch(_){e=_,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function vx(){var t=Jf.current;return Jf.current=Zf,t===null?Zf:t}function Qy(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),In===null||!(fa&268435455)&&!(zd&268435455)||Jo(In,zn)}function nd(t,e){var n=Tt;Tt|=2;var r=vx();(In!==t||zn!==e)&&(po=null,ra(t,e));do try{zE();break}catch(i){mx(t,i)}while(!0);if(Ly(),Tt=n,Jf.current=r,An!==null)throw Error(Ce(261));return In=null,zn=0,Rn}function zE(){for(;An!==null;)yx(An)}function HE(){for(;An!==null&&!pM();)yx(An)}function yx(t){var e=_x(t.alternate,t,Er);t.memoizedProps=t.pendingProps,e===null?wx(t):An=e,Uy.current=null}function wx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IE(n,e),n!==null){n.flags&=32767,An=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rn=6,An=null;return}}else if(n=OE(n,e,Er),n!==null){An=n;return}if(e=e.sibling,e!==null){An=e;return}An=e=t}while(e!==null);Rn===0&&(Rn=5)}function Gs(t,e,n){var r=Nt,i=ei.transition;try{ei.transition=null,Nt=1,VE(t,e,n,r)}finally{ei.transition=i,Nt=r}return null}function VE(t,e,n,r){do yl();while(ns!==null);if(Tt&6)throw Error(Ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ce(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(CM(t,o),t===In&&(An=In=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uh||(Uh=!0,Sx(Df,function(){return yl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ei.transition,ei.transition=null;var s=Nt;Nt=1;var l=Tt;Tt|=4,Uy.current=null,FE(t,n),dx(n,t),uE(Fm),Wf=!!Dm,Fm=Dm=null,t.current=n,WE(n),gM(),Tt=l,Nt=s,ei.transition=o}else t.current=n;if(Uh&&(Uh=!1,ns=t,td=i),o=t.pendingLanes,o===0&&(us=null),yM(n.stateNode),Sr(t,bn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ed)throw ed=!1,t=iv,iv=null,t;return td&1&&t.tag!==0&&yl(),o=t.pendingLanes,o&1?t===ov?Hc++:(Hc=0,ov=t):Hc=0,Ms(),null}function yl(){if(ns!==null){var t=J_(td),e=ei.transition,n=Nt;try{if(ei.transition=null,Nt=16>t?16:t,ns===null)var r=!1;else{if(t=ns,ns=null,td=0,Tt&6)throw Error(Ce(331));var i=Tt;for(Tt|=4,Ie=t.current;Ie!==null;){var o=Ie,s=o.child;if(Ie.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Ie=u;Ie!==null;){var c=Ie;switch(c.tag){case 0:case 11:case 15:Bc(8,c,o)}var h=c.child;if(h!==null)h.return=c,Ie=h;else for(;Ie!==null;){c=Ie;var f=c.sibling,p=c.return;if(ux(c),c===u){Ie=null;break}if(f!==null){f.return=p,Ie=f;break}Ie=p}}}var d=o.alternate;if(d!==null){var g=d.child;if(g!==null){d.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}Ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ie=s;else e:for(;Ie!==null;){if(o=Ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Ie=v;break e}Ie=o.return}}var b=t.current;for(Ie=b;Ie!==null;){s=Ie;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,Ie=C;else e:for(s=b;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bd(9,l)}}catch(_){gn(l,l.return,_)}if(l===s){Ie=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,Ie=x;break e}Ie=l.return}}if(Tt=i,Ms(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(Nd,t)}catch{}r=!0}return r}finally{Nt=n,ei.transition=e}}return!1}function kb(t,e,n){e=Ml(n,e),e=JS(t,e,1),t=cs(t,e,1),e=hr(),t!==null&&(Du(t,1,e),Sr(t,e))}function gn(t,e,n){if(t.tag===3)kb(t,t,n);else for(;e!==null;){if(e.tag===3){kb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(us===null||!us.has(r))){t=Ml(n,t),t=ex(e,t,1),e=cs(e,t,1),t=hr(),e!==null&&(Du(e,1,t),Sr(e,t));break}}e=e.return}}function UE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hr(),t.pingedLanes|=t.suspendedLanes&n,In===t&&(zn&n)===n&&(Rn===4||Rn===3&&(zn&130023424)===zn&&500>bn()-qy?ra(t,0):Gy|=n),Sr(t,e)}function bx(t,e){e===0&&(t.mode&1?(e=Oh,Oh<<=1,!(Oh&130023424)&&(Oh=4194304)):e=1);var n=hr();t=Co(t,e),t!==null&&(Du(t,e,n),Sr(t,n))}function GE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bx(t,n)}function qE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(e),bx(t,n)}var _x;_x=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)wr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wr=!1,PE(t,e,n);wr=!!(t.flags&131072)}else wr=!1,nn&&e.flags&1048576&&TS(e,Gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bf(t,e),t=e.pendingProps;var i=Cl(e,nr.current);vl(e,n),i=jy(null,e,r,t,i,n);var o=By();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(r)?(o=!0,Vf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oy(e),i.updater=jd,e.stateNode=i,i._reactInternals=e,qm(e,r,t,n),e=Qm(null,e,r,!0,o,n)):(e.tag=0,nn&&o&&My(e),ar(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YE(r),t=fi(r,t),i){case 0:e=Ym(null,e,r,t,n);break e;case 1:e=mb(null,e,r,t,n);break e;case 11:e=pb(null,e,r,t,n);break e;case 14:e=gb(null,e,r,fi(r.type,t),n);break e}throw Error(Ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fi(r,i),Ym(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fi(r,i),mb(t,e,r,i,n);case 3:e:{if(ix(e),t===null)throw Error(Ce(387));r=e.pendingProps,o=e.memoizedState,i=o.element,RS(t,e),Yf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ml(Error(Ce(423)),e),e=vb(t,e,r,n,i);break e}else if(r!==i){i=Ml(Error(Ce(424)),e),e=vb(t,e,r,n,i);break e}else for(Lr=ls(e.stateNode.containerInfo.firstChild),Or=e,nn=!0,pi=null,n=ES(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tl(),r===i){e=To(t,e,n);break e}ar(t,e,r,n)}e=e.child}return e;case 5:return LS(e),t===null&&Vm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Wm(r,i)?s=null:o!==null&&Wm(r,o)&&(e.flags|=32),rx(t,e),ar(t,e,s,n),e.child;case 6:return t===null&&Vm(e),null;case 13:return ox(t,e,n);case 4:return Iy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kl(e,null,r,n):ar(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fi(r,i),pb(t,e,r,i,n);case 7:return ar(t,e,e.pendingProps,n),e.child;case 8:return ar(t,e,e.pendingProps.children,n),e.child;case 12:return ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,qt(qf,r._currentValue),r._currentValue=s,o!==null)if(xi(o.value,s)){if(o.children===i.children&&!br.current){e=To(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=bo(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Um(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ce(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Um(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ar(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vl(e,n),i=ri(i),r=r(i),e.flags|=1,ar(t,e,r,n),e.child;case 14:return r=e.type,i=fi(r,e.pendingProps),i=fi(r.type,i),gb(t,e,r,i,n);case 15:return tx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fi(r,i),bf(t,e),e.tag=1,_r(r)?(t=!0,Vf(e)):t=!1,vl(e,n),ZS(e,r,i),qm(e,r,i,n),Qm(null,e,r,!0,t,n);case 19:return sx(t,e,n);case 22:return nx(t,e,n)}throw Error(Ce(156,e.tag))};function Sx(t,e){return Y_(t,e)}function KE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(t,e,n,r){return new KE(t,e,n,r)}function Xy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YE(t){if(typeof t=="function")return Xy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===my)return 11;if(t===vy)return 14}return 2}function fs(t,e){var n=t.alternate;return n===null?(n=Zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Xy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ya:return ia(n.children,i,o,e);case gy:s=8,i|=8;break;case vm:return t=Zr(12,n,e,i|2),t.elementType=vm,t.lanes=o,t;case ym:return t=Zr(13,n,e,i),t.elementType=ym,t.lanes=o,t;case wm:return t=Zr(19,n,e,i),t.elementType=wm,t.lanes=o,t;case L_:return Hd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $_:s=10;break e;case R_:s=9;break e;case my:s=11;break e;case vy:s=14;break e;case Yo:s=16,r=null;break e}throw Error(Ce(130,t==null?t:typeof t,""))}return e=Zr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ia(t,e,n,r){return t=Zr(7,t,r,e),t.lanes=n,t}function Hd(t,e,n,r){return t=Zr(22,t,r,e),t.elementType=L_,t.lanes=n,t.stateNode={isHidden:!1},t}function Lg(t,e,n){return t=Zr(6,t,null,e),t.lanes=n,t}function Ng(t,e,n){return e=Zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dg(0),this.expirationTimes=dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zy(t,e,n,r,i,o,s,l,a){return t=new QE(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(o),t}function XE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xx(t){if(!t)return vs;t=t._reactInternals;e:{if(Sa(t)!==t||t.tag!==1)throw Error(Ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(t.tag===1){var n=t.type;if(_r(n))return xS(t,n,e)}return e}function Cx(t,e,n,r,i,o,s,l,a){return t=Zy(n,r,!0,t,i,o,s,l,a),t.context=xx(null),n=t.current,r=hr(),i=hs(n),o=bo(r,i),o.callback=e??null,cs(n,o,i),t.current.lanes=i,Du(t,i,r),Sr(t,r),t}function Vd(t,e,n,r){var i=e.current,o=hr(),s=hs(i);return n=xx(n),e.context===null?e.context=n:e.pendingContext=n,e=bo(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cs(i,e,s),t!==null&&(bi(t,i,s,o),vf(t,i,s)),s}function rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ab(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jy(t,e){Ab(t,e),(t=t.alternate)&&Ab(t,e)}function ZE(){return null}var Tx=typeof reportError=="function"?reportError:function(t){console.error(t)};function e0(t){this._internalRoot=t}Ud.prototype.render=e0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ce(409));Vd(t,e,null,null)};Ud.prototype.unmount=e0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;da(function(){Vd(null,t,null,null)}),e[xo]=null}};function Ud(t){this._internalRoot=t}Ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=nS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zo.length&&e!==0&&e<Zo[n].priority;n++);Zo.splice(n,0,t),n===0&&iS(t)}};function t0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mb(){}function JE(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rd(s);o.call(u)}}var s=Cx(e,r,t,0,null,!1,!1,"",Mb);return t._reactRootContainer=s,t[xo]=s.current,uu(t.nodeType===8?t.parentNode:t),da(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=rd(a);l.call(u)}}var a=Zy(t,0,!1,null,null,!1,!1,"",Mb);return t._reactRootContainer=a,t[xo]=a.current,uu(t.nodeType===8?t.parentNode:t),da(function(){Vd(e,a,n,r)}),a}function qd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=rd(s);l.call(a)}}Vd(e,s,t,i)}else s=JE(n,e,t,i,r);return rd(s)}eS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ec(e.pendingLanes);n!==0&&(by(e,n|1),Sr(e,bn()),!(Tt&6)&&(El=bn()+500,Ms()))}break;case 13:da(function(){var r=Co(t,1);if(r!==null){var i=hr();bi(r,t,1,i)}}),Jy(t,1)}};_y=function(t){if(t.tag===13){var e=Co(t,134217728);if(e!==null){var n=hr();bi(e,t,134217728,n)}Jy(t,134217728)}};tS=function(t){if(t.tag===13){var e=hs(t),n=Co(t,e);if(n!==null){var r=hr();bi(n,t,e,r)}Jy(t,e)}};nS=function(){return Nt};rS=function(t,e){var n=Nt;try{return Nt=t,e()}finally{Nt=n}};Em=function(t,e,n){switch(e){case"input":if(Sm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dd(r);if(!i)throw Error(Ce(90));P_(r),Sm(r,i)}}}break;case"textarea":I_(t,n);break;case"select":e=n.value,e!=null&&dl(t,!!n.multiple,e,!1)}};H_=Ky;V_=da;var e$={usingClientEntryPoint:!1,Events:[Wu,Ja,Dd,B_,z_,Ky]},xc={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t$={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:No.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q_(t),t===null?null:t.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||ZE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Nd=Gh.inject(t$),Ki=Gh}catch{}}jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e$;jr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t0(e))throw Error(Ce(200));return XE(t,e,null,n)};jr.createRoot=function(t,e){if(!t0(t))throw Error(Ce(299));var n=!1,r="",i=Tx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zy(t,1,!1,null,null,n,!1,r,i),t[xo]=e.current,uu(t.nodeType===8?t.parentNode:t),new e0(e)};jr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ce(188)):(t=Object.keys(t).join(","),Error(Ce(268,t)));return t=q_(e),t=t===null?null:t.stateNode,t};jr.flushSync=function(t){return da(t)};jr.hydrate=function(t,e,n){if(!Gd(e))throw Error(Ce(200));return qd(null,t,e,!0,n)};jr.hydrateRoot=function(t,e,n){if(!t0(t))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Tx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Cx(e,null,t,1,n??null,i,!1,o,s),t[xo]=e.current,uu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ud(e)};jr.render=function(t,e,n){if(!Gd(e))throw Error(Ce(200));return qd(null,t,e,!1,n)};jr.unmountComponentAtNode=function(t){if(!Gd(t))throw Error(Ce(40));return t._reactRootContainer?(da(function(){qd(null,null,t,!1,function(){t._reactRootContainer=null,t[xo]=null})}),!0):!1};jr.unstable_batchedUpdates=Ky;jr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gd(n))throw Error(Ce(200));if(t==null||t._reactInternals===void 0)throw Error(Ce(38));return qd(t,e,n,!1,r)};jr.version="18.3.1-next-f1338f8080-20240426";function kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kx)}catch(t){console.error(t)}}kx(),k_.exports=jr;var Hl=k_.exports;const n$=Wl(Hl);var Ax,Eb=Hl;Ax=Eb.createRoot,Eb.hydrateRoot;function Nr(t,e,n){for(let r of t)if(r[e]==n)return r;return null}function r$(t,e,n){let r=-1;return t.forEach((i,o)=>{i[e]==n&&r==-1&&(r=o)}),r}function er(t,e){let n=[];for(let r in t){const i=t[r],o=e(i,r);o!==void 0&&n.push(o)}return n}function i$(t,e){for(let n of e)t.push(n);return t}function jt(t,e){return e!=null?(t.push(e),!0):!1}function o$(t,e){return e!=null?(t(e),!0):!1}function lr(t,e){return t in{}?!1:t in e}function s$(t,e){let n=0;return t.forEach(r=>{r==e&&(n+=1)}),n}function Wa(t,e,n){for(;t.length<e;)t.push(n())}function Hs(t,e,n,r,i){for(;t.length<e;)t.push(i());for(let o=0;o<n;o++)t[e+o]=r}function a$(t,e,n,r,i){for(r==-1&&(r=e.length);t.length<n;)t.push(i());for(let o=0;o<r;o++)t[n+o]=o<e.length?e[o]:i()}const It={document:0,article:1,fragment:2,part:3,lyricLine:4},Mx=["document","article","fragment","part","lyricLine"],Pg=[void 0,"=","-",void 0,void 0];function oa(t){return Nr(id,"head",t)??Nr(id,"headFull",t)??void 0}function l$(t,e){return t.levels.slice().sort((n,r)=>Math.abs(n-e)-Math.abs(r-e))[0]}const id=[{head:"Dt",headFull:"DocTitle",contentType:"text",hasProps:"none",propsType:"none",unique:"Dt",levels:[It.document]},{head:"Dp",headFull:"DocPrescript",contentType:"text",hasProps:"none",propsType:"none",unique:"Dp",levels:[It.document]},{head:"Dv",headFull:"DocVersion",contentType:"text",hasProps:"none",propsType:"none",unique:"Dv",levels:[It.document]},{head:"Ds",headFull:"DocSubtitle",contentType:"text",hasProps:"none",propsType:"none",unique:"Ds",levels:[It.document]},{head:"Da",headFull:"DocAuthor",contentType:"text",hasProps:"optional",propsType:"text",levels:[It.document]},{head:"Df",headFull:"DocFootnote",contentType:"text",hasProps:"optional",propsType:"text",levels:[It.document],allowTail:!0},{head:"Dl",headFull:"DescenderLeft",contentType:"text",hasProps:"none",propsType:"none",unique:"Dl",levels:[It.document]},{head:"Dr",headFull:"DescenderRight",contentType:"text",hasProps:"none",propsType:"none",unique:"Dr",levels:[It.document]},{head:"P",headFull:"Props",contentType:"separated",hasProps:"none",propsType:"none",required:"P",unique:"P",levels:[It.document]},{head:"Pi",headFull:"PropsImplicit",contentType:"separated",hasProps:"none",propsType:"none",required:"P",unique:"P",levels:[It.document]},{head:"Rp",headFull:"RenderProps",contentType:"separated",hasProps:"none",propsType:"none",levels:[It.document]},{head:"T",headFull:"Text",contentType:"text",hasProps:"none",propsType:"none",levels:[It.article],special:!0},{head:"S",headFull:"Section",contentType:"text",hasProps:"none",propsType:"none",unique:"S",levels:[It.article],special:"none"},{head:"Srp",headFull:"SectionRenderProps",contentType:"text",hasProps:"none",propsType:"none",levels:[It.article],special:"none"},{head:"Sp",headFull:"SectionProps",contentType:"separated",hasProps:"none",propsType:"none",unique:"Sp",levels:[It.article]},{head:"B",headFull:"Break",contentType:"none",hasProps:"none",propsType:"none",unique:"B",levels:[It.fragment]},{head:"J",headFull:"Jumper",contentType:"tokenized",hasProps:"none",propsType:"none",unique:"J",levels:[It.fragment]},{head:"Frp",headFull:"FragmentRenderProps",contentType:"separated",hasProps:"none",propsType:"none",levels:[It.fragment]},{head:"N",headFull:"Notes",contentType:"tokenized",hasProps:"optional",propsType:"multiple",unique:"N",required:"N",levels:[It.part]},{head:"Na",headFull:"NotesAccompany",contentType:"tokenized",hasProps:"optional",propsType:"multiple",unique:"N",required:"N",levels:[It.part]},{head:"Nc",headFull:"NotesCompact",contentType:"tokenized",hasProps:"optional",propsType:"multiple",unique:"N",required:"N",levels:[It.part]},{head:"L",headFull:"Lyric",contentType:"tokenized",hasProps:"optional",propsType:"multiple",unique:"L",required:"L",levels:[It.lyricLine]},{head:"Lc",headFull:"LyricChar",contentType:"tokenized",hasProps:"optional",propsType:"multiple",unique:"L",required:"L",levels:[It.lyricLine]},{head:"Lw",headFull:"LyricWord",contentType:"tokenized",hasProps:"optional",propsType:"multiple",unique:"L",required:"L",levels:[It.lyricLine]},{head:"Ns",headFull:"NotesSubstitute",contentType:"tokenized",hasProps:"optional",propsType:"multiple",levels:[It.lyricLine]},{head:"A",headFull:"Annotation",contentType:"tokenized",hasProps:"optional",propsType:"text",levels:[It.part,It.lyricLine]},{head:"La",headFull:"LyricAnnotation",contentType:"tokenized",hasProps:"none",propsType:"none",unique:"La",levels:[It.lyricLine]}];function Ex(t,e){const n=Object.assign({},t,{lines:[],children:[],uniqueLines:{}});for(let r of t.lines)n.lines.push(e(r,t.levelName));for(let r in t.uniqueLines)n.uniqueLines[r]=e(t.uniqueLines[r],t.levelName);for(let r of t.children)n.children.push(Ex(r,e));return n}class c${constructor(e){ge(this,"input",[]);ge(this,"currentPtr",0);this.input=e}peek(){return this.input[this.currentPtr]}pass(){return this.input[this.currentPtr++]}parse(e){this.currentPtr=0;let n=[];return this.handleLevel(0,n,e),n.length==0?(De(e,0,0,"warning","empty_document","The document appears to be empty."),{lineNumber:0,levelName:"document",lines:[],uniqueLines:{},children:[]}):n[0]}handleLevel(e,n,r){let i=null;function o(){if(i===null)return;const s=i;(()=>{if(s.lines.length==0&&s.children.length==0)return s.finalized||De(r,s.lineNumber,0,"warning","empty_tree","The ${0} is discarded due to containing nothing",s.levelName),!0;let a="none",u=!1;for(let h of s.lines){const f=oa(h.head);if(f.special!="none")if(f.special){if(a=="false"){u=!0;break}a="true"}else{if(a=="true"){u=!0;break}a="false"}}if(u){let h=Pg[e];return h==null&&(h=""),De(r,s.lineNumber,0,"error","mixed_article","A ${0} cannot contain both music and text. Please separate them into two ${0}s using `${2}`.",s.levelName,h.repeat(3)),!0}a=="true"&&s.children.length!=0&&(De(r,s.children[0].lineNumber,0,"error","special_children","The ${0} should contain no ${1}.",s.levelName,s.children[0].levelName),s.children=[]);let c={};for(let h of s.lines){const f=oa(h.head);f.required!==void 0&&(c[f.required]=!0)}for(let h of id)if(h.levels.indexOf(e)!=-1&&h.required!==void 0&&!(h.required in c))return De(r,s.lineNumber,0,"error","lack_required","The ${0} requires a ${1} (${2}) but it is not present.",s.levelName,h.head,h.headFull),!0;return!1})()&&(n.pop(),n.length>0?i=n[n.length-1]:i=null)}for(;;){let s=function(){const p={lineNumber:u.lineNumber,levelName:Mx[e],lines:[],uniqueLines:{},children:[],finalized:!1};return n.push(p),i=p,p},l=function(){i===null&&s()};const a=this.peek();if(a===void 0)break;const u=a;if(u.type=="delimiter"){const p=Pg.indexOf(u.char);if(p==-1){this.pass();continue}if(p<e)break;if(p>e){l();const d=i;d.finalized=!0,this.handleLevel(e+1,d.children,r);continue}o(),s(),this.pass();continue}const c=oa(u.head);if(c===void 0){De(r,u.lineNumber,0,"error","unknown_command","Unknown command head ${0}",u.head),this.pass();continue}const h=l$(c,e);if(h<e)break;if(h>e){l();const p=i;p.finalized=!0,this.handleLevel(e+1,p.children,r);continue}if(c.unique!==void 0&&c.required!==void 0&&i!==null){const p=i;c.unique in p.uniqueLines&&(e>0?(o(),s()):De(r,u.lineNumber,0,"error","second_root","Are you trying to start another ${0}?",p.levelName))}l();const f=i;if(f.finalized&&!c.allowTail&&De(r,u.lineNumber,0,"warning","post_header","As a header of a ${0}, ${1} should come first.",f.levelName,u.head),c.unique===void 0||!(c.unique in f.uniqueLines))f.lines.push(Object.assign(u,{head:c.head})),c.unique!==void 0&&(f.uniqueLines[c.unique]=u),c.hasProps=="none"&&u.props!==null?De(r,u.lineNumber,0,"warning","redundant_props","Command ${0} should have no bracket props",u.head):c.hasProps=="required"&&u.props===null&&De(r,u.lineNumber,0,"warning","lack_props","Command ${0} requires props in a bracket.",u.head);else{const p=Pg[e];p!==void 0?De(r,u.lineNumber,0,"error","duplicate_unique_del",'${1} should be unique in a ${0}. Did you forget delimiter "${2}"?',f.levelName,u.head,p.repeat(3)):De(r,u.lineNumber,0,"error","duplicate_unique","${1} should be unique in a ${0}",f.levelName,u.head)}this.pass()}o()}}function wu(t,e,n,r,...i){return{index:t,severity:e,key:n,defaultTranslation:r,args:i}}const u$={defaults:{symbolChars:"`~!@#%^&*()-=+[{]}|;:'\",.<>/?",symbolLigatures:["===","!==","!=","==","<=",">=","->","?.","!!.","!.","**"],stringQuote:`"'`,commentStart:["//","#"],commentQuote:[["/*","*/"]]},literal:{symbolChars:"`_$~!@#%^&*()-=+[{]}|;:'\",.<>/?",symbolLigatures:[],stringQuote:`"'`,commentStart:["//"],commentQuote:[["/*","*/"]]}};function $x(t,e){let n=e,r=t[e+1],i="";if(n+=2,r=="\\"||r=='"'||r=="'"||r=="/")i+=r;else if(r=="r")i+="\r";else if(r=="*")i+="";else if(r=="n")i+=`
`;else if(r=="t")i+="	";else if(r=="x"){n+=2;let o=t.substring(e,n);try{o=JSON.parse('"'+o+'"')}catch{return{nextIndex:n,result:i,issues:[wu(e,"error","token.invalid_escape","Invalid escape sequence ${0}",o)]}}i+=o}else if(r=="u"){n+=4;let o=t.substring(e,n);try{o=JSON.parse('"'+o+'"')}catch{return{nextIndex:n,result:i,issues:[wu(e,"error","token.invalid_escape","Invalid escape sequence ${0}",o)]}}i+=o}return{nextIndex:n,result:i,issues:[]}}function h$(t,e,n){let r="",i=[];for(let o=e;o<n;o++){const s=t[o];if(s=="\\"){const l=$x(t,o);r+=l.result,o=l.nextIndex-1;for(let a of l.issues)i.push(a)}else r+=s}return{result:r,issues:i}}function $b(t,e=u$.defaults){let n=[],r=[],i=[];function o({type:d,start:g,end:m,content:v}){r.push({type:d,start:g,end:m,content:v})}function s(d){if(d)for(let g of d)i.push(g)}const l={eof:{initialize:d=>d>=t.length?{nextIndex:d,content:""}:null,reduce:(d,g)=>null},eol:{initialize:d=>{let g=0;return t.substring(d,d+2)==`\r
`?g=2:["\r",`
`].indexOf(t[d])!=-1&&(g=1),g>0?{nextIndex:d+g,content:t.substring(d,d+g)}:null},reduce:(d,g)=>null},comment:{initialize:d=>{let g="none",m="",v=d;for(let b of e.commentStart)if(t.substring(d,d+b.length)==b){g="line",v+=b.length;break}if(g=="none"){for(let b of e.commentQuote)if(t.substring(d,d+b[0].length)==b[0]){g="block",v+=b[0].length,m=b[1];break}}if(g=="none")return null;for(;;){if(g=="block"){if(v>=t.length)return{nextIndex:v,content:t.substring(d,v),issues:[wu(d,"error","token.unclosed_comment","Block comment is unclosed")]};if(t.substring(v,v+m.length)==m)return v+=m.length,{nextIndex:v,content:t.substring(d,v)}}else{let b=-1;if(v>=t.length?b=0:t[v]==`
`?b=1:t[v]=="\r"&&(b=1,t[v+1]==`
`&&(b=2)),b>=0)return v+=b,{nextIndex:v-b,content:t.substring(d,v-b)}}v+=1}},reduce:(d,g)=>null},stringLiteral:{initialize:d=>e.stringQuote.indexOf(t[d])!=-1?{nextIndex:d+1,content:"",extra:t[d]}:null,reduce:(d,g,m)=>{let v=d;if(v>=t.length)return{nextIndex:v,content:g,extra:m,issues:[wu(d,"error","token.unclosed_string","String is unclosed")],finalize:!0};if(m==t[d])return{nextIndex:v+1,content:g,extra:m,finalize:!0};if(t[d]=="\\"){let b=$x(t,d);return v=b.nextIndex,g+=b.result,{nextIndex:v,content:g,extra:m,issues:b.issues}}else t[d]!="\r"&&t[d]!=`
`&&(g+=t[d]),v+=1;return{nextIndex:v,content:g,extra:m}}},symbol:{initialize:d=>{if(e.symbolChars.indexOf(t[d])!=-1){for(let g of e.symbolLigatures)if(g==t.substring(d,d+g.length))return{nextIndex:d+g.length,content:g};return{nextIndex:d+1,content:t[d]}}return null},reduce:(d,g)=>null},word:{initialize:d=>e.symbolChars.indexOf(t[d])==-1&&t[d].substring(0,1).trim()!=""?{nextIndex:u+1,content:t[d]}:null,reduce:(d,g)=>d>=t.length||e.symbolChars.indexOf(t[d])!=-1||t[d].substring(0,1).trim()==""?null:{nextIndex:d+1,content:g+t[d]}}};let a=0,u=0,c=null,h="",f=null;for(;;)if(c===null){let d=null;for(let g in l)if(d=l[g].initialize(u),d!==null){a=u,u=d.nextIndex,h=d.content,f=d.extra,c=g,s(d.issues);break}d===null&&(u+=1)}else{let d=l[c].reduce(u,h,f);if(d!==null&&(u=d.nextIndex,h=d.content,f=d.extra,s(d.issues)),d==null||d.finalize){if(o({type:c,start:a,end:u,content:h}),c=="eof")break;c=null}}let p=!0;for(let d of r)n.push({type:d.type,range:[d.start,d.end],content:d.content,lineHead:p}),d.type=="eol"?p=!0:p=!1;return{result:n,issues:i}}class et{constructor(e,n){ge(this,"type","eof");ge(this,"content",null);this.type=e,this.content=n}test(e){return"bracket"in e?!1:"length"in e?ft.consistsOnly(e,this):ft.matchesFilter(e,this)}findIn(e,n=0){return ft.indexOf(e,this,n)}findInLayered(e,n,r=0){return ft.indexOfLayered(e,this,n,r)}}class Rc{constructor(e){ge(this,"bracket","");this.bracket=e}test(e){return"bracket"in e?e.bracket==this.bracket:!1}}class wn{constructor(...e){ge(this,"filters");this.filters=e.slice()}test(e){const n=[];if(e.length==this.filters.length){for(let r=0;r<e.length;r++){const i=e[r],o=this.filters[r];if(+("bracket"in i)^+("bracket"in o)||!o.test(i))return;"bracket"in i?n.push(i.tokens):n.push(i.content)}return n}}testThen(e,n){let r=this.test(e);if(r!==void 0)return n(r)}}class f${constructor(){ge(this,"eof",{range:[0,0],content:"",type:"eof",lineHead:!1})}matchesFilter(e,n){return e.type!=n.type?!1:n.content===null?!0:typeof n.content=="string"?n.content==e.content:typeof n.content=="object"&&"flags"in n.content?n.content.test(e.content):n.content.indexOf(e.content)!=-1}consistsOnly(e,n){return e.filter(r=>r.type=="eof"?!1:!this.matchesFilter(r,n)).length==0}indexOfLayered(e,n,r,i=0){let o=Array(r.length).fill(0);function s(a){for(let u=0;u<r.length;u++)r[u][0]==a&&(o[u]+=1),r[u][1]==a&&(o[u]-=1)}function l(){return o.filter(a=>!!a).length==0}for(let a=i;a<e.length;a++){const u=e[a];if(!("bracket"in u)&&(u.type=="symbol"&&s(u.content),this.matchesFilter(u,n)&&l()))return a}return-1}indexOf(e,n,r=0){return this.indexOfLayered(e,n,[],r)}stringify(e,n=" ",r=", "){let i="",o=!0;for(let s of e)if(o?o=!1:i+=n,"bracket"in s){i+=s.bracket;let l=!0;for(let a of s.tokens)l?l=!1:i+=r,i+=ft.stringify(a);i+=s.rightBracket}else s.type=="word"&&(i+=s.content),s.type=="symbol"&&(i+=s.content),s.type=="stringLiteral"&&(i+=JSON.stringify(s.content));return i}rangeSafe(e,n,r){return n<0?0:n>=e.length?e.length==0?0:e[e.length-1].range[1]:e[n].range[r]}split(e,n){let r=[],i=[r];for(let o of e){let s=!1;if(!("bracket"in o)){for(let l of n)if(l.test(o)){s=!0;break}}s?(r=[],i.push(r)):r.push(o)}return i}join(e,n){const r=[];let i;for(let o of e){i!==void 0&&(r.push(Object.assign({},n,{range:[i,i+n.content.length]})),i+=n.content.length),i=0;for(let s of o)r.push(s),i=s.range[1]}return r}}const ft=new f$;class d${constructor(e){ge(this,"input",null);this.input=e}parse(e){return Ex(this.input,n=>this.handleLine(n,e))}filterIssues(e,n){for(let r=n.length-1;r>=0;r--)e.lineNumber==n[r].lineNumber&&n[r].index>=e.textRange[0]&&n.splice(r,1)}handleUnescape(e,n){const r=h$(e.text,0,e.text.length);return r.issues.map(o=>({...o,index:e.textRange[0]+o.index,lineNumber:e.lineNumber,rendered:!1})).forEach(o=>n.push(o)),r.result}handleLine(e,n){if(["Dt","Dp","Dv","Ds","Dl","Dr","T","S"].indexOf(e.head)!=-1)return this.filterIssues(e,n),{lineNumber:e.lineNumber,head:e.head,content:this.handleUnescape(e,n)};if(["Da","Df"].indexOf(e.head)!=-1)return this.filterIssues(e,n),{lineNumber:e.lineNumber,head:e.head,props:e.propsText,content:this.handleUnescape(e,n)};if(["P","Pi","Rp","Sp","Srp","Frp"].indexOf(e.head)!=-1)return this.filterIssues(e,n),{lineNumber:e.lineNumber,head:e.head,content:this.handleUnescape(e,n).split(" ").filter(r=>!!r)};if(e.head=="B")return{lineNumber:e.lineNumber,head:e.head};if(["J","A","La"].indexOf(e.head)!=-1)return{lineNumber:e.lineNumber,head:e.head,content:new Cc(e.content,e.text,e.lineNumber).parse(n,e.head=="J"?"true":"others"),...e.head=="A"&&{props:e.propsText}};if(["N","Na","Nc","Ns"].indexOf(e.head)!=-1)return{lineNumber:e.lineNumber,head:e.head,props:new Cc(e.props??[ft.eof],e.propsText??"",e.lineNumber).parse(n,"true"),content:new Cc(e.content,e.text,e.lineNumber).parse(n,"others")};if(["L","Lc","Lw"].indexOf(e.head)!=-1)return{lineNumber:e.lineNumber,head:e.head,props:new Cc(e.props??[ft.eof],e.propsText??"",e.lineNumber).parse(n,"true"),content:new Cc(e.content,e.text,e.lineNumber).parse(n,"others")};throw new Error("SparseBuilder got something very new! "+e.head)}}class Cc{constructor(e,n,r){ge(this,"parenPairs",[["(",")"],["[","]"],["[[","]]"],["{","}"]]);ge(this,"separatorSymbol",",");ge(this,"input",[]);ge(this,"text","");ge(this,"lineNumber",0);ge(this,"currentPtr",0);this.input=e,this.text=n,this.lineNumber=r}peek(){return this.input[this.currentPtr]}pass(){return this.input[this.currentPtr++]}parse(e,n){return this.currentPtr=-1,this.handleFrag(-1,-1,e,n)}handleFrag(e,n,r,i){let o=!1;i=="true"?o=!0:i=="others"&&(o=e!=-1);const s=this.currentPtr==-1?this.input[0].range[0]:this.peek().range[0];n==-1&&(n=s);const l={range:[s,s],bracket:this.currentPtr==-1?"":this.parenPairs[e][0],rightBracket:this.currentPtr==-1?"":this.parenPairs[e][1],tokens:[],text:""},a=l.tokens,u=e==-1?"":this.parenPairs[e][1];let c=null;const h=()=>{if(c!==null&&c.length==0){let d=this.peek().range[0];c.push({type:"eof",content:"",range:[d,d],lineHead:!1})}};function f(){h(),a.push([]),c=a[a.length-1]}function p(){c===null&&f()}for(o||p(),this.pass();;){const d=this.peek();if(d===void 0)throw new Error("WTF?");if(d.type=="eof"||d.type=="symbol"&&d.content==u)return h(),d.type!="eof"&&this.pass(),u!=""&&d.type=="eof"&&De(r,this.lineNumber,l.range[0],"error","unclosed_bracket","Bracket here is unclosed."),l.range[1]=d.range[1],l.text=this.text.substring(l.range[0]-n,l.range[1]-n),l;if(d.type=="symbol"&&this.parenPairs.map(g=>g[1]).indexOf(d.content)!=-1){De(r,this.lineNumber,d.range[0],"error","unpaired_bracket","Bracket here is unpaired."),this.pass();continue}if(d.type=="symbol"){const g=this.parenPairs.map(m=>m[0]).indexOf(d.content);if(g!=-1){p(),c.push(this.handleFrag(g,n,r,i));continue}if(d.content==this.separatorSymbol&&o){p(),f(),this.pass();continue}}p(),c.push(d),this.pass()}}}const n0={page:0,double_sided:!1,page_margin_x:[11,11],n:4,time_lining:!1,note_count_lining:!1,legacy_positioning:!1,debug:!0,sectionorder:"paren",scale:1,gutter_left:1,connector_left:0,left_separator:!1,grayout:!1,explicitmarkers:!0,font_sectionorder:"CommonLight/400",font_part:"Roman,CommonSerif/700",font_article:"Roman,CommonSerif/700",font_title:"Roman,CommonSerif/700",font_subtitle:"CommonSerif/400",font_author:"CommonSerif/400",font_corner:"CommonLight/400",font_text:"Roman,CommonSerif/400",font_footnote:"CommonSerif/400",font_descend:"CommonLight/400",font_attr:"CommonSerif/400",font_force:"RomanItalic,CommonBlack/400",font_chord:"Roman/600",font_annotation0:"CommonSerif/600",font_annotation1:"CommonSerif/600",font_annotation2:"CommonSerif/600",font_annotation3:"CommonSerif/600",font_annotation4:"CommonSerif/600",font_annotation5:"CommonSerif/600",font_annotation6:"CommonSerif/600",font_lyrics:"Roman,CommonSerif/600",font_checkpoint:"Roman,CommonSerif/700",margin_after_props:2,margin_after_article:1.5,margin_after_header:.8,margin_after_header_text:.7,margin_before_line:1.2,margin_after_line:.1,margin_between_parts:2.5,margin_after_part_notes:2,inset_before_lyrics:1.3,margin_after_lyrics:.1,margin_after_part:1,offset_lyrics_iter:1.5,offset_section_boundary:1},Rx=["page","double_sided","page_margin_x"],Lx=["n","time_lining"];function p$(t,e){if(t=="page"){let n=+e;if(e.indexOf("/")!=-1){let r=e.split("/");r.length==2&&(n=+r[0]/+r[1])}return["A0","A1","A2","A3","A4","A5","A6"].includes(e.toUpperCase())&&(n=1.4142),["B3","B4","B5"].includes(e.toUpperCase())&&(n=1.4157),n>=0&&n<=65535?n:{error:"value"}}if(t=="page_margin_x"){let n=e.split(",");if(n.length!=2&&n.length!=1)return{error:"value"};const r=n.map(i=>+i);return n.length==1&&r[0]>=0&&r[0]<=65535?[r[0],r[0]]:r[0]>=0&&r[0]<=65535&&r[1]>=0&&r[1]<=65535?r:{error:"value"}}if(t=="n"){let n=+e;return Math.floor(n)==n&&n>=1&&n<=65535?n:{error:"value"}}if(["time_lining","note_count_lining","debug","grayout","explicitmarkers","left_separator","double_sided","legacy_positioning"].includes(t))return e=="true"?!0:e=="false"?!1:{error:"value"};if(t=="sectionorder")return["none","plain","paren","bracket"].indexOf(e)!=-1?e:{error:"value"};if(t=="scale"||t=="gutter_left"||t=="connector_left"||t.startsWith("margin_")||t.startsWith("inset_")||t.startsWith("offset_")){let n=+e;return n!=n||n<0||n>=65536?{error:"value"}:n}return lr(t,n0)?e:{error:"key"}}var oi;(t=>{function e(l){let a=0;for(;l[0]=="#"||l[0]=="b"||l[0]=="$"||l[0]=="%"||l[0]=="=";)a+={"#":1,b:-1,"=":0,$:.5,"%":-.5}[l[0]],l=l.substring(1);let u=0,c=4;return u={C:0,D:2,E:4,F:5,G:7,A:9,B:11}[l[0]],c=+l.substring(1),u===void 0||!/^(\d*)$/.test(l.substring(1))||c>12?{value:NaN,baseValue:NaN,explicitOctave:!1}:(l.length==1&&(u<6?c=4:c=3),c=12*(c-4),{value:c+u+a,baseValue:c+u,explicitOctave:l.length>1})}t.absNameToPitch=e;function n(l){if(isNaN(l.baseValue))return"?";let a=Math.floor(l.baseValue/12),u=l.baseValue-a*12;return["C","C","D","D","E","F","F","G","G","A","A","B"][Math.floor(u)]+(l.explicitOctave?(a+4).toString():"")}t.pitchToAbsName=n;function r(l,a){if(a=="key")return l;if(l==0)return 0;const u=Math.abs(l)-1,c=l>0?1:-1,h=[0,2,4,5,7,9,11],f=[0,1,1,0,0,1,1],p=Math.floor(u/7),d=u-p*7,g=a=="thd"?h[d]-f[d]-1:a=="thm"?h[d]-f[d]:a=="th"?h[d]:a=="tha"?h[d]+1:0;return c*(g+12*p)}t.pitchIntervalToDKey=r;function i(l,a,u){const c={hpm:2,"h.pm":3,qpm:1,"q.pm":1.5,spm:1/u,"s.pm":1/u*1.5}[a];if(c===void 0)throw new Error("Unknown speed metric "+a);return l*c}t.speedToQpm=i;function o(l,a=!1){const u=Math.floor(l/12),c=l-u*12,h=(a?["C","bD","D","bE","E","F","#F","G","bA","A","bB","B"]:["C","#C","D","bE","E","F","#F","G","bA","A","bB","B"])[c],f=""+(u+4);return h+f}t.absoluteKeysToName=o;function s(l){const a=Math.floor(l/12),u=l-a*12,c=["1","#1","2","b3","3","4","#4","5","b6","6","b7","7"][u],h=a>=0?"'".repeat(a):",".repeat(-a);return c+h}t.relativeKeysToName=s})(oi||(oi={}));function r0(t,e){let n=[t];function r(o,s,l){let a=o.split(s),u=[];for(let c=0;c<a.length;c++)c>0&&u.push(l),a[c].length>0&&u.push(a[c]);return u}for(let o=0;o<e.length;o++){let s=e[o][0],l=[];for(let a=0;a<n.length;a++){let u=n[a];typeof u=="string"?l=l.concat(r(u,s,o)):l.push(u)}n=l}return n.map(o=>typeof o=="string"?o:e[o][1]).join("")}function od(t,e){const n=t.indexOf(e);return n==-1?[t,""]:[t.substring(0,n),t.substring(n+1)]}function g$(t,e,n){return e.charCodeAt(0)<=t.charCodeAt(0)&&t.charCodeAt(0)<=n.charCodeAt(0)}function m$(t){return t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}function lv(t,e){return t<0&&(t=-t),e<0&&(e=-e),e==0?t:lv(e,t%e)}class v${create(e,n){return n===void 0&&(n=1),ne.normalize({x:e,y:n})}copy(e){return Object.assign({},e)}isInfinity(e){if(e.y==0){if(e.x>0)return 1;if(e.x<0)return-1}return 0}isIndeterminate(e){return e.x==0&&e.y==0}inormalize(e){let n=lv(e.x,e.y);n!=0&&(e.x=Math.floor(e.x/n),e.y=Math.floor(e.y/n)),e.y<0&&(e.x=-e.x,e.y=-e.y)}normalize(e){const n=ne.copy(e);return ne.inormalize(n),n}repr(e){return ne.isIndeterminate(e)?"Indeterminate":ne.isInfinity(e)>0?"+Infinity":ne.isInfinity(e)<0?"-Infinity":e.y==1?e.x.toString():e.x.toString()+"/"+e.y.toString()}neg(e){return{x:-e.x,y:e.y}}inv(e){return ne.normalize({x:e.y,y:e.x})}add(e,n){if(ne.isIndeterminate(e)||ne.isIndeterminate(n))return{x:0,y:0};if(ne.isInfinity(e)||ne.isInfinity(n))return{x:ne.isInfinity(e)+ne.isInfinity(n),y:0};const r=lv(e.y,n.y),i=Math.floor(n.y/r),o=Math.floor(e.y/r);return ne.normalize({x:i*e.x+o*n.x,y:i*e.y})}sum(...e){return e.length==0?ne.create(0,1):this.__sum(e[0],...e.slice(1))}__sum(e,...n){return n.length==0?ne.copy(e):this.__sum(this.add(e,n[0]),...n.slice(1))}sub(e,n){return this.add(e,this.neg(n))}mul(e,n){return ne.normalize({x:e.x*n.x,y:e.y*n.y})}prod(e,...n){return n.length==0?ne.copy(e):this.prod(this.mul(e,n[0]),...n.slice(1))}div(e,n){return this.mul(e,this.inv(n))}toFloat(e){return e.x/e.y}compare(e,n){const r=this.sub(e,n);return r.x>0?1:r.x<0?-1:0}equals(e,n){return ne.compare(e,n)==0}max(...e){let n=ne.create(-1,0);for(let r of e)ne.compare(r,n)>0&&(n=ne.copy(r));return n}min(...e){let n=ne.create(1,0);for(let r of e)ne.compare(r,n)<0&&(n=ne.copy(r));return n}}const ne=new v$,Qi={musical:{beats:{value:{x:0,y:4},component:[{x:0,y:4}],defaultReduction:2,swing:"none"},qpm:{value:120,symbol:"qpm"},base:{value:NaN,baseValue:NaN,explicitOctave:!1},transp:0,extras:[]},render:n0};function ys(t,e){if(e===void 0)return t;let n=Object.assign({},t.musical);for(let r in e)e[r]!==void 0&&(n[r]=e[r]);return Object.assign({},t,{musical:n})}function _i(t,e){if(e===void 0)return t;let n=Object.assign({},t.render);for(let r in e)e[r]!==void 0&&(n[r]=e[r]);return Object.assign({},t,{render:n})}function Rb(t){return{musical:Object.assign({},t.musical),render:Object.assign({},t.render)}}function Nx(t,e){t={...t},t.base={...t.base},t.base.value!=t.base.value&&(t.base.value=0),t.base.baseValue!=t.base.baseValue&&(t.base.baseValue=0);const n=t.base.value;if(e.metrics=="absolute")t.base=e.value;else{const r=oi.pitchIntervalToDKey(e.value,e.metrics);t.base={value:t.base.value+r,baseValue:t.base.value+r,explicitOctave:!0}}return e.changeTranspose&&(t.transp=t.transp+t.base.value-n),t}const y$={tr:1,"tr+":1,wav:1,"wav+":1,wavd:1,"wavd+":1,echo:1,recho:1,ext:1,hold:1,str:1,brk:1,tip:1};function w$(t){return["hold","str","brk","tip"].indexOf(t)!=-1?2:t=="ext"?3:1}const b$={rpr:1,lpr:3,int:2,cas:2},_$={weight:[!1,!1,!0,"begin"],top:[!1,!1,!0,"begin"],padding:[!1,!1,!0,"begin"],iter:[!0,!1,!0,"begin"],reset:[!0,!0,!0,"end"],durability:[!0,!1,!1,"begin"],repeat:[!0,!0,!0,"begin"],qpm:[!0,!0,!0,"end"],beats:[!0,!0,!0,"end"],shift:[!0,!0,!0,"end"],text:[!0,!0,!0,"begin"],scriptedText:[!0,!0,!0,"begin"],label:[!0,!1,!0,"begin"],openRange:[!0,!1,!0,"begin"]},Cf={"/":["/","/",!0,!0,!0],"/|":["/|","/",!1,!0,!0],"|":["|","/",!1,!0,!0],"||":["||","/",!1,!0,!0],"|||":["|||","/",!1,!0,!0],"||:":["|","||:",!0,!0,!1],":||":[":||","/",!1,!0,!0],":||:":[":||","||:",!1,!0,!1],"/||":["/||","/",!1,!0,!0],"/||:":["/||","||:",!0,!0,!1],":/||":[":/||","/",!1,!0,!0],":/||:":[":/||","||:",!1,!0,!1]};function Px(t,e){let n=0,r=0;t.before.char=="||:"&&(e?n=1.2:n=.8);const i=t.after.char;return(i==":/||"||i==":/||:"||i==":||"||i==":||:")&&(r=.8),[n,r]}const S$={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,X:1,Y:1,Z:1,_:1},x$={ppp:[-25,-25],pp:[-20,-20],p:[-15,-15],mp:[-5,-5],m:[0,0],mf:[5,5],f:[15,15],ff:[20,20],fff:[25,25],sf:[32,32],fz:[35,35],sfz:[38,38],sfzz:[42,42],fp:[15,-15],fpp:[15,-20],sfp:[32,-15],sfpp:[32,-20],rf:[15,15],rfs:[32,32]};class Kd{constructor(e,n,r,i){ge(this,"input",[]);ge(this,"context");ge(this,"lineNumber",0);ge(this,"level",0);ge(this,"tokenPtr",0);ge(this,"charPtr",0);i!==void 0&&(this.level=i),this.input=e,this.lineNumber=n,this.context=r}peek(){return this.input[this.tokenPtr]}pass(){return this.input[this.tokenPtr++]}getchar(){const e=this.peek();if(e!==void 0&&!("bracket"in e)&&e.type!="stringLiteral")return e.content[this.charPtr]}passchar(){const e=this.peek();if(e===void 0||"bracket"in e||e.type=="stringLiteral")return;const n=e.content.length,r=e.content[this.charPtr++];return this.charPtr>=n&&(this.charPtr=0,this.tokenPtr+=1),r}align(){this.charPtr>0&&this.pass()}alignChars(){for(;;){const e=this.peek();if(e!==void 0&&("bracket"in e||e.type=="stringLiteral"))this.pass();else break}}parse(e,n,r,i,o){let s=ne.create(0),l=0,a=ne.copy(r);const u={startPos:ne.create(0,0),ratio:ne.create(1),reducedRatio:ne.create(2),total:0,remain:0,markable:!1,custom:!1};var c=void 0;if((()=>{let p=!0;for(;;){let d=this.peek();if(d===void 0)return;if(new et("symbol","^").test(d)&&p){this.pass(),e.leftSplit=!0;continue}if(new et("symbol","~").test(d)&&p){this.pass(),e.leftSplitVoid=!0;continue}if(p=!1,new et("symbol","!").test(d)){this.pass(),e.rightSplit=!0;continue}if(!("bracket"in d)&&d.type=="symbol"&&d.content=="&"){this.pass();let M=this.peek();if(M&&!("bracket"in M)&&M.type=="word"){this.pass();let R=this.peek();R&&!("bracket"in R)&&R.type=="symbol"&&R.content==";"?this.pass():De(i,this.lineNumber,d.range[0],"error","incomplete_insert_sequence","Symbol `&` should be followed with a word and a `;`, representing a insertational sequence."),lr(M.content,b$)?e.decoration.push({type:"insert",target:ne.add(r,ne.mul(n,s)),ordinal:l++,char:{type:"insert",char:M.content}}):De(i,this.lineNumber,M.range[0],"error","unknown_insert_sequence","Unknown insertational sequence ${0}",M.content);continue}else{De(i,this.lineNumber,d.range[0],"error","incomplete_insert_sequence","Symbol `&` should be followed with a word and a `;`, representing a insertational sequence.");continue}}const g=this.getchar();if(g!==void 0){let M=!0;if(g=="T"){this.passchar();const R=this.peek();if(u.startPos=ne.create(0,0),u.ratio=ne.create(2,3),u.reducedRatio=ne.create(1,3),u.total=3,u.markable=!0,u.custom=!1,R&&"bracket"in R&&R.bracket=="["){const k=this.eatTripletDesc(R.tokens,R.range[0],i);k&&(u.ratio=k.ratio,u.reducedRatio=ne.mul(ne.create(1,2),k.ratio),u.total=k.total,u.custom=!0),this.pass()}}else g=="D"?(this.passchar(),u.startPos=ne.create(0,0),u.ratio=ne.create(1),u.reducedRatio=ne.create(1,2),u.total=1,u.markable=!1,u.custom=!1):M=!1;if(M){u.remain=u.total;continue}}if(d===void 0)return;let m=ne.create(1,2);if(u.remain<=0?this.level==0&&(m=ne.create(1,this.context.musical.beats.defaultReduction)):m=u.reducedRatio,"bracket"in d){if(d.bracket=="("){const[M,R]=new Kd(d.tokens[0]??[],this.lineNumber,this.context,this.level+1).parse(e,ne.mul(n,m),ne.add(r,ne.mul(n,s)),i,o);ne.isIndeterminate(u.startPos)&&(u.startPos=ne.add(r,ne.mul(n,s))),M.x!=0&&(e.decoration.push({type:"range",startPos:ne.add(r,ne.mul(n,s)),endPos:R,level:this.level+1,char:"_"}),a=ne.copy(R)),u.remain>0&&u.markable&&ne.compare(M,ne.create(0))>0&&e.decoration.push({type:"range",startPos:u.startPos,endPos:R,level:u.total,char:"T"}),s=ne.add(s,ne.div(M,n))}else De(i,this.lineNumber,d.range[0],"error","notes_unexpected_bracket","Unexpected bracket pair ${0} found in section",d.bracket+d.rightBracket);this.pass(),u.remain>0&&(u.remain=0);continue}const v=this.peek()?this.peek().range[0]+this.charPtr:0,b=!("bracket"in d)&&d.type=="symbol"&&d.content=="-"?(this.pass(),"-"):this.eatNoteChar(i,o),C=[],x=[];let _=ne.create(1),w=ne.create(1);if(b===void 0)continue;if(this.charPtr==0)for(;;){const M=this.peek();if(M===void 0)break;if("bracket"in M)if(M.bracket=="["){if(this.pass(),b=="-"){De(i,this.lineNumber,v,"error","extend_no_note_attrs","Extender cannot have note attributes.");continue}this.eatNoteAttr(x,M.tokens,i)}else break;else{if(M.type!="symbol")break;if(M.content=="~"||M.content=="^"||M.content=="."){if(this.pass(),(M.content=="~"||M.content=="^")&&b=="-"){De(i,this.lineNumber,v,"error","extend_no_link","Extender cannot have links.");continue}C.push(M.content),M.content=="."&&(w=ne.div(w,ne.create(2)),_=ne.add(_,w))}else break}}a=ne.copy(ne.add(r,ne.mul(s,n)));const y=ne.add(r,ne.mul(n,s)),S=u.remain>0?u.ratio:ne.create(1),A=(()=>{if(b=="-"){const M=ne.mul(n,ne.mul(_,S));return c&&(c.length=ne.add(c.length,M)),{type:"extend",lineNumber:this.lineNumber,uuid:"",range:[v,ft.rangeSafe(this.input,this.tokenPtr,0)],startPos:y,length:M,attrs:[],suffix:C,voided:!1}}else return c={type:"note",lineNumber:this.lineNumber,uuid:"",range:[v,ft.rangeSafe(this.input,this.tokenPtr,0)],startPos:y,length:ne.mul(n,ne.mul(_,S)),attrs:x,suffix:C,voided:!1,char:b}})();if(s=ne.add(s,ne.mul(_,S)),e.notes.push(A),u.remain>0&&(u.remain-=1,ne.isIndeterminate(u.startPos)&&(u.startPos=ne.copy(y)),u.remain==0)){let M,R=ne.toFloat(ne.mul(u.ratio,ne.create(u.total)));u.total!=R+1&&(M=R),u.markable&&e.decoration.push({type:"range",startPos:u.startPos,endPos:y,level:u.total,extraNumber:M,char:"T"})}}})(),this.level==0&&this.context.musical.beats.swing!="none"){const p=this.context.musical.beats.swing=="16th",d=g=>{if(ne.isIndeterminate(g))return g;let m=g;p&&(m=ne.mul(ne.create(2,1),m));let v=ne.create(Math.floor(ne.toFloat(m))),b=ne.sub(m,v);return ne.compare(b,ne.create(1,2))<=0?m=ne.add(v,ne.mul(ne.create(4,3),b)):m=ne.sum(v,ne.create(1,3),ne.mul(ne.create(2,3),b)),p&&(m=ne.mul(ne.create(1,2),m)),m};e.notes.forEach(g=>{const m=g.startPos,v=ne.add(g.startPos,g.length);g.startPos=d(m),g.length=ne.sub(d(v),g.startPos)}),e.decoration.forEach(g=>{g.type=="insert"&&(g.target=d(g.target)),g.type=="range"&&(g.startPos=d(g.startPos),g.endPos=d(g.endPos))}),s=ne.div(d(ne.mul(n,s)),n),a=d(a)}const h=ne.mul(n,s);let f=h;for(let p of e.notes){if(p.type!="extend"){f=p.startPos;break}p.voided=!0}return[h,a,f]}eatTripletDesc(e,n,r){if(e.length!=2){De(r,this.lineNumber,n,"error","triplet_invalid_format","Invalid triplet descriptor. It should be like <field>,<number>.");return}const i=ft.stringify(e[0],"",","),o=ft.stringify(e[1],"",","),s=+o;if(s!=s||Math.floor(s)!=s||s<=0||s>=65536){De(r,this.lineNumber,n,"error","triplet_invalid_number","Invalid triplet number ${0}.",o);return}const l=+i;if(l!=l||Math.floor(l)!=l||l<=0||l>=65536){De(r,this.lineNumber,n,"error","triplet_invalid_field","Invalid triplet field ${0}.",i);return}return{total:s,ratio:ne.create(l,s)}}eatNoteAttr(e,n,r){n.forEach(i=>{let o=!1;o||(o=jt(e,kt.matchDecor(i,this.lineNumber,r))),o||(o=jt(e,kt.matchNotes(i,this.lineNumber,r))),o||(o=jt(e,kt.matchSlide(i,this.lineNumber,r))),o||(o=jt(e,kt.matchDelta(i,this.lineNumber,r))),o||De(r,this.lineNumber,i[0]?i[0].range[0]:0,"error","unknown_note_attr","Cannot interpret `${0}` as a note attribute",ft.stringify(i))})}eatNoteChar(e,n){if(n=="music"){this.alignChars();let r=NaN;for(;;){const l=this.getchar();if(l===void 0)return;if(l=="#"||l=="b"||l=="$"||l=="%"||l=="=")r!=r&&(r=0),r+={"#":1,b:-1,$:.5,"%":-.5,"=":0}[l],this.passchar();else break}const i=this.getchar();if(i===void 0)return;let o="";if(lr(i,S$))o=i,this.passchar();else{De(e,this.lineNumber,this.peek().range[0],"error","note_char_music_unknown","Character ${0} cannot be a musical note",i),this.passchar();return}let s=0;for(;;){const l=this.getchar();if(l=="d"||l=="e")s+=l=="e"?1:-1,this.passchar();else return{type:"music",sampler:"music",char:o,octave:s,delta:r,finalDelta:NaN}}}else if(n=="annotation"||n=="text"){if(this.getchar()=="0")return this.passchar(),{type:"text",sampler:n,void:!0};this.align();let r=this.pass();if(r===void 0||"bracket"in r)return;let i=0;for(;r.type=="symbol"&&r.content=="+";)if(i+=1,r=this.pass(),r===void 0||"bracket"in r)return;const o=c=>{if(c.type=="stringLiteral")return{type:"text",sampler:n,offset:i,text:c.content}},s=c=>{if(c.type!="word"||c.content!="c")return;const h=this.peek();if(!h||"bracket"in h||h.type!="stringLiteral")return;let[f,p]=od(h.content,"/"),d=1,g={"#":1,b:-1,"=":0,$:.5,"%":-.5};for(;d<f.length&&(lr(f[d-1],g)||g$(f[d],"A","Z"));)d+=1;let m=f.substring(0,d),v=f.substring(d),b=0;for(;lr(m[0],g);)b+=g[m[0]],m=m.substring(1);let C=0;for(;lr(p[0],g);)C+=g[p[0]],p=p.substring(1);return this.pass(),{type:"chord",sampler:n,offset:i,delta:b,root:m,suffix:v,baseDelta:C,base:p==""?void 0:p}},l=c=>{if(c.type!="word"||c.content!="h")return;const h=this.peek();if(!h||"bracket"in h||h.type!="stringLiteral")return;const f=h.content;this.pass();const p=this.peek();if(!p||"bracket"in p||p.type!="symbol"||p.content!="_")return{type:"textHeading",sampler:n,offset:i,content:{type:"text",text:f}};this.pass();let d="";const g=this.peek();return g&&!("bracket"in g)&&g.type=="stringLiteral"&&(d=g.content,this.pass()),{type:"textHeading",sampler:n,offset:i,content:{type:"scriptedText",text:f,sub:d}}},a=c=>{if(c.type=="word"){if(lr(c.content,x$))return{type:"force",sampler:n,offset:i,isText:!1,char:c.content};if(c.content=="r"){const h=this.peek();if(h===void 0||"bracket"in h)return;if(h.type=="stringLiteral")return this.pass(),{type:"force",sampler:n,offset:i,isText:!0,char:h.content}}else De(e,this.lineNumber,c.range[0],"error","note_char_force_unknown1","Cannot interpret word ${0} as force annotation",c.content)}else if(c.type=="symbol"){if(lr(c.content,{"<":1,">":-1}))return{type:"force",sampler:n,offset:i,isText:!1,char:c.content};De(e,this.lineNumber,c.range[0],"error","note_char_force_unknown2","Cannot interpret symbol ${0} as force annotation",c.content)}};let u=o(r);if(u)return{...u,sampler:n};if(n!="text"){let c=s(r);if(c)return{...c,sampler:n};let h=l(r);if(h)return{...h,sampler:n};let f=a(r);if(f)return{...f,sampler:n}}n!="text"?De(e,this.lineNumber,r.range[0],"error","note_char_annotation_unknown","Cannot interpret ${0} as an annotation",ft.stringify([r])):De(e,this.lineNumber,r.range[0],"error","note_char_lyric_annotation_unknown","Cannot interpret ${0} as an lyrics annotation",ft.stringify([r]));return}else throw new Error("Unknown note type sampler "+n)}}var kt;(t=>{function e(w){return new wn(new et("word",/^(\d+)$/),new et("symbol",".")).testThen(w,y=>({type:"iter",iter:+y[0]}))}t.matchIter=e;function n(w){return new wn(new et("word","reset")).testThen(w,y=>({type:"reset"}))}t.matchReset=n;function r(w){const S=ft.stringify(w,"",",").match(/^w=(.*?)$/);if(S){const A=+S[1];if(A==A&&0<A&&A<65536)return{type:"weight",weight:A}}}t.matchWeight=r;function i(w){const S=ft.stringify(w,"",",").match(/^p=(.*?)$/);if(S){const A=+S[1];if(A==A&&0<A&&A<65536)return{type:"padding",padding:A}}}t.matchPadding=i;function o(w){const S=ft.stringify(w,"",",").match(/^t=(.*?)$/);if(S){const A=+S[1];if(A==A&&0<A&&A<65536)return{type:"top",margin:A}}}t.matchTop=o;function s(w){return new wn(new et("symbol","*")).testThen(w,y=>({type:"openRange"}))}t.matchOpenRange=s;function l(w){return new wn(new et("word",/^8v[a|b]$/)).testThen(w,y=>({type:"octave",sign:y[0]==="8va"?1:-1}))}t.matchOctave=l;function a(w){return new wn(new et("stringLiteral",null)).testThen(w,y=>({type:"text",text:y[0]}))}t.matchText=a;function u(w){return new wn(new et("stringLiteral",null),new et("symbol","_"),new et("stringLiteral",null)).testThen(w,y=>({type:"scriptedText",text:y[0],sub:y[2]}))}t.matchScriptedText=u;function c(w){return new wn(new Rc("[")).testThen(w,y=>{const S=y[0][0]??[];let A=a(S)||u(S);return A===void 0&&(A={type:"text",text:"bracket"in w[0]?w[0].text.substring(1,w[0].text.length-1):""}),{type:"label",label:A}})}t.matchLabel=c;function h(w){const y=(S=>{if(new wn(new et("word","D"),new et("symbol","."),new et("word","S"),new et("symbol",".")).test(S))return"D.S.";if(new wn(new et("word","D"),new et("symbol","."),new et("word","C"),new et("symbol",".")).test(S))return"D.C.";if(new wn(new et("word","Fine"),new et("symbol",".")).test(S))return"Fine.";if(new wn(new et("symbol","$")).test(S))return"$";if(new wn(new et("symbol","@")).test(S))return"@"})(w);if(y!==void 0)return{type:"repeat",char:y}}t.matchRepeat=h;function f(w,y,S){const A=ft.stringify(w,"",","),M=x(A,y,w[0]?w[0].range[0]:0,S);if(M!==void 0)return{type:"qpm",qpm:M}}t.matchQpm=f;function p(w,y,S){const A=ft.stringify(w,"",","),M=_(A,y,w[0]?w[0].range[0]:0,S);if(M!==void 0)return{type:"beats",beats:M}}t.matchBeats=p;function d(w,y,S){const A=ft.stringify(w,"",",");let[M,R]=od(A,"=");if(R=="")return;let k=!1,$=!1;if(M=="d1T")k=!0,$=!0;else if(M=="1T")$=!0;else if(M=="d1")k=!0;else if(M!="1")return;if(k){let E=function(){De(S,y,w[0]?w[0].range[0]:0,"error","unknown_relative_shift","Cannot figure out what the shift ${0} is.",R)},L=R.match(/^(\-?\d+)(|key|thd|thm|th|thM|tha)$/);if(L===null){E();return}let P=+L[1],I=L[2];if(P!=P||Math.abs(P)>=65536){E();return}const D=(W=>{if(W==""||W=="key")return"key";if(/^(st|nd|rd|th)d$/.test(W))return"thd";if(/^(st|nd|rd|th)m$/.test(W))return"thm";if(/^(st|nd|rd|th)M?$/.test(W))return"th";if(/^(st|nd|rd|th)a$/.test(W))return"tha"})(I);if(D===void 0){E();return}return{type:"shift",metrics:D,value:P,changeTranspose:$}}else{let E={value:NaN,baseValue:NaN,explicitOctave:!1};if(R!="?"&&(E=oi.absNameToPitch(R),isNaN(E.value))){De(S,y,w[0]?w[0].range[0]:0,"error","unknown_base_shift","Cannot figure out what the base tune ${0} is.",R);return}return{type:"shift",metrics:"absolute",value:E,changeTranspose:$}}}t.matchShift=d;function g(w){const y=ft.stringify(w,"",",");if(/^x(\d+)$/.test(y)){let S=+y.slice(1);return S>65536||S<0?void 0:{type:"durability",value:S}}}t.matchDurability=g;function m(w,y,S){const A=ft.stringify(w,"",",");if(lr(A,y$))return{type:"decor",char:A,priority:w$(A)}}t.matchDecor=m;function v(w,y,S){const A=ft.stringify(w,"",",");if(A=="sl"||A=="sld")return{type:"slide",direction:A=="sld"?"down":"up"}}t.matchSlide=v;function b(w,y,S){let A,M=!1;if(new wn(new et("word","p"),new Rc("(")).testThen(w,$=>{A=w[1],M=!0}),new wn(new Rc("(")).testThen(w,$=>{A=w[0]}),A===void 0)return;const R={idCard:{lineNumber:-1,index:-1,masterId:"",uuid:""},range:[A.range[0]+1,A.range[1]-1],ordinal:0,startPos:{x:0,y:0},separator:{before:{char:"/",attrs:[]},after:{char:"/",attrs:[]},next:{char:"/",attrs:[]},nextPrev:{char:"/",attrs:[]}},musicalProps:Qi.musical,type:"section",totalQuarters:{x:0,y:0},upbeatQuarters:{x:0,y:0},beatsValidation:"pass",structureValidation:"pass",notes:[],decoration:[],leftSplit:!1,leftSplitVoid:!1,rightSplit:!1},[k]=new Kd(A.tokens[0]??[],y,Qi,1).parse(R,ne.create(1),ne.create(0),S,"music");return R.totalQuarters=k,{type:"notes",slot:M?"postfix":"prefix",notes:R}}t.matchNotes=b;function C(w,y,S){return new wn(new et("word","delta"),new Rc("(")).testThen(w,A=>{const M=A[1][0]??[],R=ft.stringify(M,"",",");if(/^(|\-|\+)(\d+)$/.test(R)){const k=+R;if(Math.abs(k)<65536)return{type:"delta",value:k}}})}t.matchDelta=C;function x(w,y,S,A){if(!/^[q|s|h]\.?pm=/.test(w))return;let M=w.substring(0,w.indexOf("="));const R=w.substring(w.indexOf("=")+1);let k=0,$;if(R.indexOf("/")!=-1){let E=R.indexOf("/");k=+R.substring(0,E),$=R.substring(E+1).replace(/_/g," ")}else k=+R;return(k!=k||k>=65536||k<0)&&(De(A,y,S,"error","unknown_qpm","Cannot figure out what the speed value ${0} is.",R),k=120),{value:k,symbol:M,text:$}}t.stringQpm=x;function _(w,y,S,A){if(!(/^(\d+)\/(\d+)(T|S|s|)$/.test(w)||/^(\d+)\/(\d+)(T|S|s|)=/.test(w)))return;let M=w,R,k=!1,$="none";w.indexOf("=")!=-1&&([M,R]=od(w,"=")),M[M.length-1]=="T"&&(M=M.substring(0,M.length-1),k=!0),M[M.length-1]=="S"&&(M=M.substring(0,M.length-1),$="8th"),M[M.length-1]=="s"&&(M=M.substring(0,M.length-1),$="16th");function E(D){if(D.indexOf("/")==-1)return{x:+D,y:1};const[W,z]=D.split("/");return{x:+W,y:+z}}function L(D){const W=E(D);if(W.y==0||W.x<0||W.x>=65536||W.y>=65536||isNaN(W.x)||isNaN(W.y)){De(A,y,S,"error","unknown_frac","Cannot figure out what fraction ${0} is",D);return}return W}let P=L(M);if(P===void 0)return;let I;return R!==void 0&&(I=R.split("+").map(D=>L(D.trim())).filter(D=>D!==void 0),ne.compare(ne.sum(...I),P)!=0&&De(A,y,S,"warning","unequal_beats","The beats ${0} does not equal to its components ${1}.",ne.repr(P),I.map(D=>ne.repr(D)).join("+"))),{value:P,component:I,defaultReduction:k?3:2,swing:$}}t.stringBeats=_})(kt||(kt={}));function C$(t,e,n){return["_","%"].indexOf(t)!=-1&&n!="stringLiteral"?"placeholder":t=="'"?e=="word"?"word":"postfix":[")","]","]]","}","~","—","%","!","！","^","…",";","；",":","：","）",">","》","⟩","⟧","⟫","⟭","〉","』","〗","】","〙","」","〕","〛",",","，",".","。","”","’","?","？"].indexOf(t)!=-1?"postfix":["(","[","[[","[","（","<","《","⟨","⟦","⟪","⟬","〈","『","〖","【","〘","「","〔","〚","“","‘","@","#","￥","&","$"].indexOf(t)!=-1?"prefix":[" ","-","_","\\","|","/","+","="].indexOf(t)!=-1?"divide":"word"}function T$(t){let e={"，":",","。":".","！":"!","？":"?","：":":","；":";","（":"(","）":")","『":"(","「":"(","』":")","」":")","《":"⟪","》":"⟫","〈":"⟨","〉":"⟩","“":'"',"”":'"',"‘":'"',"’":'"'};return lr(t,e)?e[t]:t}class i0{constructor(e,n,r){ge(this,"input");ge(this,"lineNumber");ge(this,"context");ge(this,"tokenPtr",0);ge(this,"charPtr",0);this.input=e,this.lineNumber=n,this.context=r}getchar(){const e=this.input[this.tokenPtr];if(e!==void 0)return"bracket"in e?e:e.type=="stringLiteral"?e.content:e.content[this.charPtr]}passchar(){const e=this.input[this.tokenPtr];if(e===void 0)return;if("bracket"in e)return this.tokenPtr+=1,e;if(e.type=="stringLiteral")return this.tokenPtr+=1,e.content;const n=e.content[this.charPtr];return this.charPtr+=1,this.charPtr>=e.content.length&&(this.charPtr=0,this.tokenPtr+=1),n}checkBoundary(){return this.charPtr==0}currentTokenType(){const e=this.input[this.tokenPtr];if(e!=null&&!("bracket"in e))return e.type}parseLyrics(e,n){if(n!="manual"){let r=function(a){return a<0||a>=o.length?!0:o[a]};const i=this.getLrcTokens(e,n),o=Array(i.length).fill(!1),s=[];for(let a=0;a<i.length;a++){const u=i[a];if(u.type=="char"||u.type=="grouped"||u.type=="divide"||u.type=="placeholder"){o[a]=!0;let c=a,h=a,f=u.type=="grouped",p,d="",g="",m=u.type=="char"&&u.lastPlaceholder=="_",v=u.type!="divide",b="";for(;!r(c-1);){c-=1,o[c]=!0;const C=i[c];if(C.type=="symbol"&&C.slot=="before")d=C.char+d;else if(C.type=="role")p=p??"",p=C.char+p;else{o[c]=!1;break}}for(;!r(h+1);){h+=1,o[h]=!0;const C=i[h];if(C.type=="symbol"&&C.slot=="after")g=g+C.char;else{o[h]=!1;break}}u.type=="placeholder"?(b="",u.char=="_"&&(m=!0)):b=u.char,s.push({text:b,prefix:d,postfix:g,rolePrefix:p,occupiesSpace:v,grouped:f,extension:m,isCharBased:u.type=="placeholder"||u.type=="divide"||(u.type=="char"||u.type=="grouped")&&u.isCharBased})}}let l=-1;for(let a=0;a<i.length;a++)if(!r(a)){l=a;break}return l!=-1&&De(e,this.lineNumber,i[l].charIndex,"warning","lrc_unused_symbol","This lyric symbol is invalid here and is ignored"),s}else return this.parseManualLyrics(e)}getLrcTokens(e,n){this.tokenPtr=0,this.charPtr=0;const r=[];let i,o,s=!1;for(;;){const l=this.getchar();if(l===void 0)break;if(typeof l=="object")if(this.passchar(),l.bracket=="("||l.bracket=="[["){const a=l.bracket.length;r.push(o=i={charIndex:l.range[0],type:l.bracket=="[["?"role":"grouped",char:l.text.substring(a,l.text.length-a),isCharBased:n=="char"}),s=!1}else if(l.bracket=="["){const a=new i0(ft.join(l.tokens,{type:"symbol",range:[0,0],lineHead:!1,content:","}),this.lineNumber,this.context).getLrcTokens(e,"word");for(let u of a)r.push(i=u);s=!1}else De(e,this.lineNumber,l.range[0],"error","unexpected_lrc_bracket","Unexpected bracket ${0} in lyrics",l.bracket+l.rightBracket);else{const a=this.input[this.tokenPtr].range[0],u=this.checkBoundary(),c=this.currentTokenType();let h=C$(l,n,c);if(this.passchar(),l=="<"&&c!="stringLiteral"){s=!0;continue}if(l==">"&&c!="stringLiteral")continue;const f=this.getchar(),p=this.currentTokenType();if(f==">"&&p!="stringLiteral"&&(this.passchar(),h="prefix"),s&&(s=!1,h="postfix"),h=="word")n=="word"&&!u&&i&&i.type=="char"?i.char+=l:r.push(o=i={charIndex:a,char:l,...s?{type:"symbol",slot:"after"}:{type:"char",isCharBased:n=="char"}});else if(h=="divide"||h=="placeholder"){let d=1;o&&h=="placeholder"&&(o.lastPlaceholder=l);const g=this.getchar();if(g&&typeof g=="object"&&g.bracket=="{"){this.passchar();const m=g.text.substring(1,g.text.length-1);/^(\d+)$/.test(m)?(d=+m,d>=65536&&(d=1)):De(e,this.lineNumber,g.range[0],"error","invalid_placeholder_repeat","Invalid repeats `${0}` for placeholder",m)}for(let m=0;m<d;m++)r.push(i={charIndex:a,type:h,char:l})}else(h=="postfix"||h=="prefix")&&r.push(i={charIndex:a,type:"symbol",slot:h=="postfix"||s?"after":"before",char:l})}}return r}parseManualLyrics(e){return ft.split(this.input,[new et("symbol","/")]).map(i=>{let o=!1;i.length>0&&new et("symbol","_").test(i[i.length-1])&&(o=!0,i=i.slice(0,i.length-1));let s;i.length>0&&new Rc("[[").test(i[0])&&(s=i[0].tokens.map(f=>ft.stringify(f," ",", ")).join(""));let l=!1;i.length>0&&new et("symbol","#").test(i[0])&&(l=!0,i=i.slice(1));let a=!1;i.length>0&&new et("symbol","@").test(i[0])&&(a=!0,i=i.slice(1));const[u,c,h]=(()=>{let f=new wn(new et("stringLiteral",null)).test(i);return f?["",f[0],""]:(f=new wn(new et("stringLiteral",null),new et("stringLiteral",null)).test(i),f?["",f[0],f[1]]:(f=new wn(new et("stringLiteral",null),new et("stringLiteral",null),new et("stringLiteral",null)).test(i),f?[f[0],f[1],f[2]]:["",ft.stringify(i,"",","),""]))})();return{text:c,occupiesSpace:!l,grouped:a,prefix:u,postfix:h,rolePrefix:s,extension:o,isCharBased:!1}})}}class k${parseSections(e,n,r,i,o,s,l){if(e.length==0||e.length==1&&!("bracket"in e[0])&&e[0].type=="eof")return[];function a(d){return"bracket"in d?!1:d.type=="symbol"&&["|","/",":"].indexOf(d.content)!=-1}let u=[];(()=>{let d=!1,g=[0,0];for(let m=0;m<e.length;m++){const v=e[m],b=a(v);b&&(d==!1?(g=[m,m+1],u.push(g)):g[1]+=1),d=b}})();let c=u.map(d=>{let g=e.slice(d[0],d[1]).map(v=>"bracket"in v?"":v.content).join("");lr(g,Cf)||(De(r,n,e[d[0]].range[0],"error","unknown_section_separator","Cannot interpret ${0} as a section separator",g),g="/|");const m=Cf[g];return{range:d,after:{char:m[0],attrs:[]},before:{char:m[1],attrs:[]},next:{char:g,attrs:[]},nextPrev:{char:"/",attrs:[]}}});c.forEach(d=>{function g(m,v){return!!(m&&"bracket"in m&&m.bracket==v)}g(e[d.range[1]],"[")&&(d.next.attrs=this.matchSeparatorAttr(e[d.range[1]].tokens,n,r),d.range[1]+=1),g(e[d.range[1]],"{")&&(d.before.attrs=this.matchSeparatorAttr(e[d.range[1]].tokens,n,r),d.range[1]+=1),g(e[d.range[0]-1],"{")&&(d.after.attrs=this.matchSeparatorAttr(e[d.range[0]-1].tokens,n,r),d.range[0]-=1)});let h=[];function f(d,g){return{range:[d,g],before:{char:"/",attrs:[]},after:{char:"/",attrs:[]},next:{char:"/",attrs:[]},nextPrev:{char:"/",attrs:[]}}}(c.length==0||c[0].range[0]>0)&&(c=[f(0,0)].concat(c));const p=c[c.length-1].range[1];e.length!=p&&c.push(f(e.length,e.length));for(let d=0;d<c.length;d++){let g=function(x,_){const w=_$[x.type];if(w===void 0)return;const y={after:0,next:1,before:2}[_],S={after:"pre",next:"self",before:"post"}[_];w[y]?_=="next"&&(b&&w[3]=="begin"&&De(r,n,x.range[0],"error","invalid_self_attr_begin","Separator attribute of type ${0} may not be a self attribute at the beginning of a sequence.",x.type),C&&w[3]=="end"&&De(r,n,x.range[0],"error","invalid_self_attr_end","Separator attribute of type ${0} may not be a self attribute at the end of a sequence.",x.type)):De(r,n,x.range[0],"error",`invalid_${S}_attr`,"Separator attribute of type ${0} may not be a "+S+" attribute.",x.type)};const m=c[d].next.char,v=Cf[m],b=d==0,C=d==c.length-1;b&&!v[2]&&De(r,n,ft.rangeSafe(e,c[d].range[0],0),"warning","invalid_begin_separator","Separator ${0} cannot be used at the beginning of a sequence.",m),C&&!v[4]&&De(r,n,ft.rangeSafe(e,c[d].range[0],0),"warning","invalid_end_separator","Separator ${0} cannot be used at the end of a sequence.",m),b&&c[d].after.attrs.length>0&&De(r,n,ft.rangeSafe(e,c[d].range[0],0),"error","invalid_pre_attr_begin","Separator on the beginning of the sequence cannot have pre attributes.",m),C&&c[d].before.attrs.length>0&&De(r,n,ft.rangeSafe(e,c[d].range[0],0),"error","invalid_post_attr_end","Separator on the end of the sequence cannot have post attributes.",m);for(let x of c[d].after.attrs)g(x,"after");for(let x of c[d].next.attrs)g(x,"next");for(let x of c[d].before.attrs)g(x,"before")}for(let d=1;d<c.length;d++){let g=c[d-1].range[1],m=c[d].range[0];g>=m&&(m=g,De(r,n,ft.rangeSafe(e,m,0),"error","empty_section",'This section is empty. Empty sections should be placeheld using "empty", otherwise it may cause unexpected behavior.'));const v=C=>{C.type=="beats"&&(i.musical=Object.assign({},i.musical),i.musical.beats=C.beats),C.type=="qpm"&&(i.musical=Object.assign({},i.musical),i.musical.qpm=C.qpm),C.type=="shift"&&(i.musical=Nx(i.musical,C))};if(l){for(let C of c[d-1].next.attrs)v(C);for(let C of c[d-1].before.attrs)v(C)}let b=i;if(o){const C=o[0][d-1+(o[1]-1)];C&&(b={...b,musical:C})}h.push(this.parseSection(e.slice(g,m),d-1,n,b,r,{range:[ft.rangeSafe(e,g,0),ft.rangeSafe(e,m-1,1)],separator:{before:c[d-1].before,after:c[d].after,next:c[d].next,nextPrev:{...c[d-1].next,...d-1!=0&&{attrs:[]}}}},s))}return h}matchSeparatorAttr(e,n,r){let i=[];return e.forEach(o=>{let s=!1;function l(a){if(a!==void 0)return Object.assign(a,{range:[o[0].range[0],o[o.length-1].range[1]]})}s||(s=jt(i,l(kt.matchOpenRange(o)))),s||(s=jt(i,l(kt.matchIter(o)))),s||(s=jt(i,l(kt.matchReset(o)))),s||(s=jt(i,l(kt.matchWeight(o)))),s||(s=jt(i,l(kt.matchTop(o)))),s||(s=jt(i,l(kt.matchPadding(o)))),s||(s=jt(i,l(kt.matchDurability(o)))),s||(s=jt(i,l(kt.matchRepeat(o)))),s||(s=jt(i,l(kt.matchQpm(o,n,r)))),s||(s=jt(i,l(kt.matchBeats(o,n,r)))),s||(s=jt(i,l(kt.matchShift(o,n,r)))),s||(s=jt(i,l(kt.matchText(o)))),s||(s=jt(i,l(kt.matchScriptedText(o)))),s||(s=jt(i,l(kt.matchLabel(o)))),s||De(r,n,o[0]?o[0].range[0]:0,"error","unknown_separator_attr","Cannot interpret `${0}` as a separator attribute",ft.stringify(o))}),i}parseSection(e,n,r,i,o,s,l){const a={lineNumber:r,index:n,masterId:`${r}-${n}`,uuid:`${r}-${n}`},u={range:s.range,startPos:{x:0,y:1},ordinal:0,separator:s.separator,musicalProps:i.musical,idCard:a};if(new wn(new et("word","empty")).test(e)||new wn(new et("word","e")).test(e))return Object.assign({},u,{type:"empty",structureValidation:"pass"});if(new wn(new et("word","omit")).test(e))return Object.assign({},u,{type:"omit",structureValidation:"pass",count:NaN});if(e.length==2&&!("bracket"in e[0])&&new et("word","omit").test(e[0])&&"bracket"in e[1]&&e[1].bracket=="("){const m=e[1].text.substring(1,e[1].text.length-1);let v=+m;return(isNaN(v)||v<1||v>=65536)&&(v=1,De(o,r,e[1].range[0],"error","unknown_omit_count","Cannot figure out what the omit count ${0} is",m)),Object.assign({},u,{type:"omit",structureValidation:"pass",count:v})}const c=Object.assign({},u,{type:"section",totalQuarters:{x:0,y:1},upbeatQuarters:{x:0,y:1},beatsValidation:"pass",structureValidation:"pass",notes:[],decoration:[],leftSplit:!1,leftSplitVoid:!1,rightSplit:!1}),[h,f,p]=new Kd(e,r,i).parse(c,ne.create(1),ne.create(0),o,l);c.totalQuarters=h,c.upbeatQuarters=p;let d=0;c.notes.forEach(m=>{m.uuid=a.uuid+"-"+d++});let g={};return c.notes.forEach(m=>{if(m.type!="note"||m.char.type!="music")return;const v=m.char;v.delta==v.delta?v.finalDelta=v.delta:v.finalDelta=g[v.char]??0,g[v.char]=v.finalDelta}),c}}const Lb=new k$;class A${constructor(e){ge(this,"input");this.input=e}parse(e){const n=this.input,r=this.destruct(n.uniqueLines.P,e,Qi),i=this.destructAndMergeRenderProps(n.lines,"Rp",e,Qi),o=_i(ys(Qi,r==null?void 0:r.props),i==null?void 0:i.props);return r!=null&&r.props.beats||De(e,n.lineNumber,0,"notice","missing_beats","Global beats is not specified. It will default to 0/4."),{lineNumber:n.lineNumber,scoreProps:{title:this.destruct(n.uniqueLines.Dt,e,o),subtitle:this.destruct(n.uniqueLines.Ds,e,o),prescript:this.destruct(n.uniqueLines.Dp,e,o),version:this.destruct(n.uniqueLines.Dv,e,o),descendText:{left:this.destruct(n.uniqueLines.Dl,e,o),right:this.destruct(n.uniqueLines.Dr,e,o)},authors:n.lines.filter(s=>s.head=="Da").map(s=>this.destruct(s,e,o)),footnotes:n.lines.filter(s=>s.head=="Df").map(s=>this.destruct(s,e,o))},musicalProps:r,renderProps:i,articles:n.children.map(s=>this.parseArticle(s,o,e))}}parseArticle(e,n,r){const i=this.destruct(e.uniqueLines.Sp,r,n),o=this.destructAndMergeRenderProps(e.lines,"Srp",r,n),s=_i(ys(n,i==null?void 0:i.props),o==null?void 0:o.props),l=Rb(s);let a=!1;return e.lines.forEach(u=>{u.head=="T"&&(a=!0)}),a?{lineNumber:e.lineNumber,type:"text",renderProps:o,title:this.destruct(e.uniqueLines.S,r,n),text:e.lines.filter(u=>u.head=="T").map(u=>this.destruct(u,r,s))}:{lineNumber:e.lineNumber,type:"music",musicalProps:i,renderProps:o,title:this.destruct(e.uniqueLines.S,r,n),fragments:e.children.map(u=>this.parseFragment(u,l,r))}}parseFragment(e,n,r){const i=this.destructAndMergeRenderProps(e.lines,"Frp",r,n),o=_i(n,i==null?void 0:i.props),s=Rb(o),l={lineNumber:e.lineNumber,break:this.destruct(e.uniqueLines.B,r,o),jumper:this.destruct(e.uniqueLines.J,r,o),renderProps:i,parts:e.children.map(u=>(o.musical={...s.musical},this.parsePart(u,o,r)))};o.musical={...s.musical};let a=0;if(l.parts.forEach(u=>{a=Math.max(a,u.notes.sections.length)}),a>0)for(let u of l.parts){const c=u.notes.sections[a-1];c&&(o.musical={...c.musicalProps})}return n.musical=o.musical,l}parsePart(e,n,r){const i=this.destructNotes(e.uniqueLines.N,r,n,!0),o=i.sections.map(s=>s.musicalProps);return{lineNumber:e.lineNumber,notes:i,fcaItems:this.destructFCA(e.lines,r,n,[o,1]),lyricLines:e.children.map(s=>this.parseLyricLine(s,n,o,r))}}parseLyricLine(e,n,r,i){return{lineNumber:e.lineNumber,lyric:this.destruct(e.uniqueLines.L,i,n),notesSubstitute:e.lines.filter(o=>o.head=="Ns").map(o=>this.destructNotesSubstitute(o,i,n,r)),lyricAnnotations:this.destruct(e.uniqueLines.La,i,n),fcaItems:this.destructFCA(e.lines,i,n,[r,1])}}destruct(e,n,r){if(e!==void 0){if(["Dt","Dp","Dv","Ds","Dl","Dr","S"].indexOf(e.head)!=-1)return this.destructCopyTitle(e,n);if(["T"].indexOf(e.head)!=-1)return this.destructText(e,n);if(["Da","Df"].indexOf(e.head)!=-1)return this.destructCopyMeta(e,n);if(["P","Pi","Sp"].indexOf(e.head)!=-1)return this.destructMusicProp(e,n);if(["Rp","Srp","Frp"].indexOf(e.head)!=-1)return this.destructRenderProp(e,n);if(["B"].indexOf(e.head)!=-1)return this.destructFlag(e,n);if(["J"].indexOf(e.head)!=-1)return this.destructJumper(e,n);if(["N","Na","Nc"].indexOf(e.head)!=-1)return this.destructNotes(e,n,r);if(["Ns"].indexOf(e.head)!=-1)return this.destructNotesSubstitute(e,n,r,[]);if(["A","La"].indexOf(e.head)!=-1)return this.destructAnnotation(e,n,r,[[],0],0,0);if(["L","Lc","Lw"].indexOf(e.head)!=-1)return this.destructLyrics(e,n,r);throw new Error("Destructor got something very new! "+e.head)}}destructFlag(e,n){return{lineNumber:e.lineNumber,type:"flag",head:e.head}}destructCopyTitle(e,n){return{lineNumber:e.lineNumber,type:"title",head:e.head,text:e.content}}destructText(e,n){let r=e.content,i=!1;r[0]=="|"&&(r=r.substring(1),i=!0);let o="",s=null,l=r.indexOf(">");return!i||l==-1?o=r:(o=r.substring(0,l),s=r.substring(l+1)),{lineNumber:e.lineNumber,type:"text",head:e.head,text1:o,text2:s}}destructCopyMeta(e,n){return{lineNumber:e.lineNumber,type:"note",head:e.head,tag:e.props??"",text:e.content}}destructMusicProp(e,n){let r={beats:void 0,qpm:void 0,base:void 0,transp:void 0,extras:[]};for(let i of e.content)(o=>{if(/^\+(\d+)\.?(\d*)$/.test(o)||/^\-(\d+)\.?(\d*)$/.test(o)){+o.substring(1)<=88&&(r.transp=+o);return}if(o.substring(0,2)=="1="){const s=o.substring(2);if(s=="?")r.base={value:NaN,baseValue:NaN,explicitOctave:!1};else{const l=oi.absNameToPitch(s);l.value==l.value?r.base=l:De(n,e.lineNumber,0,"error","unknown_base","Cannot figure out what the base tune ${0} is.",s)}return}if(/^[q|s|h]\.?pm=/.test(o)){let s=kt.stringQpm(o,e.lineNumber,0,n);s!==void 0&&(r.qpm=s);return}if(/^(\d+)\/(\d+)(T|S|s|)$/.test(o)||/^(\d+)\/(\d+)(T|S|s|)=/.test(o)){let s=kt.stringBeats(o,e.lineNumber,0,n);s!==void 0&&(r.beats=s);return}r.extras.push(o)})(i);return{lineNumber:e.lineNumber,type:"props",head:e.head,props:r}}destructAndMergeRenderProps(e,n,r,i){const s=e.filter(a=>a.head==n).map(a=>{const u=this.destruct(a,r,i);return this.validateRenderProps(u,r,i),u}).filter(a=>a!==void 0);if(s.length==0)return;const l=s[0];for(let a=1;a<s.length;a++)Object.assign(l.props,s[a].props);return l}validateRenderProps(e,n,r){if(e!=null){if(e.head=="Frp"){for(const i in e.props)if(Lx.indexOf(i)==-1){De(n,e.lineNumber,0,"error","frp_unsupported_key","Fragment render props can only contain `n` and `time_lining`.");break}}else if(e.head!="Rp"){for(const i of Rx)if(lr(i,e.props)){De(n,e.lineNumber,0,"error","rp_document_only_key","Render prop `${0}` can only be used at document level.",i);break}}}}destructRenderProp(e,n){let r={};return e.content.forEach(i=>{if(i.indexOf("=")!=-1){const[o,s]=od(i,"="),l=p$(o,s);typeof l=="object"&&"error"in l?l.error=="key"?De(n,e.lineNumber,0,"error","rp_unknown_key","Unknown render prop ${0}.",o):De(n,e.lineNumber,0,"error","rp_unknown_value","Unknown render prop value ${1} for ${0}.",o,s):r[o]=l}}),{lineNumber:e.lineNumber,type:"renderProps",head:e.head,props:r}}destructJumper(e,n){const r=[];let i=!1;return e.content.tokens.forEach(o=>{let s=!1;s||(s=jt(r,kt.matchIter(o))),s||(s=jt(r,kt.matchOctave(o))),s||(s=o$(()=>i=!0,kt.matchOpenRange(o))),s||(s=jt(r,kt.matchText(o))),s||(s=jt(r,kt.matchScriptedText(o))),s||De(n,e.lineNumber,o.length==0?0:o[0].range[0],"error","unknown_jumper_attr","Cannot interpret `${0}` as a jumper attribute",ft.stringify(o))}),{lineNumber:e.lineNumber,type:"jumper",head:e.head,openRange:i,attrs:r}}destructNotes(e,n,r,i){return{lineNumber:e.lineNumber,type:"notes",head:e.head,tags:this.matchPartAttr(e.props.tokens,e.lineNumber,n),sections:this.destructSections(e.content.tokens[0],e.lineNumber,n,r,"music",i)}}destructNotesSubstitute(e,n,r,i){const o=e.content.tokens[0];let s=new et("symbol",":").findIn(o),l=NaN;return s!=-1&&(l=+ft.stringify(o.slice(0,s))),(Math.floor(l)!=l||isNaN(l))&&(l=NaN,De(n,e.lineNumber,0,"error","nan_substitute_index","Where to substitute? Did you forget that?")),{lineNumber:e.lineNumber,type:"notesSubstitute",head:e.head,substituteLocation:l,tags:this.matchLrcAttr(e.props.tokens,e.lineNumber,n),decorations:[],sections:this.destructOverrideSections(o.slice(s+1),e.lineNumber,n,r,[i,l],"music")}}destructFCA(e,n,r,i){let o=0;return e.filter(s=>s.head=="A").map((s,l)=>this.destructAnnotation(s,n,r,i,l,o++))}destructAnnotation(e,n,r,i,o,s){let l=s;return e.head=="A"&&e.props!==null&&(l=+e.props-1,Math.floor(l)!=l&&(De(n,e.lineNumber,0,"error","unknown_annotation_index","Invalid annotation index `${0}`",e.props),l=s)),e.head=="A"?{lineNumber:e.lineNumber,type:"annotations",head:e.head,index:o,originIndex:l,sections:this.destructOverrideSections(e.content.tokens[0],e.lineNumber,n,r,i,"annotation")}:{lineNumber:e.lineNumber,type:"lyricsAnnotation",head:e.head,sections:this.destructOverrideSections(e.content.tokens[0],e.lineNumber,n,r,i,"text")}}destructLyrics(e,n,r){return{lineNumber:e.lineNumber,type:"lyrics",head:e.head,tags:this.matchLrcAttr(e.props.tokens,e.lineNumber,n),chars:new i0(e.content.tokens[0],e.lineNumber,r).parseLyrics(n,{L:"manual",Lc:"char",Lw:"word"}[e.head])}}destructSections(e,n,r,i,o,s){return Lb.parseSections(e,n,r,i,void 0,o,s)}destructOverrideSections(e,n,r,i,o,s,l){return Lb.parseSections(e,n,r,i,o,s,l)}matchPartAttr(e,n,r){const i=[];return e.forEach(o=>{let s=!1;s||(s=jt(i,kt.matchText(o))),s||(s=jt(i,kt.matchScriptedText(o))),s||De(r,n,o.length>0?o[0].range[0]:0,"error","unknown_part_attr","Cannot interpret ${0} as a part attribute",ft.stringify(o))}),i}matchLrcAttr(e,n,r){const i=[];return e.forEach(o=>{let s=!1;s||(s=jt(i,kt.matchIter(o))),s||(s=jt(i,kt.matchText(o))),s||(s=jt(i,kt.matchScriptedText(o))),s||De(r,n,o.length>0?o[0].range[0]:0,"error","unknown_lrc_attr","Cannot interpret ${0} as a lyricLine attribute",ft.stringify(o))}),i}}var Qe;(t=>{t.nullish={idCard:{lineNumber:-1,index:-1,masterId:"",uuid:""},range:[-1,-1],ordinal:0,startPos:ne.create(0),separator:{before:{char:"/",attrs:[]},after:{char:"/",attrs:[]},next:{char:"/",attrs:[]},nextPrev:{char:"/",attrs:[]}},musicalProps:Qi.musical,structureValidation:"pass",type:"nullish"};function e(S,A,M,R){for(A===void 0&&(A=[]),R==-1&&(R=A.length);S.length<M;)S.push({...t.nullish});for(let k=0;k<R;k++)S[M+k]=k<A.length?A[k]:{...t.nullish}}t.paint=e;function n(S){return S.type=="omit"?S.count!=S.count?1:S.count:1}t.ordinalCount=n;function r(S){let A=ne.mul(ne.create(4),S.musicalProps.beats.value);return ne.equals(A,ne.create(0))&&(A=ne.create(1,2)),S.type=="omit"?(S.count!=S.count,A):S.type!="section"?A:S.separator.next.char.indexOf("/")!=-1?ne.compare(S.totalQuarters,ne.create(0))>0?S.totalQuarters:ne.create(1,2):(ne.equals(S.musicalProps.beats.value,ne.create(0))?ne.prod(ne.create(S.musicalProps.beats.value.y),ne.create(1,4),S.totalQuarters).y!=1&&(S.beatsValidation="less"):ne.equals(S.totalQuarters,A)||(ne.compare(S.totalQuarters,A)>0?S.beatsValidation="more":S.beatsValidation="less"),ne.max(S.totalQuarters,A))}t.quarterCount=r;function i(S,A){let M,R=ne.create(0),k=!1,$;S.forEach((P,I)=>{if(P.type!="section"){M=void 0;return}if(P.leftSplit&&(R=ne.copy(P.startPos),M=!0,k=!0,$=void 0),P.notes.forEach(D=>{if(D.suffix.indexOf("^")!=-1)if(M===void 0)M=D,$=P,R=ne.add(P.startPos,D.startPos);else{M=void 0;const W=ne.add(P.startPos,D.startPos);A.push({type:"range",level:P==$?0:1,startPos:R,startSplit:k,endPos:W,char:"^"}),k=!1}}),P.rightSplit&&M){const D=S[I+1],W=D?D.startPos:ne.add(P.startPos,P.statQuarters??P.totalQuarters);A.push({type:"range",level:1,startPos:R,startSplit:k,endSplit:!0,endPos:W,char:"^"}),k=!1,M=void 0}}),$=void 0,M=void 0,k=!1;let E=!1;S.forEach((P,I)=>{if(P.type!="section"){M=void 0;return}if(P.leftSplitVoid&&(E=!0,$=void 0,M=void 0,R=ne.copy(P.startPos),k=!0),P.notes.forEach(D=>{if(D.type=="extend"){D.voided&&M&&(M.length=ne.add(M.length,D.length));return}if(E){D.voided=!0,M&&(M.length=ne.add(M.length,D.length));const W=ne.add(P.startPos,D.startPos);A.push({type:"range",level:P==$?0:1,startPos:R,startSplit:k,endPos:W,char:"~"}),k=!1,$=P,R=W,D.suffix.indexOf("~")==-1&&(E=!1)}else if(D.suffix.indexOf("~")!=-1){E=!0,M=D;const W=ne.add(P.startPos,D.startPos);$=P,R=W}else E=!1,M=D}),P.rightSplit&&E){const D=S[I+1],W=D?D.startPos:ne.add(P.startPos,P.statQuarters??P.totalQuarters);A.push({type:"range",level:1,startPos:R,startSplit:k,endPos:W,endSplit:!0,char:"~"}),k=!1,$=P,R=W,E=!1}});let L;S.forEach(P=>{if(L&&(P.separator.nextPrev={...P.separator.nextPrev,attrs:[...L.separator.next.attrs,...P.separator.nextPrev.attrs]},P.separator.before.char=="||:")){const I=(()=>{const D=L.separator.next.char;let W=D;return er(Cf,(z,G)=>{z[1]=="||:"&&z[0]==D&&(W=G)}),W})();L.separator.next.char=I}L=P})}t.interLink=i;function o(S,A,M){for(let R=A;R<A+M;R++)if(S[R].type!="nullish")return!1;return!0}t.allNullish=o;function s(S,A,M){for(let R=A;R<A+M;R++){const k=S[R];if(k.type=="section"){for(let $ of k.notes)if($.type=="note"&&!$.voided&&!("void"in $.char))return!1}if(C({},k,!1,!1))return!1}return!0}t.lyricsOrAnnAllEmpty=s;function l(S){if(S.type!="section")return!0;for(let A of S.chars)if(A.text||A.prefix||A.rolePrefix||A.postfix||A.extension)return!1;return!0}t.isLyricSectionEmpty=l;function a(S,A){if(!l(S.sections[A])||!s([S.lyricAnnotations.sections[A]],0,1))return!0;for(let M of S.fcaItems)if(!s([M.sections[A]],0,1))return!0;return!1}t.isLyricSectionRenderWorthy=a;function u(S,A,M){for(let R=A;R<A+M;R++)if(a(S,R))return!0;return!1}t.isLrcLineRenderWorthy=u;function c(S){const A=S.sections;for(let M of A)if(!l(M))return!0;return!!(S.lyricAnnotations&&!s(S.lyricAnnotations.sections,0,S.lyricAnnotations.sections.length))}t.isLrcLineTextRenderWorthy=c;function h(S,A,M,R){return{...S,sections:S.sections.slice(A,A+M).map((k,$)=>(R&&R.length>$&&(k.idCard.masterId=R[$].idCard.masterId),k))}}t.subLine=h;function f(S,A){S.sort((M,R)=>{const k=A(M),$=A(R);let E=Math.max(k.length,$.length);for(let L=0;L<E;L++){const P=k[L],I=$[L];if(P===void 0||P==-1)return-1;if(I===void 0||I==-1)return 1;if(P<I)return-1;if(P>I)return 1}return 0})}t.__indexSort=f;function p(S){return f(S,A=>A.index)}t.indexSort=p;function d(S,A){const[M,R]=[S[0],S[0]+S[1]],[k,$]=[A[0],A[0]+A[1]];return Math.min(R,$)-Math.max(M,k)>0}t.sectionRangeOverlaps=d;function g(S,A){let[M,R]=[S[0],ne.add(S[0],S[1])],[k,$]=[A[0],A[1]];return ne.isIndeterminate(k)&&(k=$),ne.equals($,M)?!0:ne.equals(k,$)?ne.compare(M,k)<=0&&ne.compare(k,R)<0:ne.compare(ne.sub(ne.min(R,$),ne.max(M,k)),ne.create(0))>0}t.fieldOverlaps=g;function m(S){const A=[];S.sort((k,$)=>k.startSection-$.startSection);let M="",R;return S.forEach(k=>{const $=k.attrs.length==0?M:JSON.stringify(k.attrs);R&&$==M&&R.endSection==k.startSection?R.endSection=k.endSection:A.push(R=k),M=$}),A}t.connectJumpers_m=m;function v(S,A){for(let M=0;M<A.length;M++){const R=A[M],k=A[M].startPos;let $=R.statQuarters??(R.type=="section"?R.totalQuarters:ne.create(0));const E=ne.add(A[M].startPos,$);if(ne.compare(k,S)<=0&&ne.compare(S,E)<0)return M}return-1}t.locateSection=v;function b(S,A){const M=v(S,A);if(M==-1)return;const R=A[M];if(R.type=="section"){for(let k of R.notes)if(ne.equals(ne.add(R.startPos,k.startPos),S))return k}}t.locateNote=b;function C(S,A,M=!1,R=!1){var $,E;if(((($=S==null?void 0:S.notes)==null?void 0:$.head)=="Na"||((E=S==null?void 0:S.notes)==null?void 0:E.head)=="Nc")&&(S!=null&&S.noMargin)&&S.noMargin[0])return!1;function k(L){return!R&&L.filter(P=>P.type=="openRange").length!=0?!1:L.filter(P=>P.type!="weight"&&P.type!="padding"&&P.type!="beats"&&P.type!="top"&&P.type!="openRange").length!=0}return k(A.separator.before.attrs)||!M&&k(A.separator.after.attrs)}t.hasRenderableSeparatorSideAttrs=C;function x(S){function A(M){return M.filter(R=>R.type=="openRange").length!=0}return A(S.separator.before.attrs)||A(S.separator.after.attrs)}t.openRangeMarked=x;function _(S){for(let A of S.separator.next.attrs)if(["text","scriptedText","repeat"].includes(A.type))return!0}t.hasSeparatorTopAttrs=_;function w(S){if(S.fcaItems.length>0){for(let A of S.fcaItems)if(!t.lyricsOrAnnAllEmpty(A.sections,0,A.sections.length))return A.sections}}t.fcaPrimary=w;function y(S){let A;if(S.fcaItems.length>0)for(let M of S.fcaItems)t.lyricsOrAnnAllEmpty(M.sections,0,M.sections.length)||(A=M.sections);return A}t.fcaLast=y})(Qe||(Qe={}));function rs(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function M$(t,e){return t<<e|t>>>32-e}function Yd(t,e,n,r,i,o){return rs(M$(rs(rs(e,t),rs(r,o)),i),n)}function Yn(t,e,n,r,i,o,s){return Yd(e&n|~e&r,t,e,i,o,s)}function Qn(t,e,n,r,i,o,s){return Yd(e&r|n&~r,t,e,i,o,s)}function Xn(t,e,n,r,i,o,s){return Yd(e^n^r,t,e,i,o,s)}function Zn(t,e,n,r,i,o,s){return Yd(n^(e|~r),t,e,i,o,s)}function E$(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var n,r,i,o,s,l=1732584193,a=-271733879,u=-1732584194,c=271733878;for(n=0;n<t.length;n+=16)r=l,i=a,o=u,s=c,l=Yn(l,a,u,c,t[n],7,-680876936),c=Yn(c,l,a,u,t[n+1],12,-389564586),u=Yn(u,c,l,a,t[n+2],17,606105819),a=Yn(a,u,c,l,t[n+3],22,-1044525330),l=Yn(l,a,u,c,t[n+4],7,-176418897),c=Yn(c,l,a,u,t[n+5],12,1200080426),u=Yn(u,c,l,a,t[n+6],17,-1473231341),a=Yn(a,u,c,l,t[n+7],22,-45705983),l=Yn(l,a,u,c,t[n+8],7,1770035416),c=Yn(c,l,a,u,t[n+9],12,-1958414417),u=Yn(u,c,l,a,t[n+10],17,-42063),a=Yn(a,u,c,l,t[n+11],22,-1990404162),l=Yn(l,a,u,c,t[n+12],7,1804603682),c=Yn(c,l,a,u,t[n+13],12,-40341101),u=Yn(u,c,l,a,t[n+14],17,-1502002290),a=Yn(a,u,c,l,t[n+15],22,1236535329),l=Qn(l,a,u,c,t[n+1],5,-165796510),c=Qn(c,l,a,u,t[n+6],9,-1069501632),u=Qn(u,c,l,a,t[n+11],14,643717713),a=Qn(a,u,c,l,t[n],20,-373897302),l=Qn(l,a,u,c,t[n+5],5,-701558691),c=Qn(c,l,a,u,t[n+10],9,38016083),u=Qn(u,c,l,a,t[n+15],14,-660478335),a=Qn(a,u,c,l,t[n+4],20,-405537848),l=Qn(l,a,u,c,t[n+9],5,568446438),c=Qn(c,l,a,u,t[n+14],9,-1019803690),u=Qn(u,c,l,a,t[n+3],14,-187363961),a=Qn(a,u,c,l,t[n+8],20,1163531501),l=Qn(l,a,u,c,t[n+13],5,-1444681467),c=Qn(c,l,a,u,t[n+2],9,-51403784),u=Qn(u,c,l,a,t[n+7],14,1735328473),a=Qn(a,u,c,l,t[n+12],20,-1926607734),l=Xn(l,a,u,c,t[n+5],4,-378558),c=Xn(c,l,a,u,t[n+8],11,-2022574463),u=Xn(u,c,l,a,t[n+11],16,1839030562),a=Xn(a,u,c,l,t[n+14],23,-35309556),l=Xn(l,a,u,c,t[n+1],4,-1530992060),c=Xn(c,l,a,u,t[n+4],11,1272893353),u=Xn(u,c,l,a,t[n+7],16,-155497632),a=Xn(a,u,c,l,t[n+10],23,-1094730640),l=Xn(l,a,u,c,t[n+13],4,681279174),c=Xn(c,l,a,u,t[n],11,-358537222),u=Xn(u,c,l,a,t[n+3],16,-722521979),a=Xn(a,u,c,l,t[n+6],23,76029189),l=Xn(l,a,u,c,t[n+9],4,-640364487),c=Xn(c,l,a,u,t[n+12],11,-421815835),u=Xn(u,c,l,a,t[n+15],16,530742520),a=Xn(a,u,c,l,t[n+2],23,-995338651),l=Zn(l,a,u,c,t[n],6,-198630844),c=Zn(c,l,a,u,t[n+7],10,1126891415),u=Zn(u,c,l,a,t[n+14],15,-1416354905),a=Zn(a,u,c,l,t[n+5],21,-57434055),l=Zn(l,a,u,c,t[n+12],6,1700485571),c=Zn(c,l,a,u,t[n+3],10,-1894986606),u=Zn(u,c,l,a,t[n+10],15,-1051523),a=Zn(a,u,c,l,t[n+1],21,-2054922799),l=Zn(l,a,u,c,t[n+8],6,1873313359),c=Zn(c,l,a,u,t[n+15],10,-30611744),u=Zn(u,c,l,a,t[n+6],15,-1560198380),a=Zn(a,u,c,l,t[n+13],21,1309151649),l=Zn(l,a,u,c,t[n+4],6,-145523070),c=Zn(c,l,a,u,t[n+11],10,-1120210379),u=Zn(u,c,l,a,t[n+2],15,718787259),a=Zn(a,u,c,l,t[n+9],21,-343485551),l=rs(l,r),a=rs(a,i),u=rs(u,o),c=rs(c,s);return[l,a,u,c]}function $$(t){var e,n="";for(e=0;e<t.length*32;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function R$(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<t.length*8;e+=8)n[e>>5]|=(t.charCodeAt(e/8)&255)<<e%32;return n}function L$(t){return $$(E$(R$(t),t.length*8))}function N$(t){var e="0123456789abcdef",n="",r,i;for(i=0;i<t.length;i+=1)r=t.charCodeAt(i),n+=e.charAt(r>>>4&15)+e.charAt(r&15);return n}function P$(t){return unescape(encodeURIComponent(t))}function O$(t){return L$(P$(t))}function I$(t){return N$(O$(t))}function cv(t,e,n){return I$(t)}function sl(t){return new TextEncoder().encode(t).length>32?cv(t):t}function D$(t,e){if(t.length==0)return{hash:sl("index_"+e.toString()),type:"index",index:e,attrs:t};const n=t[0];if(n.type=="text")return{hash:sl("text_"+n.text),type:"text",text:n.text,attrs:t};if(n.type=="scriptedText")return{hash:sl("sub_"+n.text+"_"+n.sub),type:"sub",text:n.text,sub:n.sub,attrs:t};if(n.type=="iter"){const r=t.filter(i=>i.type=="iter").map(i=>i.type=="iter"?i.iter:-1).sort();return{hash:sl("iter_"+r.join("_")),type:"iter",iters:r,attrs:t}}}function F$(t,e,n){let r="";if(e.length>0){const i=e[0];i.type=="text"?r="text_"+i.text:i.type=="scriptedText"&&(r="sub_"+i.text+"_"+i.sub)}else r="index_"+n.toString();return r=(t=="Nc"?"N":t)+"_"+r,e.length>0?{hash:sl(r),head:t,type:"titled",value:e[0]}:{hash:sl(r),head:t,type:"untitled",value:n}}function Nb(t){return t===void 0?"":t.map(e=>e.hash).join("")}class W${constructor(e){ge(this,"input");ge(this,"flattenArticle",(e,n,r)=>{const i=[],o=[],s=[];if(e.type=="text")return{lineNumber:e.lineNumber,type:"text",title:e.title,renderProps:e.renderProps,text:e.text};const l=[];let a=[];const u={};let c=0;e.fragments.forEach(f=>{var g;let p=0;const d=_i(n,(g=f.renderProps)==null?void 0:g.props);f.parts.forEach(m=>{p=Math.max(p,m.notes.sections.length)}),f.parts.forEach((m,v)=>{const b=F$(m.notes.head,m.notes.tags,v);Nr(a,"hash",b.hash)||(a.push(b),u[b.hash]={lineNumber:m.lineNumber,signature:b,notes:{lineNumber:-1,type:"notes",head:m.notes.head,tags:m.notes.tags,sections:[]},lyricLines:[],fcaItems:[],indexMap:[],headMap:[],decorations:[]});const C=u[b.hash];Qe.paint(C.notes.sections,m.notes.sections,c,p),this.mergeFCA(C,m,c,p),m.lyricLines.forEach((x,_)=>{const w=Object.assign({},x,{offset:c,index:_});C.lyricLines.push(w),w.notesSubstitute.forEach(y=>{y.substituteLocation+=c-1})}),Hs(C.indexMap,c,p,v,()=>-1),Hs(C.headMap,c,p,m.notes.head,()=>{})}),f.jumper&&l.push({startSection:c,endSection:c+p,openRange:f.jumper.openRange,attrs:f.jumper.attrs}),Hs(i,c,p,d.render.n,()=>-1),Hs(o,c,p,d.render.time_lining,()=>!1),f.break!==void 0&&Hs(s,c,1,!0,()=>!1),c+=p}),er(u,(f,p)=>{Wa(f.notes.sections,c,()=>({...Qe.nullish})),this.refineFCA(f,c);let d=-1,g="N";for(let m=f.indexMap.length-1;m>=0;m--)f.indexMap[m]==-1?f.indexMap[m]=d:d=f.indexMap[m],f.headMap[m]==null?f.headMap[m]=g:g=f.headMap[m]}),Wa(s,c,()=>!1);const h=[];return er(u,f=>h.push(f)),Qe.__indexSort(h,f=>f.indexMap),{lineNumber:e.lineNumber,type:"music",sectionCount:c,title:e.title,musicalProps:e.musicalProps,renderProps:e.renderProps,partSignatures:a,jumpers:l,columns:[],parts:h,nMap:i,timeLiningMap:o,breakMap:s,sectionFields:[]}});ge(this,"allocateLocation",(e,n,r)=>{if(e.type=="text")return;let i=0,o=ne.create(0);for(let s=0;s<e.sectionCount;s++){let l=Math.max(...e.parts.map(u=>Qe.ordinalCount(u.notes.sections[s]))),a=ne.max(...e.parts.map(u=>Qe.quarterCount(u.notes.sections[s])));e.parts.map(u=>{u.notes.sections[s].statQuarters=a}),e.parts.forEach(u=>{u.notes.sections[s].ordinal=i,u.notes.sections[s].startPos=ne.copy(o),this.allocateFCA(u,s,i,o,a)}),e.sectionFields.push([o,a]),i+=l,o=ne.add(o,a)}});ge(this,"interLink1",(e,n,r)=>{e.type!="text"&&e.parts.forEach(i=>{Qe.interLink(i.notes.sections,i.decorations),i.fcaItems.forEach(o=>{Qe.interLink(o.sections,[])})})});ge(this,"flatten2Article",(e,n,r)=>{if(e.type=="text")return e;const{parts:i,...o}=e,s=e.sectionCount;return{parts:i.map(l=>{const{lyricLines:a,...u}=l,c=[],h={},f={ordinal:0,startPos:ne.create(0),type:"nullish"};return l.lyricLines.map(p=>{var v;const d=D$(p.lyric.tags,p.index);Nr(c,"hash",d.hash)||(c.push(d),h[d.hash]={lineNumber:-1,sections:[],notesSubstitute:[],lyricAnnotations:{lineNumber:-1,type:"lyricsAnnotation",head:"La",sections:[]},attrsMap:[],fcaItems:[],indexMap:[],signature:d});const g=h[d.hash];this.mergeFCA(g,p,p.offset,-1),Qe.paint(g.lyricAnnotations.sections,(v=p.lyricAnnotations)==null?void 0:v.sections,p.offset,-1),Hs(g.indexMap,p.offset,s-p.offset,p.index,()=>-1),Hs(g.attrsMap,p.offset,s-p.offset,p.lyric.tags,()=>[]),p.notesSubstitute.forEach(b=>{b.sections.forEach((C,x)=>{const _=x+b.substituteLocation,w=l.notes.sections[_];w&&(C.startPos=w.startPos,C.statQuarters=w.statQuarters,C.ordinal=w.ordinal)}),Qe.interLink(b.sections,b.decorations);for(let C of b.sections)Qe.quarterCount(C);g.notesSubstitute.push(b)});const m=this.sectionifyLyrics(p,l.notes.sections,n,r);a$(g.sections,m,p.offset,-1,()=>({...f}))}),er(h,p=>{Wa(p.sections,s,()=>({...f})),Wa(p.lyricAnnotations.sections,s,()=>({...Qe.nullish})),this.refineFCA(p,s);let d=-1;for(let g=p.indexMap.length-1;g>=0;g--)p.indexMap[g]==-1?p.indexMap[g]=d:d=p.indexMap[g]}),{lyricLines:er(h,p=>{function d(g,m){m.forEach((v,b)=>{b<g.sectionCount&&(v.startPos=g.sectionFields[b][0],v.statQuarters=g.sectionFields[b][1])})}return p.fcaItems.forEach(g=>{d(e,g.sections),Qe.interLink(g.sections,[])}),d(e,p.lyricAnnotations.sections),p}),lyricLineSignatures:[],...u}}),...o}});ge(this,"linifyArticle",(e,n,r)=>{let i=[];if(e.type=="text")return e;let o=0;for(;o<e.sectionCount;){const a=e.nMap[o],u=e.timeLiningMap[o];let c=Math.min(e.sectionCount-o,a);for(let b=o+1;b<o+c;b++)if(b<e.sectionCount&&e.breakMap[b]){c=b-o;break}const h=[];for(let b=o;b<o+c;b++)h.push(b);const f=[e.sectionFields[o][0],ne.sum(...h.map(b=>e.sectionFields[b][1]))];e.jumpers=Qe.connectJumpers_m(e.jumpers);const p=[],d=[],g=Array(c).fill(0),m=Array(c).fill(0);e.parts.forEach(b=>{if(Qe.allNullish(b.notes.sections,o,c))return;p.push(b.signature);const C=Qe.subLine(b.notes,o,c),x=C.sections,_=[],w=[];b.lyricLines.forEach(y=>{const S=y.notesSubstitute.filter(P=>Qe.sectionRangeOverlaps([o,c],[P.substituteLocation,P.sections.length])).map(P=>({...P,substituteLocation:P.substituteLocation-o})).map(P=>{P.substituteLocation<0&&(P.sections=P.sections.slice(-P.substituteLocation),P.substituteLocation=0);const I=c-P.substituteLocation;return P.sections.length>I&&(P.sections=P.sections.slice(0,I)),P.decorations=P.decorations.filter(D=>Qe.fieldOverlaps(f,[D.startPos,D.endPos])),P});if(!Qe.isLrcLineRenderWorthy(y,o,c)&&S.length==0)return;_.push(y.signature);const{fcaItems:A,sections:M,indexMap:R,attrsMap:k,lyricAnnotations:$,notesSubstitute:E,...L}=y;w.push({sections:M.slice(o,o+c),index:R.slice(o,o+c),attrs:k[o],lyricAnnotations:$?Qe.subLine($,o,c,x):void 0,notesSubstitute:S,...this.subFCA({fcaItems:A},o,c,x),...L})}),Qe.indexSort(w),C.sections.forEach((y,S)=>{const A=Nr(y.separator.before.attrs,"type","weight");A&&(g[S]=Math.max(g[S],A.weight));const M=Nr(y.separator.before.attrs,"type","padding");M&&(m[S]=Math.max(g[S],M.padding))}),C.head=b.headMap[o],d.push({lineNumber:b.lineNumber,signature:b.signature,decorations:b.decorations.filter(y=>Qe.fieldOverlaps(f,[y.startPos,y.endPos])),index:b.indexMap.slice(o,o+c),notes:C,lyricLineSignatures:_,lyricLines:w,noMargin:[!1,!1],...this.subFCA(b,o,c,x)})}),Qe.indexSort(d),g.forEach((b,C)=>{b==0&&(g[C]=1)}),d.forEach((b,C)=>{function x(_){return _.notes.head=="Na"||_.notes.head=="Nc"}if(x(b)&&C!=0&&b.notes.head=="Na"&&(b.noMargin[0]=!0),C!=d.length-1){const _=d[C+1];x(b)&&x(_)&&b.notes.head==_.notes.head&&(b.noMargin[1]=!0,_.noMargin[0]=!0)}});let v=o;d.forEach((b,C)=>{b.notes.sections[0].type!="nullish"&&(v=b.notes.sections[0].ordinal)}),i.push({field:f,sectionWeights:g,sectionPadding:m,startOrdinal:v,startSection:o,sectionCountShould:a,timeLining:u,sectionCount:c,partSignatures:p,parts:d,jumpers:e.jumpers.filter(b=>Qe.sectionRangeOverlaps([o,c],[b.startSection,b.endSection-b.startSection])),sectionFields:e.sectionFields.slice(o,o+c)}),o+=c}const{parts:s,...l}=e;return{lines:i,...l}});this.input=e}parse(e){const n=this.applyArticle(this.flattenArticle,this.input,e);this.applyArticle(this.allocateLocation,n,e),this.applyArticle(this.interLink1,n,e);const r=this.applyArticle(this.flatten2Article,n,e);return{lined:this.applyArticle(this.linifyArticle,r,e),flattened:r}}applyArticle(e,n,r){var o,s;const i=ys(_i(Qi,(o=n.renderProps)==null?void 0:o.props),(s=n.musicalProps)==null?void 0:s.props);return Object.assign({},this.input,{articles:n.articles.map(l=>{var a,u;return e(l,ys(_i(i,l.type=="music"?(a=l.renderProps)==null?void 0:a.props:void 0),l.type=="music"?(u=l.musicalProps)==null?void 0:u.props:void 0),r)})})}mergeFCA(e,n,r,i){n.fcaItems.forEach(o=>{let s=e.fcaItems.filter(l=>l.head==o.head&&l.index==o.index&&l.originIndex==o.originIndex)[0];s===void 0&&Wa(e.fcaItems,e.fcaItems.length+1,()=>s={lineNumber:-1,type:"annotations",head:"A",index:o.index,originIndex:o.originIndex,sections:[]}),Qe.paint(s.sections,o.sections,r,i)})}refineFCA(e,n){e.fcaItems.forEach(r=>{Wa(r.sections,n,()=>({...Qe.nullish}))})}allocateFCA(e,n,r,i,o){e.fcaItems.map(s=>{s.sections[n].ordinal=r,s.sections[n].startPos=i,s.sections[n].statQuarters=o})}sectionifyLyrics(e,n,r,i){let o=[];const s=e.lyric.chars;let l=0;for(let a=e.offset;a<n.length&&!(l>=s.length);a++){let u=[];const c=n[a];let h=c;if(e.notesSubstitute.forEach(f=>{f.substituteLocation<=a&&f.substituteLocation+f.sections.length>a&&(h=f.sections[a-f.substituteLocation])}),h.type!="section"){o.push({ordinal:c.ordinal,startPos:c.startPos,type:"nullish"});continue}for(let f of h.notes){if(f.type!="note"||f.voided||f.char.char=="0")continue;if(l>=s.length)break;let p=!1;for(;;){const d=s[l++];if(d===void 0)break;if(d.occupiesSpace&&p){l--;break}u.push(Object.assign({},d,{startPos:ne.copy(f.startPos),length:f.length})),d.occupiesSpace&&(p=!0)}}o.push({ordinal:c.ordinal,startPos:c.startPos,type:"section",chars:u})}return o}subFCA(e,n,r,i){return{fcaItems:e.fcaItems.sort((o,s)=>o.index-s.index).map(o=>Qe.subLine(o,n,r,i))}}}var uv;(t=>{function e(n){n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`);const r=n.split(`
`),i=[];let o=0,s=!1,l;for(let a of r){o+=1;let u=!1;a!=""&&a[a.length-1]=="\\"&&(a=a.substring(0,a.length-1),u=!0),s?l.text+=a:i.push(l={text:a,lineNumber:o}),s=u}return i}t.linify=e})(uv||(uv={}));var Lt;(t=>{function e(C,x,_){return C.parts.map(w=>{const y=w.notes.sections[x];if(!(!y||y.type=="nullish"))return _(y.separator)})}function n(C,x){return x=="after"?C.after:x=="before"?C.before:x=="nextPrev"?C.nextPrev:C.next}t.getAttr=n;function r(C,x){let _=!1;for(let w of C)if(w.type=="iter"&&(_=!0,w.iter==x))return!0;return!_}t.jumperAttrMatch=r;function i(C,x,_){return e(C,x,w=>n(w,_).attrs.filter(y=>y.type=="reset").length>0).filter(w=>w==!0).length>0}t.checkReset=i;function o(C,x){let _=C.parts[0].notes.sections[x],w=1/0;for(let y of C.parts){const S=y.notes.sections[x];if(S.type=="nullish")break;let A=y.indexMap[x];A<w&&(w=A,_=S)}return _}t.getPrimoSection=o;function s(C,x){return x.type=="qpm"?{...C,qpm:x.qpm}:x.type=="shift"?Nx(C,x):C}t.recreateMusicalProps=s;function l(C,x){return e(C,x,_=>{if([":||",":/||"].includes(_.after.char))return!0}).filter(_=>_==!0).length>0}t.isSeparatorRepeatCommand=l;function a(C,x){return e(C,x,_=>{if(["|||"].includes(_.after.char))return!0}).filter(_=>_==!0).length>0}t.isSeparatorFinal=a;function u(C,x){return e(C,x,_=>{if(["||:"].includes(_.before.char))return!0}).filter(_=>_==!0).length>0}t.isSeparatorRepeatPos=u;function c(C,x,_){return e(C,x,w=>n(w,_).attrs).filter(w=>w!==void 0).reduce((w,y)=>w.concat(y),[])}t.getMergedAttrs=c;function h(C,x){return c(C,x,"after").concat(c(C,x,"next")).filter(w=>w.type=="repeat").filter(w=>w.type=="repeat").map(w=>{if(w.type!="repeat"||w.char=="$")return"$";if(w.char=="@")return"@";if(w.char=="D.C.")return"D.C.";if(w.char=="D.S.")return"D.S.";if(w.char=="Fine.")return"Fine."})}t.isStructureRepeatCommand=h;function f(C,x){return c(C,x,"nextPrev").concat(c(C,x,"before")).filter(w=>w.type=="repeat").filter(w=>w.type=="repeat").map(w=>{if(w.type!="repeat"||w.char=="$")return"$";if(w.char=="@")return"@"})}t.isStructureRepeatPos=f;function p(C,x,_){for(let w=x;w>=0;w--)if(_(w))return w}t.findPrevSectionIndex=p;function d(C,x,_){for(let w=x;w<C.sectionCount;w++)if(_(w))return w}t.findNextSectionIndex=d;function g(C,x,_){const w=C.lyricLines.filter(A=>{for(let M of A.notesSubstitute){const R=M.substituteLocation,k=R+M.sections.length;if(R<=x&&x<k)return!0}return Qe.isLyricSectionRenderWorthy(A,x)}).sort((A,M)=>A.indexMap[x]-M.indexMap[x]);let y=[],S=[];for(let A of w)A.attrsMap[x].filter(k=>k.type=="iter").length>0?y.push(A):S.push(A);for(let A of y)if(A.attrsMap[x].filter(R=>R.type=="iter"&&R.iter==_).length>0)return A;if(S.length!=0)return S[Math.min(S.length-1,_-1)]}t.pickLrcLine=g;function m(C,x,_,w){const y=C[x];if(!y||y.iterations.length==0)return{article:x,iteration:-1,section:-1};const S=[];for(let A=1;A<y.iterations.length;A++)A==_&&S.push(A);for(let A=1;A<y.iterations.length;A++)A!=_&&S.push(A);S.push(0);for(let A of S){const M=y.iterations[A];for(let R of M.sections)for(let k in R.parts)if(R.parts[k].section.idCard.uuid==w)return{article:x,iteration:A,section:R.index}}return{article:x,iteration:-1,section:-1}}t.locateSection=m;function v(C,x){for(let _ in C.parts){const w=C.parts[_];if(w.section.type!="section")continue;const y=x(w,_);if(y)for(let S of w.section.notes)y(S)}}t.handleSequenceNotes=v;function b(C,x,_,w){let y,S;for(let A=x;A<C.iterations.length;A++){const M=C.iterations[A];if(A!=x&&!y)break;for(let R=0;R<M.sections.length;R++){const k=M.sections[R];if(y||w){S=[A,k.index];break}A==x&&!y&&k.index==_&&(y=k)}if(y&&S)break}return S&&x==0&&S[0]>0&&(S=void 0),{section:y,next:S}}t.findSectionInSequence=b})(Lt||(Lt={}));class Pb{constructor(e,n,r,i){ge(this,"article");ge(this,"context");ge(this,"issues");ge(this,"flat");ge(this,"iterationLimit",2048);ge(this,"cumulativeLengthMillis",0);ge(this,"sectionCursor",0);ge(this,"currentProps",{});ge(this,"passingTimes",[]);ge(this,"repeatDamage",[]);ge(this,"passingIterations",[]);ge(this,"jumperHeadStat",[]);ge(this,"jumperSectionStat",[]);ge(this,"frontier");ge(this,"iterations",[]);ge(this,"overflow",!1);ge(this,"conflict",!1);this.article=e,this.context=n,this.issues=r,this.flat=i}parse(){if(this.article.sectionCount==0)return{overflow:!1,conflict:!1,iterations:[]};for(this.initialize();this.exploreSection(););return{overflow:this.overflow,conflict:this.conflict,iterations:this.iterations}}initialize(){this.sectionCursor=0,this.cumulativeLengthMillis=0,this.repeatDamage=Array(this.article.sectionCount).fill(0),this.passingTimes=Array(this.article.sectionCount).fill(0),this.jumperHeadStat=Array(this.article.sectionCount).fill(void 0),this.jumperSectionStat=Array(this.article.sectionCount).fill(0).map(()=>[]),this.passingIterations=Array(this.article.sectionCount).fill(0).map(()=>({})),this.statJumpers();for(let e of this.article.partSignatures)this.currentProps[e.hash]={...this.context.musical};if(!this.expandFrontier(this.flat?0:1))throw new Error("ArticleSequenceReader: Failed to create the first iteration. How?")}statJumpers(){for(let e of this.article.jumpers){this.jumperHeadStat[e.startSection]=e;for(let n=e.startSection;n<e.endSection;n++)this.jumperSectionStat[n]=e.attrs}}expandFrontier(e){if(this.iterations.length>=this.iterationLimit){const n=Lt.getPrimoSection(this.article,this.sectionCursor);return De(this.issues,n.idCard.lineNumber,n.range[0],"error","repeat_overflow","Total number of repeat iterations exceeded the limit ${0}. This may be caused by dead loops.",""+this.iterationLimit),!1}return this.iterations.push(this.frontier={number:e,sections:[]}),!0}exploreSection(){if(this.sectionCursor<0||this.sectionCursor>=this.article.sectionCount)throw new Error("ArticleSequenceReader/exploreSection: Section cursor is out of range.");if(!this.flat){if(this.checkJumperHead())return!(this.sectionCursor>=this.article.sectionCount);if(this.checkPortalHead())return!(this.sectionCursor>=this.article.sectionCount);if(!this.checkReset(["nextPrev","before"]))return!1}if(this.checkMusicalVariation("nextPrev"),this.checkMusicalVariation("before"),this.checkConflict(),this.pushCurrentSection(),this.checkPropsMatch(),this.checkMusicalVariation("after"),this.flat){if(this.sectionCursor+=1,this.sectionCursor>=this.article.sectionCount)return!1}else if(!this.checkReset(["after"])||!this.checkRepeatJump())return!1;return!0}checkJumperHead(){const e=this.jumperHeadStat[this.sectionCursor];return e&&!Lt.jumperAttrMatch(e.attrs,this.frontier.number)?(this.sectionCursor=e.endSection,!0):!1}checkPortalHead(){if(Lt.isStructureRepeatPos(this.article,this.sectionCursor).includes("@")&&this.hasUsedRepeatsAfter(this.sectionCursor)){const e=Lt.findNextSectionIndex(this.article,this.sectionCursor,n=>Lt.isStructureRepeatCommand(this.article,n).includes("@"));return e===void 0?!1:(this.sectionCursor=e+1,!0)}return!1}hasUsedRepeatsAfter(e){return Lt.findNextSectionIndex(this.article,e,n=>this.repeatDamage[n]>0)!==void 0}checkReset(e){let n=!1;for(let r of e)if(Lt.checkReset(this.article,this.sectionCursor,r)){n=!0;break}if(n&&this.passingTimes.fill(0),this.frontier.number>1&&n){if(!this.frontier||this.frontier.sections.length>0)return this.expandFrontier(1);this.frontier.number=1}return!0}checkMusicalVariation(e){if(e=="before")for(let n of this.article.parts){const r=n.notes.sections[this.sectionCursor];r.type!="nullish"&&(this.currentProps[n.signature.hash]={...this.currentProps[n.signature.hash],beats:r.musicalProps.beats})}this.checkOneVariation(e,"qpm"),this.checkOneVariation(e,"shift")}checkOneVariation(e,n){for(let r of this.article.parts){const i=r.notes.sections[this.sectionCursor],o=(()=>{if(i.type!="nullish"){const s=Lt.getAttr(i.separator,e).attrs.filter(l=>l.type==n);if(n!="qpm"||s.length>0)return s}for(let s of this.article.parts){const l=s.notes.sections[this.sectionCursor],a=Lt.getAttr(l.separator,e).attrs.filter(u=>u.type==n);if(a.length>0)return a}return[]})();for(let s of o)s.type==n&&(this.currentProps[r.signature.hash]=Lt.recreateMusicalProps(this.currentProps[r.signature.hash],s))}}checkConflict(){const e=Lt.getPrimoSection(this.article,this.sectionCursor),n=this.frontier.number,r=this.passingIterations[this.sectionCursor];if(r[n]){if(r[n]=="passed"){r[n]="warned",De(this.issues,e.idCard.lineNumber,e.range[0],"warning","repeat_conflict","Section ${0} is passed twice by iteration number ${1}",""+(e.ordinal+1),""+n);for(let i of this.article.parts)i.notes.sections[this.sectionCursor].structureValidation="conflict";this.conflict=!0}}else r[n]="passed"}pushCurrentSection(){let e=this.passingTimes[this.sectionCursor]+=1,n=0;if(this.jumperSectionStat[this.sectionCursor])for(let c of this.jumperSectionStat[this.sectionCursor])c.type=="octave"&&(n+=c.sign);const r=this.article.sectionFields[this.sectionCursor][1];let i=1/0;const o=this.article.parts.map(c=>{let h=this.currentProps[c.signature.hash];n!=0&&(h={...h,base:{...h.base,value:(isNaN(h.base.value)?0:h.base.value)+n*12,baseValue:(isNaN(h.base.baseValue)?0:h.base.baseValue)+n*12}});let f=c.notes.sections[this.sectionCursor];if(f.type!="nullish"&&(i=Math.min(i,oi.speedToQpm(h.qpm.value,h.qpm.symbol,h.beats.defaultReduction))),!this.flat){const p=Lt.pickLrcLine(c,this.sectionCursor,e);if(p)for(let d of p.notesSubstitute){const g=d.substituteLocation,m=d.substituteLocation+d.sections.length;if(g<=this.sectionCursor&&this.sectionCursor<m){f=d.sections[this.sectionCursor-g];break}}}return{signature:c.signature,section:f,props:h}}),l=ne.toFloat(r)/i*60*1e3;this.cumulativeLengthMillis+=l;const a={};for(let c of o)a[c.signature.hash]=c;const u=Lt.getPrimoSection(this.article,this.sectionCursor);this.frontier.sections.push({parts:a,ordinal:this.article.parts[0].notes.sections[this.sectionCursor].ordinal,index:this.sectionCursor,qpm:i,beats:u.musicalProps.beats,lengthQuarters:r,lengthMillis:l,cumulativeLengthMillis:this.cumulativeLengthMillis})}checkPropsMatch(){const e=this.frontier.sections[this.frontier.sections.length-1];if(!e)return;let n;for(let r in e.parts){const i=e.parts[r];if(i.section.type!="nullish"){if(this.flat){const o=i.props.beats;n===void 0?n=o:(o.value.x!=n.value.x||o.value.y!=n.value.y||o.defaultReduction!=n.defaultReduction||o.swing!=n.swing)&&De(this.issues,i.section.idCard.lineNumber,i.section.range[0],"error","mismatching_beats","Section ${0} (m${1}) has mismatching beats against other concurrent sections.",""+i.section.idCard.uuid,""+(i.section.ordinal+1))}if(!this.flat){const o=i.props,s=oi.speedToQpm(o.qpm.value,o.qpm.symbol,o.beats.defaultReduction);Math.abs(s-e.qpm)>=.001&&De(this.issues,i.section.idCard.lineNumber,i.section.range[0],"warning","mismatching_speed","Section ${0} (m${1}) at iteration ${2} has mismatching speed against other concurrent sections (${3}≠${4})",""+i.section.idCard.uuid,""+(i.section.ordinal+1),""+this.frontier.number,""+s,""+e.qpm)}}}}checkRepeatJump(){if(Lt.isSeparatorRepeatCommand(this.article,this.sectionCursor)&&this.checkConditionalRepeat(this.sectionCursor,"after",this.frontier.number)){let r=Lt.findPrevSectionIndex(this.article,this.sectionCursor,i=>Lt.isSeparatorRepeatPos(this.article,i)&&this.checkConditionalRepeat(i,"before",this.frontier.number+1));return r===void 0&&(r=0),this.sectionCursor=r,!!this.expandFrontier(this.frontier.number+1)}const e=Lt.isStructureRepeatCommand(this.article,this.sectionCursor);if((e.includes("D.S.")||e.includes("D.C."))&&this.checkDurability(this.sectionCursor,1,1)){let r=0;return e.includes("D.S.")&&(r=Lt.findPrevSectionIndex(this.article,this.sectionCursor,i=>Lt.isStructureRepeatPos(this.article,i).includes("$"))),r===void 0&&(r=0),this.sectionCursor=r,!!this.expandFrontier(this.frontier.number+1)}const n=e.includes("Fine.");return!(n&&this.hasUsedRepeatsAfter(this.sectionCursor)||!n&&Lt.isSeparatorFinal(this.article,this.sectionCursor)||(this.sectionCursor+=1,this.sectionCursor>=this.article.sectionCount))}checkConditionalRepeat(e,n,r){let i=!1,o=[];const s=Lt.getMergedAttrs(this.article,e,n),l=s.filter(u=>u.type=="iter");if(l.length>0&&(o=l,i=!0),!i){const u=this.jumperSectionStat[e].filter(c=>c.type=="iter");u.length>0&&(o=u,i=!0)}if(i)return Lt.jumperAttrMatch(o,r);if(n=="before")return!0;let a=1;for(let u of s)u.type=="durability"&&(a=Math.max(a,u.value));return this.checkDurability(e,a,1)}checkDurability(e,n,r){return this.repeatDamage[e]+r<=n?(this.repeatDamage[e]+=r,!0):!1}}class j${constructor(e,n){ge(this,"score");ge(this,"issues");this.score=e,this.issues=n}parse(){var r,i;const e=_i(ys(Qi,(r=this.score.musicalProps)==null?void 0:r.props),(i=this.score.renderProps)==null?void 0:i.props),n=this.score.articles.map(o=>{var u,c;if(o.type!="music")return;const s=_i(ys(e,(u=o.musicalProps)==null?void 0:u.props),(c=o.renderProps)==null?void 0:c.props),l=new Pb(o,s,this.issues,!1).parse(),a=new Pb(o,s,this.issues,!0).parse();return l.iterations=[...a.iterations,...l.iterations],l});return{score:this.score,sequence:n}}}const Ob={symbolChars:'`_$~!@#%^&*()-=+[{]}|;:",.<>/?',symbolLigatures:["[[","]]"],stringQuote:'"',commentStart:["//"],commentQuote:[]},Og=[["(",")"],["{","}"],["[","]"],["[[","]]"]];function De(t,e,n,r,i,o,...s){const l=wu(n,r,i,o,...s),a=Object.assign({},{lineNumber:e,rendered:!1},l);t.push(a)}class B${parse(e){const n=[],r=this.txt2lns(e,n),i=this.lns2clns(r,n),o=this.clns2lnt(i,n),s=this.lnt2sparse(o,n),l=this.sparse2des(s,n),a=this.des2cols(l,n),u=this.statSectionPositions(a.lined),c=new j$(a.flattened,n).parse();return{result:a.lined,sequenced:c,issues:n,sectionPositions:u}}getHighlightedSection(e,n,r){const i=qi.unconvertCursor(n,r),o=i.code;r=i.position;const s=r[0];if(!(s in e))return;const l=e[s],a=e[l.master],u=$b(o,Ob).result;if(u[0].type!="word")return;const c=oa(u[0].content);if(!c||c.head!=l.head)return;const h=new et("symbol",":").findInLayered(u,Og);if(h==-1||u[h].range[1]>r[1])return;const f=Og;let p=Array(f.length).fill(0);function d(_){for(let w=0;w<f.length;w++)f[w][0]==_&&(p[w]+=1),f[w][1]==_&&(p[w]-=1)}function g(){return p.filter(_=>!!_).length==0}const m=[];let v=[0,0,!1];for(let _=h+1;_<u.length;_++){const w=u[_];w.type=="symbol"&&d(w.content),w.type=="symbol"&&[":","|","/"].includes(w.content)&&g()?v?(v[1]=w.range[1],v[2]||(v[2]=w.content!=":")):m.push(v=[w.range[0],w.range[1],w.content!=":"]):v=void 0}const b=m.filter(_=>_[2]);let C=0;for(let _ of b){if(_[1]>r[1])break;C+=1}const x=l.ids;if(C in x)return x[C];if(C in a.ids)return a.ids[C]}statSectionPositions(e){const n={};function r(s,l,a,u,c){a in n||(n[a]={head:s,master:l,ids:{}});const h=n[a];u in h.ids||(h.ids[u]=c)}function i(s,l,a,u=0){a.forEach((c,h)=>{if(c.idCard.masterId!=""&&c.idCard.lineNumber!=-1){const f=l[h+u],p=(f==null?void 0:f.idCard.lineNumber)??c.idCard.lineNumber;r(s,p,c.idCard.lineNumber,c.idCard.index,c.idCard.masterId)}})}function o(s,l){l.fcaItems.forEach(a=>{i(a.head,s,a.sections)})}return e.articles.forEach(s=>{s.type=="music"&&s.lines.forEach(l=>{l.parts.forEach(a=>{i(a.notes.head,a.notes.sections,a.notes.sections),o(a.notes.sections,a),a.lyricLines.forEach(u=>{o(a.notes.sections,u),u.lyricAnnotations&&i("La",a.notes.sections,u.lyricAnnotations.sections),u.notesSubstitute&&u.notesSubstitute.forEach(c=>{i(c.head,a.notes.sections,c.sections,c.substituteLocation-1)})})})})}),n}txt2lns(e,n){const r=[],i=uv.linify(e);for(let o of i){const{text:s,lineNumber:l}=o;let a=$b(s,Ob);i$(n,a.issues.map(d=>({...d,lineNumber:l})));let u=a.result;u[0].range[0];let c="";const h=u.pop();h.range[0];let f=u[u.length-1],p=s;f&&f.type=="comment"&&(c=f.content,u.pop(),f.range[0],p=p.substring(0,f.range[0])),u.push(h),r.push({lineNumber:l,tokens:u,comment:c,text:p})}return r}lns2clns(e,n){return e.map(i=>{const o=i.tokens;if(o.length!=1){for(let s of["-","="])if(new et("symbol",s).test(o))return{lineNumber:i.lineNumber,type:"delimiter",char:s};if(new et("word",null).test(o[0])){const s=new et("symbol",":").findInLayered(o,Og);if(s!=-1){const l=i.text.substring(o[s].range[1]),a=l.trimStart(),u=a.trimEnd();let c={lineNumber:i.lineNumber,type:"command",head:o[0].content,props:null,content:o.slice(s+1),text:u,textRange:[o[s].range[1]+l.length-a.length,l.length-(a.length-u.length)],propsText:null};if(s>1){const h=o[1],f=o[s-1];if(!new et("symbol","[").test(h)||!new et("symbol","]").test(f))De(n,i.lineNumber,o[1].range[0],"error","bad_command_format",'Command line format does not look right. It should be something like "Head: content" or "Head[props]: content".');else{const p={...o[o.length-1]};p.range=[o[s-1].range[1],o[s-1].range[1]],c.props=o.slice(2,s-1).concat([p]),c.propsText=i.text.substring(o[2].range[0],o[s-1].range[0]).trim()}}return c}}De(n,i.lineNumber,o[0].range[0],"warning","wtf_line",'Cannot determine what this line is. If it is a comment, prepend it with "//".')}}).filter(i=>i!==void 0)}clns2lnt(e,n){return new c$(e).parse(n)}lnt2sparse(e,n){return new d$(e).parse(n)}sparse2des(e,n){return new A$(e).parse(n)}des2cols(e,n){return new W$(e).parse(n)}}const Ib=new B$;function Si(t,e="0123456789abcdfghijkmopqrstuvxyz"){let n="";for(let r=0;r<t;r++){let i=e[Math.floor(Math.random()*e.length)];n+=i}return n}function es(t,...e){let n=Si(32),r=/\$\{\$(\d+)\}/g,i=`{${n}$1}`,o=new RegExp("\\{"+n+"(\\d+)\\}","g"),s="${$1}";t=t.replace(r,i);let l=[];for(let a=0;a<e.length;a++){let u="${"+a.toString()+"}",c=e[a].toString();l.push([u,c])}return t=r0(t,l),t=t.replace(o,s),t}function z$(t){function e(r,i,o){er(i,(s,l)=>{const a=r+l;typeof s=="string"?o[a]=s:e(a+".",s,o)})}const n={};return e("",t,n),n}const H$={levelNameKeys:{empty_tree:[0],wrong_speciality:[0],special_children:[0,1],lack_required:[0],second_root:[0],post_header:[0],duplicate_unique_del:[0],duplicate_unique:[0]},levelNames:{document:"文档",article:"章节",fragment:"片段",part:"声部",lyricLine:"歌词行"},issues:{"token.unclosed_comment":"此块注释没有闭合","token.unclosed_string":"此字符串没有闭合","token.invalid_escape":"无效的转义序列 ${0}",bad_command_format:"此指令行格式不正确。应当形如 <指令>: <内容> 或 <指令>[<属性>]: 内容。",wtf_line:"无法确定此行的意义，因为此行不是分割线，并且找不到冒号。",empty_document:"文档似乎是空的",empty_tree:"此${0}被丢弃，因为其不包含任何内容",mixed_article:"${0}不能同时包含音乐和文本。请用分割线 `${2}` 将它们分成两个${0}。",special_children:"此${0}不应当包含${1}",lack_required:"此${0}中必须包含一个 ${1}(${2}) 或者同类指令，但是没有找到。",unknown_command:"未知的指令 ${0}",second_root:"你是想在一个${0}里面放两个${0}吗？",post_header:"作为${0}的头部，指令 ${1} 应当出现在开头。",redundant_props:"指令 ${0} 不能含有中括号属性",lack_props:"指令 ${0} 应当有中括号属性，但是没有找到。",duplicate_unique_del:"指令 ${1} 在${0}中应当是唯一的。你是否忘了添加分割线 `${2}`？",duplicate_unique:"指令 ${1} 在${0}中应当是唯一的",unclosed_bracket:"括号没有闭合",unpaired_bracket:"括号无法配对",unknown_base_shift:"无效的基调值 ${0}",unknown_relative_shift:"无效的相对转调 ${0}",unknown_qpm:"无效的拍速值 ${0}",unknown_frac:"无效的分数值 ${0}",unequal_beats:"反常拍号 ${0} 与其解析式 ${1} 不相等",missing_beats:"未指定全局拍号，将默认为 0/4。",unknown_base:"无效的基调值 ${0}",rp_unknown_key:"未知渲染属性 ${0}",rp_unknown_value:"无效的渲染属性值 ${1}（属性 ${0}）",frp_unsupported_key:"碎片的渲染属性只能包含 `n` 和 `time_lining`",rp_document_only_key:"渲染属性 `${0}` 只能用于全局",unknown_jumper_attr:"无法将 `${0}` 解析为跳房子属性",nan_substitute_index:"无法确定替代音符的开始位置。你是不是忘了？",unknown_part_attr:"无法将 `${0}` 解析为声部属性",unknown_annotation_index:"无法将 `${0}` 解析为标记序号",unknown_lrc_attr:"无法将 `${0}` 解析为歌词行属性",lrc_unused_symbol:"歌词中有标点因为位置无效而未被使用",unexpected_lrc_bracket:"歌词中出现未曾设想的括号 ${0}",invalid_placeholder_repeat:"重复次数 `${0}` 无效",incomplete_insert_sequence:"符号 `&` 后应当紧随一个单词和一个 `;`，以表示插入符号",unknown_insert_sequence:"未知的插入符号名称 ${0}",triplet_invalid_format:"连音描述符无效。应当形如 <连音位>,<连音数>。",triplet_invalid_field:"无效的连音位 ${0}",triplet_invalid_number:"无效的连音数 ${0}",notes_unexpected_bracket:"音符序列中出现未曾设想的括号 ${0}",unknown_note_attr:"无法将 `${0}` 解析为音符属性",extend_no_link:"延时线不能有连音线",extend_no_note_attrs:"延时线不能有音符属性",note_char_music_unknown:"`${0}` 不是正确的音符字符",note_char_force_unknown1:"未知的力度标记词 ${0}",note_char_force_unknown2:"未知的力度标记符号 ${0}",note_char_annotation_unknown:"无法将 `${0}` 解析为标记符号",note_char_lyric_annotation_unknown:"无法将 `${0}` 解析为标记型歌词",unknown_section_separator:"未知的小节线符号 ${0}",empty_section:"存在空白的小节。如果你确实想这么做，请写入一个 `empty`（或简写为 `e`），否则可能导致未预期的结果。",attr_beats_above:"临时拍号不能标记在小节线上方",invalid_begin_separator:"小节线 ${0} 不能用在小节序列的开头",invalid_end_separator:"小节线 ${0} 不能用在小节线的末尾",invalid_pre_attr_begin:"小节序列开头的小节线不能有前置属性",invalid_post_attr_end:"小节序列末尾的小节线不能有后置属性",invalid_pre_attr:"类型为 ${0} 的小节线属性不能作为前置属性",invalid_post_attr:"类型为 ${0} 的小节线属性不能作为后置属性",invalid_self_attr:"类型为 ${0} 的小节线属性不能作为上方属性",invalid_self_attr_begin:"类型为 ${0} 的小节线属性不能作为序列开头小节线的上方属性",invalid_self_attr_end:"类型为 ${0} 的小节线属性不能作为序列末尾小节线的上方属性",unknown_separator_attr:"无法将 `${0}` 解析为小节线属性",unknown_omit_count:"无效的小节省略数 ${0}",mismatching_beats:"小节 ${0}（第 ${1} 小节）与其他同时的小节拍号不一致",mismatching_speed:"小节 ${0}（第 ${1} 小节），迭代数 ${2} 与其他声部的同位置小节拍速不一致 (${3}≠${4})",repeat_overflow:"反复迭代节的数量超出上限 ${0}，可能是因为反复结构存在问题导致死循环",repeat_conflict:"第 ${0} 小节被反复迭代数 ${1} 穿越超过一次"},notices:{iter_invalid:"反复记号迭代数写在了无效的位置，很可能是错误的。",quarters_less:"此小节的拍数少于乐理属性指定的。如果这是一个不完整小节，请在右侧小节线添加虚线。",quarters_nonint:"此小节节拍为散板且拍数不是整数。如果这是一个不完整小节，请在右侧小节线添加虚线。",quarters_more:"此小节的拍数多于乐理属性指定的",quarters_mismatch:"此小节的拍数与其他声部内相同位置的小节不匹配"},commands:{Dt:"标题",Dp:"左上角属性",Dv:"右上角版本号",Ds:"副标题",Da:"作者",Df:"尾注",Dl:"页脚左侧文本",Dr:"页脚右侧文本",P:"乐理属性",Pi:"乐理属性（不显示）",Rp:"渲染属性",T:"文本标注",S:"文段标题",Sp:"乐理属性",Srp:"渲染属性",B:"此前强制换行",J:"跳房子",Frp:"渲染属性",N:"音符序列",Na:"鼓点音符序列",Nc:"紧凑音符序列",A:"标记符号",La:"标记型歌词",L:"歌词（手动分割）",Lc:"歌词（字基）",Lw:"歌词（词基）",Ns:"替代小节"},render_props:{page:"页面高度与宽度之比",double_sided:"分页时假设双面打印",page_margin_x:"(11)页面左侧和右侧的边距",n:"每行小节数",time_lining:"基于时值的小节宽度",note_count_lining:"按音符数微调小节宽度",legacy_positioning:"使用旧版布局算法",debug:"显示错误警告",sectionorder:"小节序号模式",scale:"文档缩放",gutter_left:"(1)左边距 - 曲谱",connector_left:"(0)左边距 - 连谱号",left_separator:"显示行首的小节线",grayout:"降低延长连音音符的不透明度",explicitmarkers:"总是显示声部标签",font_sectionorder:"字体 - 小节序号",font_part:"字体 - 声部标签",font_article:"字体 - 章节标题",font_title:"字体 - 大标题",font_subtitle:"字体 - 副标题",font_author:"字体 - 作者",font_corner:"字体 - 角落标记",font_text:"字体 - 文本章节",font_footnote:"字体 - 尾注",font_descend:"字体 - 页脚",font_attr:"字体 - 属性文本",font_force:"字体 - 力度",font_chord:"字体 - 和弦",font_annotation0:"字体 - 默认自定义标记",font_annotation1:"字体 - 第一自定义标记",font_annotation2:"字体 - 第二自定义标记",font_annotation3:"字体 - 第三自定义标记",font_annotation4:"字体 - 第四自定义标记",font_annotation5:"字体 - 第五自定义标记",font_annotation6:"字体 - 第六自定义标记",font_lyrics:"字体 - 歌词",font_checkpoint:"字体 - 段落标记",margin_after_props:"(2)间距 - 大标题之后",margin_after_article:"(1.5)间距 - 章节之后",margin_after_header:"(0.8)间距 - 章节标题之后",margin_after_header_text:"(0.7)间距/额外 - 文本章节标题之后",margin_before_line:"(1.2)间距 - 乐谱行之前",margin_after_line:"(0.1)间距 - 乐谱行之后",margin_between_parts:"(2.5)间距 - 声部之间",margin_after_part_notes:"(2)间距 - 声部曲谱部分之后",inset_before_lyrics:"(1.3)负间距 - 声部歌词组之前",margin_after_lyrics:"(0.1)间距 - 声部歌词组之后",margin_after_part:"(1)间距 - 声部之后",offset_lyrics_iter:"(1.5)偏移值 - 歌词行编号",offset_section_boundary:"(1)偏移值 - 小节边距"},updown:{up:"升",down:"降"},metrics:{key:"${0}Key",thd:"减${0}度",thm:"小${0}度",thM:"大${0}度",th:"${0}度",thp:"完全${0}度",tha:"增${0}度"},render:{transpose_prop:"移调${0}Key",shift_prop_a_1:"1=",shift_prop_a_2:"",shift_prop_at_1:"1=",shift_prop_at_2:"移",shift_prop_r:"${0}${1}",shift_prop_rt:"${0}${1}移",colon:"：",author_sep:" ",omit:"(后略)",page:"Page ${0} / Total ${1}",secsel:"m${0}"},efLabels:{top:"文档标题",author:"作者与乐理属性",topMargin:"页面头间距",footer:"尾注",articleMargin:"章节下边距",textArticle:"文本章节 ${0}",musicArticleTitle:"音乐章节标题 ${0}",musicLine:"曲谱 ${0} m${1}",musicLineMargin:"曲谱下边距",pageBottomMargin:"印刷页面下边距",pageSeparator:"[仅限预览] 页面分割线",pageDescend:"页脚 第${0}页"},editor:z$({status:{displaymode:{edit:"编辑",split:"拆分",preview:"预览"},exporting:{rendering:"渲染音频中",encoding:"编码音频中"},dirty:{new:"新文档",clean:"已保存",dirty:"未保存",newTemporary:"新文档",cleanTemporary:"已暂存",dirtyTemporary:"未暂存",preview:{clean:"已刷新预览",dirty:"未刷新预览"}},pages:{nan:"粗排模式",value:"共${0}页"},timing:{both:"${0}ms/${1}ms"},size:{unit:{b:"B",kunb:"坤B",kb:"KB",kkunb:"坤KB",mb:"MB",mkunb:"坤MB"}}},preview:{new_title:"新文档",blank:{title:"空白文档",desc:{1:"此文档没有任何有效内容。",2:"要使文档有效，请向其中添加乐理属性行（以 P 或 Props 开头）。"}}},inspector:{tooltip:"乐谱检查工具",select:"选择工具",play:{title:"音效试听与结构检查",play:"播放",play_pre:"打节拍一小节后播放",pause:"暂停",stop:"回到此章节开头",auto_scroll:"自动滚动预览",render:{idle:"渲染","tooltip.idle":"生成音频并导出为 OGG 文件",progress:{rendering:"${0}%",encoding:"编码中"},"tooltip.progress":"再次点击中断渲染"},modifier:{speed:"倍速",pitch:"音高"},selector:{article:{untitled:"无标题章节 ${0}",titled:"${0}"},visual_pick:"在乐谱预览中点选小节",no_articles:"没有可供试听的音乐章节",iter_number:"反复次数",ignore_repeats:"忽略反复与区分（不建议使用）",no_sections:"此章节内没有任何小节"},overview:{section_unavailable:"此小节不存在于当前迭代节中",time_seconds:"累计长度 ${0} 秒",time_minutes:"累计长度 ${0} 分 ${1} 秒"},controls:{part:{beat_machine:"节拍器",titled:"${0}",untitled:"未命名声部 ${0}",accompany:" (鼓点)"},octave:"八度",synth:"乐器",instrument:{chip:"芯片*",saw:"锯齿*",piccolo:"短笛*",piano:"钢琴",organ:"管风琴",violin:"提琴",guitar:"吉他",beat1:"节拍1",beat2:"节拍2",snare:"Snare",drum:"鼓点"},prefab:{hint:"为方便之后加载，可将混音配置以注释形式写入代码，并随乐谱一同保存。",save:"写入代码",load:"从代码中加载"},remark:"保存的混音配置文件"}},determine_props:{title:"基调与拍速测定",tips:"这是一个向导式的工具，用来帮助在听写旋律时确定准确的基调和拍速。暂不支持微分音。",base:{title:"基调测定",tips:{1:"在播放待听写旋律的同时按下面的音符，找出一个你能在旋律中确定相对音高的音符并选中。","1.sound":"注意：此工具会播放声音。",2:"这个音符在旋律中听起来是",3:"因此，这部分旋律应当使用的基调是","3.hint":"(若乐谱无转调，可去掉末尾数字)"},include_halfkey:"包含 24 平均律微分音"},speed:{title:"拍速测定",idle:"点击或将焦点移动到此处以开始",preparing:"现在，通过继续点击此方框或按键盘上的空格、句点或 Enter 键打拍，尽可能保证打拍稳定。",measuring:"已敲击 ${0} 次，共 ${1}s",too_few:"目前所打的拍数太少，很可能不足以确定准确拍速。",reset:"重置"}},instrument_test:{title:"乐器音源测试",tonic:"音符乐器类",drumline:"鼓点乐器类",offline:"离线音频渲染",comment:"注：带有 * 的是电子合成音，其余是采样音。"}}})};class V${constructor(){ge(this,"languages",{zh_cn:H$})}commandDescription(e,n){let r=oa(n);if(!r)return"ERROR";const i=r.levels.map(l=>e.levelNames[Mx[l]]??"").join("/"),o=r.unique!==void 0&&r.required!==void 0?"★":"",s=e.commands[r.head]??"";return`${o}[${i}] ${s}`}renderPropsDesc(e,n){return e.render_props[n]??""}issueDescription(e,n){var s;const r=e.issues[n.key]??n.defaultTranslation,i=e.levelNameKeys[n.key]??[],o=((s=n.args)==null?void 0:s.map((l,a)=>i.indexOf(a)!=-1?e.levelNames[l]??"ERROR":l))??[];return es(r,...o)}renderToken(e,n,...r){return es(e.render[n]??n,...r)}metricText(e,n,...r){return es(e.metrics[n]??n,...r)}upDownText(e,n){return e.updown[n]}efLabel(e,n,...r){return{label:[n,...r].join("-"),localeLabel:es(e.efLabels[n]??n,...r)}}editorText(e,n,...r){return es(e.editor[n]??n,...r)}}const Ut=new V$;var Ox={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:_n,function(e,n){var r=[],i=Object.getPrototypeOf,o=r.slice,s=r.flat?function(T){return r.flat.call(T)}:function(T){return r.concat.apply([],T)},l=r.push,a=r.indexOf,u={},c=u.toString,h=u.hasOwnProperty,f=h.toString,p=f.call(Object),d={},g=function(N){return typeof N=="function"&&typeof N.nodeType!="number"&&typeof N.item!="function"},m=function(N){return N!=null&&N===N.window},v=e.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function C(T,N,O){O=O||v;var F,j,B=O.createElement("script");if(B.text=T,N)for(F in b)j=N[F]||N.getAttribute&&N.getAttribute(F),j&&B.setAttribute(F,j);O.head.appendChild(B).parentNode.removeChild(B)}function x(T){return T==null?T+"":typeof T=="object"||typeof T=="function"?u[c.call(T)]||"object":typeof T}var _="3.7.1",w=/HTML$/i,y=function(T,N){return new y.fn.init(T,N)};y.fn=y.prototype={jquery:_,constructor:y,length:0,toArray:function(){return o.call(this)},get:function(T){return T==null?o.call(this):T<0?this[T+this.length]:this[T]},pushStack:function(T){var N=y.merge(this.constructor(),T);return N.prevObject=this,N},each:function(T){return y.each(this,T)},map:function(T){return this.pushStack(y.map(this,function(N,O){return T.call(N,O,N)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,function(T,N){return(N+1)%2}))},odd:function(){return this.pushStack(y.grep(this,function(T,N){return N%2}))},eq:function(T){var N=this.length,O=+T+(T<0?N:0);return this.pushStack(O>=0&&O<N?[this[O]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:r.sort,splice:r.splice},y.extend=y.fn.extend=function(){var T,N,O,F,j,B,H=arguments[0]||{},te=1,J=arguments.length,se=!1;for(typeof H=="boolean"&&(se=H,H=arguments[te]||{},te++),typeof H!="object"&&!g(H)&&(H={}),te===J&&(H=this,te--);te<J;te++)if((T=arguments[te])!=null)for(N in T)F=T[N],!(N==="__proto__"||H===F)&&(se&&F&&(y.isPlainObject(F)||(j=Array.isArray(F)))?(O=H[N],j&&!Array.isArray(O)?B=[]:!j&&!y.isPlainObject(O)?B={}:B=O,j=!1,H[N]=y.extend(se,B,F)):F!==void 0&&(H[N]=F));return H},y.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(T){throw new Error(T)},noop:function(){},isPlainObject:function(T){var N,O;return!T||c.call(T)!=="[object Object]"?!1:(N=i(T),N?(O=h.call(N,"constructor")&&N.constructor,typeof O=="function"&&f.call(O)===p):!0)},isEmptyObject:function(T){var N;for(N in T)return!1;return!0},globalEval:function(T,N,O){C(T,{nonce:N&&N.nonce},O)},each:function(T,N){var O,F=0;if(S(T))for(O=T.length;F<O&&N.call(T[F],F,T[F])!==!1;F++);else for(F in T)if(N.call(T[F],F,T[F])===!1)break;return T},text:function(T){var N,O="",F=0,j=T.nodeType;if(!j)for(;N=T[F++];)O+=y.text(N);return j===1||j===11?T.textContent:j===9?T.documentElement.textContent:j===3||j===4?T.nodeValue:O},makeArray:function(T,N){var O=N||[];return T!=null&&(S(Object(T))?y.merge(O,typeof T=="string"?[T]:T):l.call(O,T)),O},inArray:function(T,N,O){return N==null?-1:a.call(N,T,O)},isXMLDoc:function(T){var N=T&&T.namespaceURI,O=T&&(T.ownerDocument||T).documentElement;return!w.test(N||O&&O.nodeName||"HTML")},merge:function(T,N){for(var O=+N.length,F=0,j=T.length;F<O;F++)T[j++]=N[F];return T.length=j,T},grep:function(T,N,O){for(var F,j=[],B=0,H=T.length,te=!O;B<H;B++)F=!N(T[B],B),F!==te&&j.push(T[B]);return j},map:function(T,N,O){var F,j,B=0,H=[];if(S(T))for(F=T.length;B<F;B++)j=N(T[B],B,O),j!=null&&H.push(j);else for(B in T)j=N(T[B],B,O),j!=null&&H.push(j);return s(H)},guid:1,support:d}),typeof Symbol=="function"&&(y.fn[Symbol.iterator]=r[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(T,N){u["[object "+N+"]"]=N.toLowerCase()});function S(T){var N=!!T&&"length"in T&&T.length,O=x(T);return g(T)||m(T)?!1:O==="array"||N===0||typeof N=="number"&&N>0&&N-1 in T}function A(T,N){return T.nodeName&&T.nodeName.toLowerCase()===N.toLowerCase()}var M=r.pop,R=r.sort,k=r.splice,$="[\\x20\\t\\r\\n\\f]",E=new RegExp("^"+$+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$+"+$","g");y.contains=function(T,N){var O=N&&N.parentNode;return T===O||!!(O&&O.nodeType===1&&(T.contains?T.contains(O):T.compareDocumentPosition&&T.compareDocumentPosition(O)&16))};var L=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function P(T,N){return N?T==="\0"?"�":T.slice(0,-1)+"\\"+T.charCodeAt(T.length-1).toString(16)+" ":"\\"+T}y.escapeSelector=function(T){return(T+"").replace(L,P)};var I=v,D=l;(function(){var T,N,O,F,j,B=D,H,te,J,se,pe,ve=y.expando,ce=0,xe=0,nt=kh(),St=kh(),ht=kh(),jn=kh(),En=function(K,oe){return K===oe&&(j=!0),0},Ii="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Di="(?:\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",wt="\\["+$+"*("+Di+")(?:"+$+"*([*^$|!~]?=)"+$+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Di+"))|)"+$+"*\\]",Bs=":("+Di+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+wt+")*)|.*)\\)|)",Ct=new RegExp($+"+","g"),pn=new RegExp("^"+$+"*,"+$+"*"),dc=new RegExp("^"+$+"*([>+~]|"+$+")"+$+"*"),tg=new RegExp($+"|>"),Fi=new RegExp(Bs),pc=new RegExp("^"+Di+"$"),Wi={ID:new RegExp("^#("+Di+")"),CLASS:new RegExp("^\\.("+Di+")"),TAG:new RegExp("^("+Di+"|[*])"),ATTR:new RegExp("^"+wt),PSEUDO:new RegExp("^"+Bs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$+"*(even|odd|(([+-]|)(\\d*)n|)"+$+"*(?:([+-]|)"+$+"*(\\d+)|))"+$+"*\\)|)","i"),bool:new RegExp("^(?:"+Ii+")$","i"),needsContext:new RegExp("^"+$+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$+"*((?:-\\d)?\\d*)"+$+"*\\)|)(?=[^-]|$)","i")},Bo=/^(?:input|select|textarea|button)$/i,zo=/^h\d$/i,qr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ng=/[+~]/,uo=new RegExp("\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\([^\\r\\n\\f])","g"),ho=function(K,oe){var le="0x"+K.slice(1)-65536;return oe||(le<0?String.fromCharCode(le+65536):String.fromCharCode(le>>10|55296,le&1023|56320))},bA=function(){Ho()},_A=Mh(function(K){return K.disabled===!0&&A(K,"fieldset")},{dir:"parentNode",next:"legend"});function SA(){try{return H.activeElement}catch{}}try{B.apply(r=o.call(I.childNodes),I.childNodes),r[I.childNodes.length].nodeType}catch{B={apply:function(oe,le){D.apply(oe,o.call(le))},call:function(oe){D.apply(oe,o.call(arguments,1))}}}function Rt(K,oe,le,fe){var me,ke,Ee,Fe,$e,gt,Ze,it=oe&&oe.ownerDocument,mt=oe?oe.nodeType:9;if(le=le||[],typeof K!="string"||!K||mt!==1&&mt!==9&&mt!==11)return le;if(!fe&&(Ho(oe),oe=oe||H,J)){if(mt!==11&&($e=qr.exec(K)))if(me=$e[1]){if(mt===9)if(Ee=oe.getElementById(me)){if(Ee.id===me)return B.call(le,Ee),le}else return le;else if(it&&(Ee=it.getElementById(me))&&Rt.contains(oe,Ee)&&Ee.id===me)return B.call(le,Ee),le}else{if($e[2])return B.apply(le,oe.getElementsByTagName(K)),le;if((me=$e[3])&&oe.getElementsByClassName)return B.apply(le,oe.getElementsByClassName(me)),le}if(!jn[K+" "]&&(!se||!se.test(K))){if(Ze=K,it=oe,mt===1&&(tg.test(K)||dc.test(K))){for(it=ng.test(K)&&rg(oe.parentNode)||oe,(it!=oe||!d.scope)&&((Fe=oe.getAttribute("id"))?Fe=y.escapeSelector(Fe):oe.setAttribute("id",Fe=ve)),gt=gc(K),ke=gt.length;ke--;)gt[ke]=(Fe?"#"+Fe:":scope")+" "+Ah(gt[ke]);Ze=gt.join(",")}try{return B.apply(le,it.querySelectorAll(Ze)),le}catch{jn(K,!0)}finally{Fe===ve&&oe.removeAttribute("id")}}}return bw(K.replace(E,"$1"),oe,le,fe)}function kh(){var K=[];function oe(le,fe){return K.push(le+" ")>N.cacheLength&&delete oe[K.shift()],oe[le+" "]=fe}return oe}function ci(K){return K[ve]=!0,K}function Ia(K){var oe=H.createElement("fieldset");try{return!!K(oe)}catch{return!1}finally{oe.parentNode&&oe.parentNode.removeChild(oe),oe=null}}function xA(K){return function(oe){return A(oe,"input")&&oe.type===K}}function CA(K){return function(oe){return(A(oe,"input")||A(oe,"button"))&&oe.type===K}}function yw(K){return function(oe){return"form"in oe?oe.parentNode&&oe.disabled===!1?"label"in oe?"label"in oe.parentNode?oe.parentNode.disabled===K:oe.disabled===K:oe.isDisabled===K||oe.isDisabled!==!K&&_A(oe)===K:oe.disabled===K:"label"in oe?oe.disabled===K:!1}}function zs(K){return ci(function(oe){return oe=+oe,ci(function(le,fe){for(var me,ke=K([],le.length,oe),Ee=ke.length;Ee--;)le[me=ke[Ee]]&&(le[me]=!(fe[me]=le[me]))})})}function rg(K){return K&&typeof K.getElementsByTagName<"u"&&K}function Ho(K){var oe,le=K?K.ownerDocument||K:I;return le==H||le.nodeType!==9||!le.documentElement||(H=le,te=H.documentElement,J=!y.isXMLDoc(H),pe=te.matches||te.webkitMatchesSelector||te.msMatchesSelector,te.msMatchesSelector&&I!=H&&(oe=H.defaultView)&&oe.top!==oe&&oe.addEventListener("unload",bA),d.getById=Ia(function(fe){return te.appendChild(fe).id=y.expando,!H.getElementsByName||!H.getElementsByName(y.expando).length}),d.disconnectedMatch=Ia(function(fe){return pe.call(fe,"*")}),d.scope=Ia(function(){return H.querySelectorAll(":scope")}),d.cssHas=Ia(function(){try{return H.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),d.getById?(N.filter.ID=function(fe){var me=fe.replace(uo,ho);return function(ke){return ke.getAttribute("id")===me}},N.find.ID=function(fe,me){if(typeof me.getElementById<"u"&&J){var ke=me.getElementById(fe);return ke?[ke]:[]}}):(N.filter.ID=function(fe){var me=fe.replace(uo,ho);return function(ke){var Ee=typeof ke.getAttributeNode<"u"&&ke.getAttributeNode("id");return Ee&&Ee.value===me}},N.find.ID=function(fe,me){if(typeof me.getElementById<"u"&&J){var ke,Ee,Fe,$e=me.getElementById(fe);if($e){if(ke=$e.getAttributeNode("id"),ke&&ke.value===fe)return[$e];for(Fe=me.getElementsByName(fe),Ee=0;$e=Fe[Ee++];)if(ke=$e.getAttributeNode("id"),ke&&ke.value===fe)return[$e]}return[]}}),N.find.TAG=function(fe,me){return typeof me.getElementsByTagName<"u"?me.getElementsByTagName(fe):me.querySelectorAll(fe)},N.find.CLASS=function(fe,me){if(typeof me.getElementsByClassName<"u"&&J)return me.getElementsByClassName(fe)},se=[],Ia(function(fe){var me;te.appendChild(fe).innerHTML="<a id='"+ve+"' href='' disabled='disabled'></a><select id='"+ve+"-\r\\' disabled='disabled'><option selected=''></option></select>",fe.querySelectorAll("[selected]").length||se.push("\\["+$+"*(?:value|"+Ii+")"),fe.querySelectorAll("[id~="+ve+"-]").length||se.push("~="),fe.querySelectorAll("a#"+ve+"+*").length||se.push(".#.+[+~]"),fe.querySelectorAll(":checked").length||se.push(":checked"),me=H.createElement("input"),me.setAttribute("type","hidden"),fe.appendChild(me).setAttribute("name","D"),te.appendChild(fe).disabled=!0,fe.querySelectorAll(":disabled").length!==2&&se.push(":enabled",":disabled"),me=H.createElement("input"),me.setAttribute("name",""),fe.appendChild(me),fe.querySelectorAll("[name='']").length||se.push("\\["+$+"*name"+$+"*="+$+`*(?:''|"")`)}),d.cssHas||se.push(":has"),se=se.length&&new RegExp(se.join("|")),En=function(fe,me){if(fe===me)return j=!0,0;var ke=!fe.compareDocumentPosition-!me.compareDocumentPosition;return ke||(ke=(fe.ownerDocument||fe)==(me.ownerDocument||me)?fe.compareDocumentPosition(me):1,ke&1||!d.sortDetached&&me.compareDocumentPosition(fe)===ke?fe===H||fe.ownerDocument==I&&Rt.contains(I,fe)?-1:me===H||me.ownerDocument==I&&Rt.contains(I,me)?1:F?a.call(F,fe)-a.call(F,me):0:ke&4?-1:1)}),H}Rt.matches=function(K,oe){return Rt(K,null,null,oe)},Rt.matchesSelector=function(K,oe){if(Ho(K),J&&!jn[oe+" "]&&(!se||!se.test(oe)))try{var le=pe.call(K,oe);if(le||d.disconnectedMatch||K.document&&K.document.nodeType!==11)return le}catch{jn(oe,!0)}return Rt(oe,H,null,[K]).length>0},Rt.contains=function(K,oe){return(K.ownerDocument||K)!=H&&Ho(K),y.contains(K,oe)},Rt.attr=function(K,oe){(K.ownerDocument||K)!=H&&Ho(K);var le=N.attrHandle[oe.toLowerCase()],fe=le&&h.call(N.attrHandle,oe.toLowerCase())?le(K,oe,!J):void 0;return fe!==void 0?fe:K.getAttribute(oe)},Rt.error=function(K){throw new Error("Syntax error, unrecognized expression: "+K)},y.uniqueSort=function(K){var oe,le=[],fe=0,me=0;if(j=!d.sortStable,F=!d.sortStable&&o.call(K,0),R.call(K,En),j){for(;oe=K[me++];)oe===K[me]&&(fe=le.push(me));for(;fe--;)k.call(K,le[fe],1)}return F=null,K},y.fn.uniqueSort=function(){return this.pushStack(y.uniqueSort(o.apply(this)))},N=y.expr={cacheLength:50,createPseudo:ci,match:Wi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(K){return K[1]=K[1].replace(uo,ho),K[3]=(K[3]||K[4]||K[5]||"").replace(uo,ho),K[2]==="~="&&(K[3]=" "+K[3]+" "),K.slice(0,4)},CHILD:function(K){return K[1]=K[1].toLowerCase(),K[1].slice(0,3)==="nth"?(K[3]||Rt.error(K[0]),K[4]=+(K[4]?K[5]+(K[6]||1):2*(K[3]==="even"||K[3]==="odd")),K[5]=+(K[7]+K[8]||K[3]==="odd")):K[3]&&Rt.error(K[0]),K},PSEUDO:function(K){var oe,le=!K[6]&&K[2];return Wi.CHILD.test(K[0])?null:(K[3]?K[2]=K[4]||K[5]||"":le&&Fi.test(le)&&(oe=gc(le,!0))&&(oe=le.indexOf(")",le.length-oe)-le.length)&&(K[0]=K[0].slice(0,oe),K[2]=le.slice(0,oe)),K.slice(0,3))}},filter:{TAG:function(K){var oe=K.replace(uo,ho).toLowerCase();return K==="*"?function(){return!0}:function(le){return A(le,oe)}},CLASS:function(K){var oe=nt[K+" "];return oe||(oe=new RegExp("(^|"+$+")"+K+"("+$+"|$)"))&&nt(K,function(le){return oe.test(typeof le.className=="string"&&le.className||typeof le.getAttribute<"u"&&le.getAttribute("class")||"")})},ATTR:function(K,oe,le){return function(fe){var me=Rt.attr(fe,K);return me==null?oe==="!=":oe?(me+="",oe==="="?me===le:oe==="!="?me!==le:oe==="^="?le&&me.indexOf(le)===0:oe==="*="?le&&me.indexOf(le)>-1:oe==="$="?le&&me.slice(-le.length)===le:oe==="~="?(" "+me.replace(Ct," ")+" ").indexOf(le)>-1:oe==="|="?me===le||me.slice(0,le.length+1)===le+"-":!1):!0}},CHILD:function(K,oe,le,fe,me){var ke=K.slice(0,3)!=="nth",Ee=K.slice(-4)!=="last",Fe=oe==="of-type";return fe===1&&me===0?function($e){return!!$e.parentNode}:function($e,gt,Ze){var it,mt,Ve,Vt,mr,Gn=ke!==Ee?"nextSibling":"previousSibling",Kr=$e.parentNode,ji=Fe&&$e.nodeName.toLowerCase(),Da=!Ze&&!Fe,or=!1;if(Kr){if(ke){for(;Gn;){for(Ve=$e;Ve=Ve[Gn];)if(Fe?A(Ve,ji):Ve.nodeType===1)return!1;mr=Gn=K==="only"&&!mr&&"nextSibling"}return!0}if(mr=[Ee?Kr.firstChild:Kr.lastChild],Ee&&Da){for(mt=Kr[ve]||(Kr[ve]={}),it=mt[K]||[],Vt=it[0]===ce&&it[1],or=Vt&&it[2],Ve=Vt&&Kr.childNodes[Vt];Ve=++Vt&&Ve&&Ve[Gn]||(or=Vt=0)||mr.pop();)if(Ve.nodeType===1&&++or&&Ve===$e){mt[K]=[ce,Vt,or];break}}else if(Da&&(mt=$e[ve]||($e[ve]={}),it=mt[K]||[],Vt=it[0]===ce&&it[1],or=Vt),or===!1)for(;(Ve=++Vt&&Ve&&Ve[Gn]||(or=Vt=0)||mr.pop())&&!((Fe?A(Ve,ji):Ve.nodeType===1)&&++or&&(Da&&(mt=Ve[ve]||(Ve[ve]={}),mt[K]=[ce,or]),Ve===$e)););return or-=me,or===fe||or%fe===0&&or/fe>=0}}},PSEUDO:function(K,oe){var le,fe=N.pseudos[K]||N.setFilters[K.toLowerCase()]||Rt.error("unsupported pseudo: "+K);return fe[ve]?fe(oe):fe.length>1?(le=[K,K,"",oe],N.setFilters.hasOwnProperty(K.toLowerCase())?ci(function(me,ke){for(var Ee,Fe=fe(me,oe),$e=Fe.length;$e--;)Ee=a.call(me,Fe[$e]),me[Ee]=!(ke[Ee]=Fe[$e])}):function(me){return fe(me,0,le)}):fe}},pseudos:{not:ci(function(K){var oe=[],le=[],fe=ag(K.replace(E,"$1"));return fe[ve]?ci(function(me,ke,Ee,Fe){for(var $e,gt=fe(me,null,Fe,[]),Ze=me.length;Ze--;)($e=gt[Ze])&&(me[Ze]=!(ke[Ze]=$e))}):function(me,ke,Ee){return oe[0]=me,fe(oe,null,Ee,le),oe[0]=null,!le.pop()}}),has:ci(function(K){return function(oe){return Rt(K,oe).length>0}}),contains:ci(function(K){return K=K.replace(uo,ho),function(oe){return(oe.textContent||y.text(oe)).indexOf(K)>-1}}),lang:ci(function(K){return pc.test(K||"")||Rt.error("unsupported lang: "+K),K=K.replace(uo,ho).toLowerCase(),function(oe){var le;do if(le=J?oe.lang:oe.getAttribute("xml:lang")||oe.getAttribute("lang"))return le=le.toLowerCase(),le===K||le.indexOf(K+"-")===0;while((oe=oe.parentNode)&&oe.nodeType===1);return!1}}),target:function(K){var oe=e.location&&e.location.hash;return oe&&oe.slice(1)===K.id},root:function(K){return K===te},focus:function(K){return K===SA()&&H.hasFocus()&&!!(K.type||K.href||~K.tabIndex)},enabled:yw(!1),disabled:yw(!0),checked:function(K){return A(K,"input")&&!!K.checked||A(K,"option")&&!!K.selected},selected:function(K){return K.parentNode&&K.parentNode.selectedIndex,K.selected===!0},empty:function(K){for(K=K.firstChild;K;K=K.nextSibling)if(K.nodeType<6)return!1;return!0},parent:function(K){return!N.pseudos.empty(K)},header:function(K){return zo.test(K.nodeName)},input:function(K){return Bo.test(K.nodeName)},button:function(K){return A(K,"input")&&K.type==="button"||A(K,"button")},text:function(K){var oe;return A(K,"input")&&K.type==="text"&&((oe=K.getAttribute("type"))==null||oe.toLowerCase()==="text")},first:zs(function(){return[0]}),last:zs(function(K,oe){return[oe-1]}),eq:zs(function(K,oe,le){return[le<0?le+oe:le]}),even:zs(function(K,oe){for(var le=0;le<oe;le+=2)K.push(le);return K}),odd:zs(function(K,oe){for(var le=1;le<oe;le+=2)K.push(le);return K}),lt:zs(function(K,oe,le){var fe;for(le<0?fe=le+oe:le>oe?fe=oe:fe=le;--fe>=0;)K.push(fe);return K}),gt:zs(function(K,oe,le){for(var fe=le<0?le+oe:le;++fe<oe;)K.push(fe);return K})}},N.pseudos.nth=N.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[T]=xA(T);for(T in{submit:!0,reset:!0})N.pseudos[T]=CA(T);function ww(){}ww.prototype=N.filters=N.pseudos,N.setFilters=new ww;function gc(K,oe){var le,fe,me,ke,Ee,Fe,$e,gt=St[K+" "];if(gt)return oe?0:gt.slice(0);for(Ee=K,Fe=[],$e=N.preFilter;Ee;){(!le||(fe=pn.exec(Ee)))&&(fe&&(Ee=Ee.slice(fe[0].length)||Ee),Fe.push(me=[])),le=!1,(fe=dc.exec(Ee))&&(le=fe.shift(),me.push({value:le,type:fe[0].replace(E," ")}),Ee=Ee.slice(le.length));for(ke in N.filter)(fe=Wi[ke].exec(Ee))&&(!$e[ke]||(fe=$e[ke](fe)))&&(le=fe.shift(),me.push({value:le,type:ke,matches:fe}),Ee=Ee.slice(le.length));if(!le)break}return oe?Ee.length:Ee?Rt.error(K):St(K,Fe).slice(0)}function Ah(K){for(var oe=0,le=K.length,fe="";oe<le;oe++)fe+=K[oe].value;return fe}function Mh(K,oe,le){var fe=oe.dir,me=oe.next,ke=me||fe,Ee=le&&ke==="parentNode",Fe=xe++;return oe.first?function($e,gt,Ze){for(;$e=$e[fe];)if($e.nodeType===1||Ee)return K($e,gt,Ze);return!1}:function($e,gt,Ze){var it,mt,Ve=[ce,Fe];if(Ze){for(;$e=$e[fe];)if(($e.nodeType===1||Ee)&&K($e,gt,Ze))return!0}else for(;$e=$e[fe];)if($e.nodeType===1||Ee)if(mt=$e[ve]||($e[ve]={}),me&&A($e,me))$e=$e[fe]||$e;else{if((it=mt[ke])&&it[0]===ce&&it[1]===Fe)return Ve[2]=it[2];if(mt[ke]=Ve,Ve[2]=K($e,gt,Ze))return!0}return!1}}function ig(K){return K.length>1?function(oe,le,fe){for(var me=K.length;me--;)if(!K[me](oe,le,fe))return!1;return!0}:K[0]}function TA(K,oe,le){for(var fe=0,me=oe.length;fe<me;fe++)Rt(K,oe[fe],le);return le}function Eh(K,oe,le,fe,me){for(var ke,Ee=[],Fe=0,$e=K.length,gt=oe!=null;Fe<$e;Fe++)(ke=K[Fe])&&(!le||le(ke,fe,me))&&(Ee.push(ke),gt&&oe.push(Fe));return Ee}function og(K,oe,le,fe,me,ke){return fe&&!fe[ve]&&(fe=og(fe)),me&&!me[ve]&&(me=og(me,ke)),ci(function(Ee,Fe,$e,gt){var Ze,it,mt,Ve,Vt=[],mr=[],Gn=Fe.length,Kr=Ee||TA(oe||"*",$e.nodeType?[$e]:$e,[]),ji=K&&(Ee||!oe)?Eh(Kr,Vt,K,$e,gt):Kr;if(le?(Ve=me||(Ee?K:Gn||fe)?[]:Fe,le(ji,Ve,$e,gt)):Ve=ji,fe)for(Ze=Eh(Ve,mr),fe(Ze,[],$e,gt),it=Ze.length;it--;)(mt=Ze[it])&&(Ve[mr[it]]=!(ji[mr[it]]=mt));if(Ee){if(me||K){if(me){for(Ze=[],it=Ve.length;it--;)(mt=Ve[it])&&Ze.push(ji[it]=mt);me(null,Ve=[],Ze,gt)}for(it=Ve.length;it--;)(mt=Ve[it])&&(Ze=me?a.call(Ee,mt):Vt[it])>-1&&(Ee[Ze]=!(Fe[Ze]=mt))}}else Ve=Eh(Ve===Fe?Ve.splice(Gn,Ve.length):Ve),me?me(null,Fe,Ve,gt):B.apply(Fe,Ve)})}function sg(K){for(var oe,le,fe,me=K.length,ke=N.relative[K[0].type],Ee=ke||N.relative[" "],Fe=ke?1:0,$e=Mh(function(it){return it===oe},Ee,!0),gt=Mh(function(it){return a.call(oe,it)>-1},Ee,!0),Ze=[function(it,mt,Ve){var Vt=!ke&&(Ve||mt!=O)||((oe=mt).nodeType?$e(it,mt,Ve):gt(it,mt,Ve));return oe=null,Vt}];Fe<me;Fe++)if(le=N.relative[K[Fe].type])Ze=[Mh(ig(Ze),le)];else{if(le=N.filter[K[Fe].type].apply(null,K[Fe].matches),le[ve]){for(fe=++Fe;fe<me&&!N.relative[K[fe].type];fe++);return og(Fe>1&&ig(Ze),Fe>1&&Ah(K.slice(0,Fe-1).concat({value:K[Fe-2].type===" "?"*":""})).replace(E,"$1"),le,Fe<fe&&sg(K.slice(Fe,fe)),fe<me&&sg(K=K.slice(fe)),fe<me&&Ah(K))}Ze.push(le)}return ig(Ze)}function kA(K,oe){var le=oe.length>0,fe=K.length>0,me=function(ke,Ee,Fe,$e,gt){var Ze,it,mt,Ve=0,Vt="0",mr=ke&&[],Gn=[],Kr=O,ji=ke||fe&&N.find.TAG("*",gt),Da=ce+=Kr==null?1:Math.random()||.1,or=ji.length;for(gt&&(O=Ee==H||Ee||gt);Vt!==or&&(Ze=ji[Vt])!=null;Vt++){if(fe&&Ze){for(it=0,!Ee&&Ze.ownerDocument!=H&&(Ho(Ze),Fe=!J);mt=K[it++];)if(mt(Ze,Ee||H,Fe)){B.call($e,Ze);break}gt&&(ce=Da)}le&&((Ze=!mt&&Ze)&&Ve--,ke&&mr.push(Ze))}if(Ve+=Vt,le&&Vt!==Ve){for(it=0;mt=oe[it++];)mt(mr,Gn,Ee,Fe);if(ke){if(Ve>0)for(;Vt--;)mr[Vt]||Gn[Vt]||(Gn[Vt]=M.call($e));Gn=Eh(Gn)}B.apply($e,Gn),gt&&!ke&&Gn.length>0&&Ve+oe.length>1&&y.uniqueSort($e)}return gt&&(ce=Da,O=Kr),mr};return le?ci(me):me}function ag(K,oe){var le,fe=[],me=[],ke=ht[K+" "];if(!ke){for(oe||(oe=gc(K)),le=oe.length;le--;)ke=sg(oe[le]),ke[ve]?fe.push(ke):me.push(ke);ke=ht(K,kA(me,fe)),ke.selector=K}return ke}function bw(K,oe,le,fe){var me,ke,Ee,Fe,$e,gt=typeof K=="function"&&K,Ze=!fe&&gc(K=gt.selector||K);if(le=le||[],Ze.length===1){if(ke=Ze[0]=Ze[0].slice(0),ke.length>2&&(Ee=ke[0]).type==="ID"&&oe.nodeType===9&&J&&N.relative[ke[1].type]){if(oe=(N.find.ID(Ee.matches[0].replace(uo,ho),oe)||[])[0],oe)gt&&(oe=oe.parentNode);else return le;K=K.slice(ke.shift().value.length)}for(me=Wi.needsContext.test(K)?0:ke.length;me--&&(Ee=ke[me],!N.relative[Fe=Ee.type]);)if(($e=N.find[Fe])&&(fe=$e(Ee.matches[0].replace(uo,ho),ng.test(ke[0].type)&&rg(oe.parentNode)||oe))){if(ke.splice(me,1),K=fe.length&&Ah(ke),!K)return B.apply(le,fe),le;break}}return(gt||ag(K,Ze))(fe,oe,!J,le,!oe||ng.test(K)&&rg(oe.parentNode)||oe),le}d.sortStable=ve.split("").sort(En).join("")===ve,Ho(),d.sortDetached=Ia(function(K){return K.compareDocumentPosition(H.createElement("fieldset"))&1}),y.find=Rt,y.expr[":"]=y.expr.pseudos,y.unique=y.uniqueSort,Rt.compile=ag,Rt.select=bw,Rt.setDocument=Ho,Rt.tokenize=gc,Rt.escape=y.escapeSelector,Rt.getText=y.text,Rt.isXML=y.isXMLDoc,Rt.selectors=y.expr,Rt.support=y.support,Rt.uniqueSort=y.uniqueSort})();var W=function(T,N,O){for(var F=[],j=O!==void 0;(T=T[N])&&T.nodeType!==9;)if(T.nodeType===1){if(j&&y(T).is(O))break;F.push(T)}return F},z=function(T,N){for(var O=[];T;T=T.nextSibling)T.nodeType===1&&T!==N&&O.push(T);return O},G=y.expr.match.needsContext,Z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function q(T,N,O){return g(N)?y.grep(T,function(F,j){return!!N.call(F,j,F)!==O}):N.nodeType?y.grep(T,function(F){return F===N!==O}):typeof N!="string"?y.grep(T,function(F){return a.call(N,F)>-1!==O}):y.filter(N,T,O)}y.filter=function(T,N,O){var F=N[0];return O&&(T=":not("+T+")"),N.length===1&&F.nodeType===1?y.find.matchesSelector(F,T)?[F]:[]:y.find.matches(T,y.grep(N,function(j){return j.nodeType===1}))},y.fn.extend({find:function(T){var N,O,F=this.length,j=this;if(typeof T!="string")return this.pushStack(y(T).filter(function(){for(N=0;N<F;N++)if(y.contains(j[N],this))return!0}));for(O=this.pushStack([]),N=0;N<F;N++)y.find(T,j[N],O);return F>1?y.uniqueSort(O):O},filter:function(T){return this.pushStack(q(this,T||[],!1))},not:function(T){return this.pushStack(q(this,T||[],!0))},is:function(T){return!!q(this,typeof T=="string"&&G.test(T)?y(T):T||[],!1).length}});var X,Y=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ee=y.fn.init=function(T,N,O){var F,j;if(!T)return this;if(O=O||X,typeof T=="string")if(T[0]==="<"&&T[T.length-1]===">"&&T.length>=3?F=[null,T,null]:F=Y.exec(T),F&&(F[1]||!N))if(F[1]){if(N=N instanceof y?N[0]:N,y.merge(this,y.parseHTML(F[1],N&&N.nodeType?N.ownerDocument||N:v,!0)),Z.test(F[1])&&y.isPlainObject(N))for(F in N)g(this[F])?this[F](N[F]):this.attr(F,N[F]);return this}else return j=v.getElementById(F[2]),j&&(this[0]=j,this.length=1),this;else return!N||N.jquery?(N||O).find(T):this.constructor(N).find(T);else{if(T.nodeType)return this[0]=T,this.length=1,this;if(g(T))return O.ready!==void 0?O.ready(T):T(y)}return y.makeArray(T,this)};ee.prototype=y.fn,X=y(v);var re=/^(?:parents|prev(?:Until|All))/,ie={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({has:function(T){var N=y(T,this),O=N.length;return this.filter(function(){for(var F=0;F<O;F++)if(y.contains(this,N[F]))return!0})},closest:function(T,N){var O,F=0,j=this.length,B=[],H=typeof T!="string"&&y(T);if(!G.test(T)){for(;F<j;F++)for(O=this[F];O&&O!==N;O=O.parentNode)if(O.nodeType<11&&(H?H.index(O)>-1:O.nodeType===1&&y.find.matchesSelector(O,T))){B.push(O);break}}return this.pushStack(B.length>1?y.uniqueSort(B):B)},index:function(T){return T?typeof T=="string"?a.call(y(T),this[0]):a.call(this,T.jquery?T[0]:T):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(T,N){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(T,N))))},addBack:function(T){return this.add(T==null?this.prevObject:this.prevObject.filter(T))}});function ue(T,N){for(;(T=T[N])&&T.nodeType!==1;);return T}y.each({parent:function(T){var N=T.parentNode;return N&&N.nodeType!==11?N:null},parents:function(T){return W(T,"parentNode")},parentsUntil:function(T,N,O){return W(T,"parentNode",O)},next:function(T){return ue(T,"nextSibling")},prev:function(T){return ue(T,"previousSibling")},nextAll:function(T){return W(T,"nextSibling")},prevAll:function(T){return W(T,"previousSibling")},nextUntil:function(T,N,O){return W(T,"nextSibling",O)},prevUntil:function(T,N,O){return W(T,"previousSibling",O)},siblings:function(T){return z((T.parentNode||{}).firstChild,T)},children:function(T){return z(T.firstChild)},contents:function(T){return T.contentDocument!=null&&i(T.contentDocument)?T.contentDocument:(A(T,"template")&&(T=T.content||T),y.merge([],T.childNodes))}},function(T,N){y.fn[T]=function(O,F){var j=y.map(this,N,O);return T.slice(-5)!=="Until"&&(F=O),F&&typeof F=="string"&&(j=y.filter(F,j)),this.length>1&&(ie[T]||y.uniqueSort(j),re.test(T)&&j.reverse()),this.pushStack(j)}});var he=/[^\x20\t\r\n\f]+/g;function _e(T){var N={};return y.each(T.match(he)||[],function(O,F){N[F]=!0}),N}y.Callbacks=function(T){T=typeof T=="string"?_e(T):y.extend({},T);var N,O,F,j,B=[],H=[],te=-1,J=function(){for(j=j||T.once,F=N=!0;H.length;te=-1)for(O=H.shift();++te<B.length;)B[te].apply(O[0],O[1])===!1&&T.stopOnFalse&&(te=B.length,O=!1);T.memory||(O=!1),N=!1,j&&(O?B=[]:B="")},se={add:function(){return B&&(O&&!N&&(te=B.length-1,H.push(O)),function pe(ve){y.each(ve,function(ce,xe){g(xe)?(!T.unique||!se.has(xe))&&B.push(xe):xe&&xe.length&&x(xe)!=="string"&&pe(xe)})}(arguments),O&&!N&&J()),this},remove:function(){return y.each(arguments,function(pe,ve){for(var ce;(ce=y.inArray(ve,B,ce))>-1;)B.splice(ce,1),ce<=te&&te--}),this},has:function(pe){return pe?y.inArray(pe,B)>-1:B.length>0},empty:function(){return B&&(B=[]),this},disable:function(){return j=H=[],B=O="",this},disabled:function(){return!B},lock:function(){return j=H=[],!O&&!N&&(B=O=""),this},locked:function(){return!!j},fireWith:function(pe,ve){return j||(ve=ve||[],ve=[pe,ve.slice?ve.slice():ve],H.push(ve),N||J()),this},fire:function(){return se.fireWith(this,arguments),this},fired:function(){return!!F}};return se};function Te(T){return T}function tt(T){throw T}function ot(T,N,O,F){var j;try{T&&g(j=T.promise)?j.call(T).done(N).fail(O):T&&g(j=T.then)?j.call(T,N,O):N.apply(void 0,[T].slice(F))}catch(B){O.apply(void 0,[B])}}y.extend({Deferred:function(T){var N=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],O="pending",F={state:function(){return O},always:function(){return j.done(arguments).fail(arguments),this},catch:function(B){return F.then(null,B)},pipe:function(){var B=arguments;return y.Deferred(function(H){y.each(N,function(te,J){var se=g(B[J[4]])&&B[J[4]];j[J[1]](function(){var pe=se&&se.apply(this,arguments);pe&&g(pe.promise)?pe.promise().progress(H.notify).done(H.resolve).fail(H.reject):H[J[0]+"With"](this,se?[pe]:arguments)})}),B=null}).promise()},then:function(B,H,te){var J=0;function se(pe,ve,ce,xe){return function(){var nt=this,St=arguments,ht=function(){var En,Ii;if(!(pe<J)){if(En=ce.apply(nt,St),En===ve.promise())throw new TypeError("Thenable self-resolution");Ii=En&&(typeof En=="object"||typeof En=="function")&&En.then,g(Ii)?xe?Ii.call(En,se(J,ve,Te,xe),se(J,ve,tt,xe)):(J++,Ii.call(En,se(J,ve,Te,xe),se(J,ve,tt,xe),se(J,ve,Te,ve.notifyWith))):(ce!==Te&&(nt=void 0,St=[En]),(xe||ve.resolveWith)(nt,St))}},jn=xe?ht:function(){try{ht()}catch(En){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(En,jn.error),pe+1>=J&&(ce!==tt&&(nt=void 0,St=[En]),ve.rejectWith(nt,St))}};pe?jn():(y.Deferred.getErrorHook?jn.error=y.Deferred.getErrorHook():y.Deferred.getStackHook&&(jn.error=y.Deferred.getStackHook()),e.setTimeout(jn))}}return y.Deferred(function(pe){N[0][3].add(se(0,pe,g(te)?te:Te,pe.notifyWith)),N[1][3].add(se(0,pe,g(B)?B:Te)),N[2][3].add(se(0,pe,g(H)?H:tt))}).promise()},promise:function(B){return B!=null?y.extend(B,F):F}},j={};return y.each(N,function(B,H){var te=H[2],J=H[5];F[H[1]]=te.add,J&&te.add(function(){O=J},N[3-B][2].disable,N[3-B][3].disable,N[0][2].lock,N[0][3].lock),te.add(H[3].fire),j[H[0]]=function(){return j[H[0]+"With"](this===j?void 0:this,arguments),this},j[H[0]+"With"]=te.fireWith}),F.promise(j),T&&T.call(j,j),j},when:function(T){var N=arguments.length,O=N,F=Array(O),j=o.call(arguments),B=y.Deferred(),H=function(te){return function(J){F[te]=this,j[te]=arguments.length>1?o.call(arguments):J,--N||B.resolveWith(F,j)}};if(N<=1&&(ot(T,B.done(H(O)).resolve,B.reject,!N),B.state()==="pending"||g(j[O]&&j[O].then)))return B.then();for(;O--;)ot(j[O],H(O),B.reject);return B.promise()}});var we=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(T,N){e.console&&e.console.warn&&T&&we.test(T.name)&&e.console.warn("jQuery.Deferred exception: "+T.message,T.stack,N)},y.readyException=function(T){e.setTimeout(function(){throw T})};var Ae=y.Deferred();y.fn.ready=function(T){return Ae.then(T).catch(function(N){y.readyException(N)}),this},y.extend({isReady:!1,readyWait:1,ready:function(T){(T===!0?--y.readyWait:y.isReady)||(y.isReady=!0,!(T!==!0&&--y.readyWait>0)&&Ae.resolveWith(v,[y]))}}),y.ready.then=Ae.then;function st(){v.removeEventListener("DOMContentLoaded",st),e.removeEventListener("load",st),y.ready()}v.readyState==="complete"||v.readyState!=="loading"&&!v.documentElement.doScroll?e.setTimeout(y.ready):(v.addEventListener("DOMContentLoaded",st),e.addEventListener("load",st));var qe=function(T,N,O,F,j,B,H){var te=0,J=T.length,se=O==null;if(x(O)==="object"){j=!0;for(te in O)qe(T,N,te,O[te],!0,B,H)}else if(F!==void 0&&(j=!0,g(F)||(H=!0),se&&(H?(N.call(T,F),N=null):(se=N,N=function(pe,ve,ce){return se.call(y(pe),ce)})),N))for(;te<J;te++)N(T[te],O,H?F:F.call(T[te],te,N(T[te],O)));return j?T:se?N.call(T):J?N(T[0],O):B},Ue=/^-ms-/,_t=/-([a-z])/g;function Jt(T,N){return N.toUpperCase()}function At(T){return T.replace(Ue,"ms-").replace(_t,Jt)}var an=function(T){return T.nodeType===1||T.nodeType===9||!+T.nodeType};function yn(){this.expando=y.expando+yn.uid++}yn.uid=1,yn.prototype={cache:function(T){var N=T[this.expando];return N||(N={},an(T)&&(T.nodeType?T[this.expando]=N:Object.defineProperty(T,this.expando,{value:N,configurable:!0}))),N},set:function(T,N,O){var F,j=this.cache(T);if(typeof N=="string")j[At(N)]=O;else for(F in N)j[At(F)]=N[F];return j},get:function(T,N){return N===void 0?this.cache(T):T[this.expando]&&T[this.expando][At(N)]},access:function(T,N,O){return N===void 0||N&&typeof N=="string"&&O===void 0?this.get(T,N):(this.set(T,N,O),O!==void 0?O:N)},remove:function(T,N){var O,F=T[this.expando];if(F!==void 0){if(N!==void 0)for(Array.isArray(N)?N=N.map(At):(N=At(N),N=N in F?[N]:N.match(he)||[]),O=N.length;O--;)delete F[N[O]];(N===void 0||y.isEmptyObject(F))&&(T.nodeType?T[this.expando]=void 0:delete T[this.expando])}},hasData:function(T){var N=T[this.expando];return N!==void 0&&!y.isEmptyObject(N)}};var Re=new yn,de=new yn,Le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Oe=/[A-Z]/g;function at(T){return T==="true"?!0:T==="false"?!1:T==="null"?null:T===+T+""?+T:Le.test(T)?JSON.parse(T):T}function Ke(T,N,O){var F;if(O===void 0&&T.nodeType===1)if(F="data-"+N.replace(Oe,"-$&").toLowerCase(),O=T.getAttribute(F),typeof O=="string"){try{O=at(O)}catch{}de.set(T,N,O)}else O=void 0;return O}y.extend({hasData:function(T){return de.hasData(T)||Re.hasData(T)},data:function(T,N,O){return de.access(T,N,O)},removeData:function(T,N){de.remove(T,N)},_data:function(T,N,O){return Re.access(T,N,O)},_removeData:function(T,N){Re.remove(T,N)}}),y.fn.extend({data:function(T,N){var O,F,j,B=this[0],H=B&&B.attributes;if(T===void 0){if(this.length&&(j=de.get(B),B.nodeType===1&&!Re.get(B,"hasDataAttrs"))){for(O=H.length;O--;)H[O]&&(F=H[O].name,F.indexOf("data-")===0&&(F=At(F.slice(5)),Ke(B,F,j[F])));Re.set(B,"hasDataAttrs",!0)}return j}return typeof T=="object"?this.each(function(){de.set(this,T)}):qe(this,function(te){var J;if(B&&te===void 0)return J=de.get(B,T),J!==void 0||(J=Ke(B,T),J!==void 0)?J:void 0;this.each(function(){de.set(this,T,te)})},null,N,arguments.length>1,null,!0)},removeData:function(T){return this.each(function(){de.remove(this,T)})}}),y.extend({queue:function(T,N,O){var F;if(T)return N=(N||"fx")+"queue",F=Re.get(T,N),O&&(!F||Array.isArray(O)?F=Re.access(T,N,y.makeArray(O)):F.push(O)),F||[]},dequeue:function(T,N){N=N||"fx";var O=y.queue(T,N),F=O.length,j=O.shift(),B=y._queueHooks(T,N),H=function(){y.dequeue(T,N)};j==="inprogress"&&(j=O.shift(),F--),j&&(N==="fx"&&O.unshift("inprogress"),delete B.stop,j.call(T,H,B)),!F&&B&&B.empty.fire()},_queueHooks:function(T,N){var O=N+"queueHooks";return Re.get(T,O)||Re.access(T,O,{empty:y.Callbacks("once memory").add(function(){Re.remove(T,[N+"queue",O])})})}}),y.fn.extend({queue:function(T,N){var O=2;return typeof T!="string"&&(N=T,T="fx",O--),arguments.length<O?y.queue(this[0],T):N===void 0?this:this.each(function(){var F=y.queue(this,T,N);y._queueHooks(this,T),T==="fx"&&F[0]!=="inprogress"&&y.dequeue(this,T)})},dequeue:function(T){return this.each(function(){y.dequeue(this,T)})},clearQueue:function(T){return this.queue(T||"fx",[])},promise:function(T,N){var O,F=1,j=y.Deferred(),B=this,H=this.length,te=function(){--F||j.resolveWith(B,[B])};for(typeof T!="string"&&(N=T,T=void 0),T=T||"fx";H--;)O=Re.get(B[H],T+"queueHooks"),O&&O.empty&&(F++,O.empty.add(te));return te(),j.promise(N)}});var Se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+Se+")([a-z%]*)$","i"),ze=["Top","Right","Bottom","Left"],Ye=v.documentElement,rt=function(T){return y.contains(T.ownerDocument,T)},ln={composed:!0};Ye.getRootNode&&(rt=function(T){return y.contains(T.ownerDocument,T)||T.getRootNode(ln)===T.ownerDocument});var ir=function(T,N){return T=N||T,T.style.display==="none"||T.style.display===""&&rt(T)&&y.css(T,"display")==="none"};function oo(T,N,O,F){var j,B,H=20,te=F?function(){return F.cur()}:function(){return y.css(T,N,"")},J=te(),se=O&&O[3]||(y.cssNumber[N]?"":"px"),pe=T.nodeType&&(y.cssNumber[N]||se!=="px"&&+J)&&Be.exec(y.css(T,N));if(pe&&pe[3]!==se){for(J=J/2,se=se||pe[3],pe=+J||1;H--;)y.style(T,N,pe+se),(1-B)*(1-(B=te()/J||.5))<=0&&(H=0),pe=pe/B;pe=pe*2,y.style(T,N,pe+se),O=O||[]}return O&&(pe=+pe||+J||0,j=O[1]?pe+(O[1]+1)*O[2]:+O[2],F&&(F.unit=se,F.start=pe,F.end=j)),j}var Vr={};function Ma(T){var N,O=T.ownerDocument,F=T.nodeName,j=Vr[F];return j||(N=O.body.appendChild(O.createElement(F)),j=y.css(N,"display"),N.parentNode.removeChild(N),j==="none"&&(j="block"),Vr[F]=j,j)}function Ri(T,N){for(var O,F,j=[],B=0,H=T.length;B<H;B++)F=T[B],F.style&&(O=F.style.display,N?(O==="none"&&(j[B]=Re.get(F,"display")||null,j[B]||(F.style.display="")),F.style.display===""&&ir(F)&&(j[B]=Ma(F))):O!=="none"&&(j[B]="none",Re.set(F,"display",O)));for(B=0;B<H;B++)j[B]!=null&&(T[B].style.display=j[B]);return T}y.fn.extend({show:function(){return Ri(this,!0)},hide:function(){return Ri(this)},toggle:function(T){return typeof T=="boolean"?T?this.show():this.hide():this.each(function(){ir(this)?y(this).show():y(this).hide()})}});var so=/^(?:checkbox|radio)$/i,We=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Mt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var T=v.createDocumentFragment(),N=T.appendChild(v.createElement("div")),O=v.createElement("input");O.setAttribute("type","radio"),O.setAttribute("checked","checked"),O.setAttribute("name","t"),N.appendChild(O),d.checkClone=N.cloneNode(!0).cloneNode(!0).lastChild.checked,N.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!N.cloneNode(!0).lastChild.defaultValue,N.innerHTML="<option></option>",d.option=!!N.lastChild})();var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,d.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);function Ot(T,N){var O;return typeof T.getElementsByTagName<"u"?O=T.getElementsByTagName(N||"*"):typeof T.querySelectorAll<"u"?O=T.querySelectorAll(N||"*"):O=[],N===void 0||N&&A(T,N)?y.merge([T],O):O}function Ur(T,N){for(var O=0,F=T.length;O<F;O++)Re.set(T[O],"globalEval",!N||Re.get(N[O],"globalEval"))}var Li=/<|&#?\w+;/;function Ea(T,N,O,F,j){for(var B,H,te,J,se,pe,ve=N.createDocumentFragment(),ce=[],xe=0,nt=T.length;xe<nt;xe++)if(B=T[xe],B||B===0)if(x(B)==="object")y.merge(ce,B.nodeType?[B]:B);else if(!Li.test(B))ce.push(N.createTextNode(B));else{for(H=H||ve.appendChild(N.createElement("div")),te=(We.exec(B)||["",""])[1].toLowerCase(),J=yt[te]||yt._default,H.innerHTML=J[1]+y.htmlPrefilter(B)+J[2],pe=J[0];pe--;)H=H.lastChild;y.merge(ce,H.childNodes),H=ve.firstChild,H.textContent=""}for(ve.textContent="",xe=0;B=ce[xe++];){if(F&&y.inArray(B,F)>-1){j&&j.push(B);continue}if(se=rt(B),H=Ot(ve.appendChild(B),"script"),se&&Ur(H),O)for(pe=0;B=H[pe++];)Mt.test(B.type||"")&&O.push(B)}return ve}var ic=/^([^.]*)(?:\.(.+)|)/;function si(){return!0}function Do(){return!1}function oc(T,N,O,F,j,B){var H,te;if(typeof N=="object"){typeof O!="string"&&(F=F||O,O=void 0);for(te in N)oc(T,te,O,F,N[te],B);return T}if(F==null&&j==null?(j=O,F=O=void 0):j==null&&(typeof O=="string"?(j=F,F=void 0):(j=F,F=O,O=void 0)),j===!1)j=Do;else if(!j)return T;return B===1&&(H=j,j=function(J){return y().off(J),H.apply(this,arguments)},j.guid=H.guid||(H.guid=y.guid++)),T.each(function(){y.event.add(this,N,j,F,O)})}y.event={global:{},add:function(T,N,O,F,j){var B,H,te,J,se,pe,ve,ce,xe,nt,St,ht=Re.get(T);if(an(T))for(O.handler&&(B=O,O=B.handler,j=B.selector),j&&y.find.matchesSelector(Ye,j),O.guid||(O.guid=y.guid++),(J=ht.events)||(J=ht.events=Object.create(null)),(H=ht.handle)||(H=ht.handle=function(jn){return typeof y<"u"&&y.event.triggered!==jn.type?y.event.dispatch.apply(T,arguments):void 0}),N=(N||"").match(he)||[""],se=N.length;se--;)te=ic.exec(N[se])||[],xe=St=te[1],nt=(te[2]||"").split(".").sort(),xe&&(ve=y.event.special[xe]||{},xe=(j?ve.delegateType:ve.bindType)||xe,ve=y.event.special[xe]||{},pe=y.extend({type:xe,origType:St,data:F,handler:O,guid:O.guid,selector:j,needsContext:j&&y.expr.match.needsContext.test(j),namespace:nt.join(".")},B),(ce=J[xe])||(ce=J[xe]=[],ce.delegateCount=0,(!ve.setup||ve.setup.call(T,F,nt,H)===!1)&&T.addEventListener&&T.addEventListener(xe,H)),ve.add&&(ve.add.call(T,pe),pe.handler.guid||(pe.handler.guid=O.guid)),j?ce.splice(ce.delegateCount++,0,pe):ce.push(pe),y.event.global[xe]=!0)},remove:function(T,N,O,F,j){var B,H,te,J,se,pe,ve,ce,xe,nt,St,ht=Re.hasData(T)&&Re.get(T);if(!(!ht||!(J=ht.events))){for(N=(N||"").match(he)||[""],se=N.length;se--;){if(te=ic.exec(N[se])||[],xe=St=te[1],nt=(te[2]||"").split(".").sort(),!xe){for(xe in J)y.event.remove(T,xe+N[se],O,F,!0);continue}for(ve=y.event.special[xe]||{},xe=(F?ve.delegateType:ve.bindType)||xe,ce=J[xe]||[],te=te[2]&&new RegExp("(^|\\.)"+nt.join("\\.(?:.*\\.|)")+"(\\.|$)"),H=B=ce.length;B--;)pe=ce[B],(j||St===pe.origType)&&(!O||O.guid===pe.guid)&&(!te||te.test(pe.namespace))&&(!F||F===pe.selector||F==="**"&&pe.selector)&&(ce.splice(B,1),pe.selector&&ce.delegateCount--,ve.remove&&ve.remove.call(T,pe));H&&!ce.length&&((!ve.teardown||ve.teardown.call(T,nt,ht.handle)===!1)&&y.removeEvent(T,xe,ht.handle),delete J[xe])}y.isEmptyObject(J)&&Re.remove(T,"handle events")}},dispatch:function(T){var N,O,F,j,B,H,te=new Array(arguments.length),J=y.event.fix(T),se=(Re.get(this,"events")||Object.create(null))[J.type]||[],pe=y.event.special[J.type]||{};for(te[0]=J,N=1;N<arguments.length;N++)te[N]=arguments[N];if(J.delegateTarget=this,!(pe.preDispatch&&pe.preDispatch.call(this,J)===!1)){for(H=y.event.handlers.call(this,J,se),N=0;(j=H[N++])&&!J.isPropagationStopped();)for(J.currentTarget=j.elem,O=0;(B=j.handlers[O++])&&!J.isImmediatePropagationStopped();)(!J.rnamespace||B.namespace===!1||J.rnamespace.test(B.namespace))&&(J.handleObj=B,J.data=B.data,F=((y.event.special[B.origType]||{}).handle||B.handler).apply(j.elem,te),F!==void 0&&(J.result=F)===!1&&(J.preventDefault(),J.stopPropagation()));return pe.postDispatch&&pe.postDispatch.call(this,J),J.result}},handlers:function(T,N){var O,F,j,B,H,te=[],J=N.delegateCount,se=T.target;if(J&&se.nodeType&&!(T.type==="click"&&T.button>=1)){for(;se!==this;se=se.parentNode||this)if(se.nodeType===1&&!(T.type==="click"&&se.disabled===!0)){for(B=[],H={},O=0;O<J;O++)F=N[O],j=F.selector+" ",H[j]===void 0&&(H[j]=F.needsContext?y(j,this).index(se)>-1:y.find(j,this,null,[se]).length),H[j]&&B.push(F);B.length&&te.push({elem:se,handlers:B})}}return se=this,J<N.length&&te.push({elem:se,handlers:N.slice(J)}),te},addProp:function(T,N){Object.defineProperty(y.Event.prototype,T,{enumerable:!0,configurable:!0,get:g(N)?function(){if(this.originalEvent)return N(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[T]},set:function(O){Object.defineProperty(this,T,{enumerable:!0,configurable:!0,writable:!0,value:O})}})},fix:function(T){return T[y.expando]?T:new y.Event(T)},special:{load:{noBubble:!0},click:{setup:function(T){var N=this||T;return so.test(N.type)&&N.click&&A(N,"input")&&Ps(N,"click",!0),!1},trigger:function(T){var N=this||T;return so.test(N.type)&&N.click&&A(N,"input")&&Ps(N,"click"),!0},_default:function(T){var N=T.target;return so.test(N.type)&&N.click&&A(N,"input")&&Re.get(N,"click")||A(N,"a")}},beforeunload:{postDispatch:function(T){T.result!==void 0&&T.originalEvent&&(T.originalEvent.returnValue=T.result)}}}};function Ps(T,N,O){if(!O){Re.get(T,N)===void 0&&y.event.add(T,N,si);return}Re.set(T,N,!1),y.event.add(T,N,{namespace:!1,handler:function(F){var j,B=Re.get(this,N);if(F.isTrigger&1&&this[N]){if(B)(y.event.special[N]||{}).delegateType&&F.stopPropagation();else if(B=o.call(arguments),Re.set(this,N,B),this[N](),j=Re.get(this,N),Re.set(this,N,!1),B!==j)return F.stopImmediatePropagation(),F.preventDefault(),j}else B&&(Re.set(this,N,y.event.trigger(B[0],B.slice(1),this)),F.stopPropagation(),F.isImmediatePropagationStopped=si)}})}y.removeEvent=function(T,N,O){T.removeEventListener&&T.removeEventListener(N,O)},y.Event=function(T,N){if(!(this instanceof y.Event))return new y.Event(T,N);T&&T.type?(this.originalEvent=T,this.type=T.type,this.isDefaultPrevented=T.defaultPrevented||T.defaultPrevented===void 0&&T.returnValue===!1?si:Do,this.target=T.target&&T.target.nodeType===3?T.target.parentNode:T.target,this.currentTarget=T.currentTarget,this.relatedTarget=T.relatedTarget):this.type=T,N&&y.extend(this,N),this.timeStamp=T&&T.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:Do,isPropagationStopped:Do,isImmediatePropagationStopped:Do,isSimulated:!1,preventDefault:function(){var T=this.originalEvent;this.isDefaultPrevented=si,T&&!this.isSimulated&&T.preventDefault()},stopPropagation:function(){var T=this.originalEvent;this.isPropagationStopped=si,T&&!this.isSimulated&&T.stopPropagation()},stopImmediatePropagation:function(){var T=this.originalEvent;this.isImmediatePropagationStopped=si,T&&!this.isSimulated&&T.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},function(T,N){function O(F){if(v.documentMode){var j=Re.get(this,"handle"),B=y.event.fix(F);B.type=F.type==="focusin"?"focus":"blur",B.isSimulated=!0,j(F),B.target===B.currentTarget&&j(B)}else y.event.simulate(N,F.target,y.event.fix(F))}y.event.special[T]={setup:function(){var F;if(Ps(this,T,!0),v.documentMode)F=Re.get(this,N),F||this.addEventListener(N,O),Re.set(this,N,(F||0)+1);else return!1},trigger:function(){return Ps(this,T),!0},teardown:function(){var F;if(v.documentMode)F=Re.get(this,N)-1,F?Re.set(this,N,F):(this.removeEventListener(N,O),Re.remove(this,N));else return!1},_default:function(F){return Re.get(F.target,T)},delegateType:N},y.event.special[N]={setup:function(){var F=this.ownerDocument||this.document||this,j=v.documentMode?this:F,B=Re.get(j,N);B||(v.documentMode?this.addEventListener(N,O):F.addEventListener(T,O,!0)),Re.set(j,N,(B||0)+1)},teardown:function(){var F=this.ownerDocument||this.document||this,j=v.documentMode?this:F,B=Re.get(j,N)-1;B?Re.set(j,N,B):(v.documentMode?this.removeEventListener(N,O):F.removeEventListener(T,O,!0),Re.remove(j,N))}}}),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(T,N){y.event.special[T]={delegateType:N,bindType:N,handle:function(O){var F,j=this,B=O.relatedTarget,H=O.handleObj;return(!B||B!==j&&!y.contains(j,B))&&(O.type=H.origType,F=H.handler.apply(this,arguments),O.type=N),F}}}),y.fn.extend({on:function(T,N,O,F){return oc(this,T,N,O,F)},one:function(T,N,O,F){return oc(this,T,N,O,F,1)},off:function(T,N,O){var F,j;if(T&&T.preventDefault&&T.handleObj)return F=T.handleObj,y(T.delegateTarget).off(F.namespace?F.origType+"."+F.namespace:F.origType,F.selector,F.handler),this;if(typeof T=="object"){for(j in T)this.off(j,N,T[j]);return this}return(N===!1||typeof N=="function")&&(O=N,N=void 0),O===!1&&(O=Do),this.each(function(){y.event.remove(this,T,O,N)})}});var sc=/<script|<style|<link/i,ao=/checked\s*(?:[^=]|=\s*.checked.)/i,Vp=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function rh(T,N){return A(T,"table")&&A(N.nodeType!==11?N:N.firstChild,"tr")&&y(T).children("tbody")[0]||T}function Up(T){return T.type=(T.getAttribute("type")!==null)+"/"+T.type,T}function Gp(T){return(T.type||"").slice(0,5)==="true/"?T.type=T.type.slice(5):T.removeAttribute("type"),T}function ih(T,N){var O,F,j,B,H,te,J;if(N.nodeType===1){if(Re.hasData(T)&&(B=Re.get(T),J=B.events,J)){Re.remove(N,"handle events");for(j in J)for(O=0,F=J[j].length;O<F;O++)y.event.add(N,j,J[j][O])}de.hasData(T)&&(H=de.access(T),te=y.extend({},H),de.set(N,te))}}function ai(T,N){var O=N.nodeName.toLowerCase();O==="input"&&so.test(T.type)?N.checked=T.checked:(O==="input"||O==="textarea")&&(N.defaultValue=T.defaultValue)}function Fo(T,N,O,F){N=s(N);var j,B,H,te,J,se,pe=0,ve=T.length,ce=ve-1,xe=N[0],nt=g(xe);if(nt||ve>1&&typeof xe=="string"&&!d.checkClone&&ao.test(xe))return T.each(function(St){var ht=T.eq(St);nt&&(N[0]=xe.call(this,St,ht.html())),Fo(ht,N,O,F)});if(ve&&(j=Ea(N,T[0].ownerDocument,!1,T,F),B=j.firstChild,j.childNodes.length===1&&(j=B),B||F)){for(H=y.map(Ot(j,"script"),Up),te=H.length;pe<ve;pe++)J=j,pe!==ce&&(J=y.clone(J,!0,!0),te&&y.merge(H,Ot(J,"script"))),O.call(T[pe],J,pe);if(te)for(se=H[H.length-1].ownerDocument,y.map(H,Gp),pe=0;pe<te;pe++)J=H[pe],Mt.test(J.type||"")&&!Re.access(J,"globalEval")&&y.contains(se,J)&&(J.src&&(J.type||"").toLowerCase()!=="module"?y._evalUrl&&!J.noModule&&y._evalUrl(J.src,{nonce:J.nonce||J.getAttribute("nonce")},se):C(J.textContent.replace(Vp,""),J,se))}return T}function oh(T,N,O){for(var F,j=N?y.filter(N,T):T,B=0;(F=j[B])!=null;B++)!O&&F.nodeType===1&&y.cleanData(Ot(F)),F.parentNode&&(O&&rt(F)&&Ur(Ot(F,"script")),F.parentNode.removeChild(F));return T}y.extend({htmlPrefilter:function(T){return T},clone:function(T,N,O){var F,j,B,H,te=T.cloneNode(!0),J=rt(T);if(!d.noCloneChecked&&(T.nodeType===1||T.nodeType===11)&&!y.isXMLDoc(T))for(H=Ot(te),B=Ot(T),F=0,j=B.length;F<j;F++)ai(B[F],H[F]);if(N)if(O)for(B=B||Ot(T),H=H||Ot(te),F=0,j=B.length;F<j;F++)ih(B[F],H[F]);else ih(T,te);return H=Ot(te,"script"),H.length>0&&Ur(H,!J&&Ot(T,"script")),te},cleanData:function(T){for(var N,O,F,j=y.event.special,B=0;(O=T[B])!==void 0;B++)if(an(O)){if(N=O[Re.expando]){if(N.events)for(F in N.events)j[F]?y.event.remove(O,F):y.removeEvent(O,F,N.handle);O[Re.expando]=void 0}O[de.expando]&&(O[de.expando]=void 0)}}}),y.fn.extend({detach:function(T){return oh(this,T,!0)},remove:function(T){return oh(this,T)},text:function(T){return qe(this,function(N){return N===void 0?y.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=N)})},null,T,arguments.length)},append:function(){return Fo(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=rh(this,T);N.appendChild(T)}})},prepend:function(){return Fo(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var N=rh(this,T);N.insertBefore(T,N.firstChild)}})},before:function(){return Fo(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this)})},after:function(){return Fo(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this.nextSibling)})},empty:function(){for(var T,N=0;(T=this[N])!=null;N++)T.nodeType===1&&(y.cleanData(Ot(T,!1)),T.textContent="");return this},clone:function(T,N){return T=T??!1,N=N??T,this.map(function(){return y.clone(this,T,N)})},html:function(T){return qe(this,function(N){var O=this[0]||{},F=0,j=this.length;if(N===void 0&&O.nodeType===1)return O.innerHTML;if(typeof N=="string"&&!sc.test(N)&&!yt[(We.exec(N)||["",""])[1].toLowerCase()]){N=y.htmlPrefilter(N);try{for(;F<j;F++)O=this[F]||{},O.nodeType===1&&(y.cleanData(Ot(O,!1)),O.innerHTML=N);O=0}catch{}}O&&this.empty().append(N)},null,T,arguments.length)},replaceWith:function(){var T=[];return Fo(this,arguments,function(N){var O=this.parentNode;y.inArray(this,T)<0&&(y.cleanData(Ot(this)),O&&O.replaceChild(N,this))},T)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(T,N){y.fn[T]=function(O){for(var F,j=[],B=y(O),H=B.length-1,te=0;te<=H;te++)F=te===H?this:this.clone(!0),y(B[te])[N](F),l.apply(j,F.get());return this.pushStack(j)}});var ac=new RegExp("^("+Se+")(?!px)[a-z%]+$","i"),lc=/^--/,$a=function(T){var N=T.ownerDocument.defaultView;return(!N||!N.opener)&&(N=e),N.getComputedStyle(T)},Ni=function(T,N,O){var F,j,B={};for(j in N)B[j]=T.style[j],T.style[j]=N[j];F=O.call(T);for(j in N)T.style[j]=B[j];return F},qp=new RegExp(ze.join("|"),"i");(function(){function T(){if(se){J.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",se.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ye.appendChild(J).appendChild(se);var pe=e.getComputedStyle(se);O=pe.top!=="1%",te=N(pe.marginLeft)===12,se.style.right="60%",B=N(pe.right)===36,F=N(pe.width)===36,se.style.position="absolute",j=N(se.offsetWidth/3)===12,Ye.removeChild(J),se=null}}function N(pe){return Math.round(parseFloat(pe))}var O,F,j,B,H,te,J=v.createElement("div"),se=v.createElement("div");se.style&&(se.style.backgroundClip="content-box",se.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle=se.style.backgroundClip==="content-box",y.extend(d,{boxSizingReliable:function(){return T(),F},pixelBoxStyles:function(){return T(),B},pixelPosition:function(){return T(),O},reliableMarginLeft:function(){return T(),te},scrollboxSize:function(){return T(),j},reliableTrDimensions:function(){var pe,ve,ce,xe;return H==null&&(pe=v.createElement("table"),ve=v.createElement("tr"),ce=v.createElement("div"),pe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ve.style.cssText="box-sizing:content-box;border:1px solid",ve.style.height="1px",ce.style.height="9px",ce.style.display="block",Ye.appendChild(pe).appendChild(ve).appendChild(ce),xe=e.getComputedStyle(ve),H=parseInt(xe.height,10)+parseInt(xe.borderTopWidth,10)+parseInt(xe.borderBottomWidth,10)===ve.offsetHeight,Ye.removeChild(pe)),H}}))})();function Os(T,N,O){var F,j,B,H,te=lc.test(N),J=T.style;return O=O||$a(T),O&&(H=O.getPropertyValue(N)||O[N],te&&H&&(H=H.replace(E,"$1")||void 0),H===""&&!rt(T)&&(H=y.style(T,N)),!d.pixelBoxStyles()&&ac.test(H)&&qp.test(N)&&(F=J.width,j=J.minWidth,B=J.maxWidth,J.minWidth=J.maxWidth=J.width=H,H=O.width,J.width=F,J.minWidth=j,J.maxWidth=B)),H!==void 0?H+"":H}function sh(T,N){return{get:function(){if(T()){delete this.get;return}return(this.get=N).apply(this,arguments)}}}var ah=["Webkit","Moz","ms"],lh=v.createElement("div").style,Is={};function Kp(T){for(var N=T[0].toUpperCase()+T.slice(1),O=ah.length;O--;)if(T=ah[O]+N,T in lh)return T}function cc(T){var N=y.cssProps[T]||Is[T];return N||(T in lh?T:Is[T]=Kp(T)||T)}var Pi=/^(none|table(?!-c[ea]).+)/,Yp={position:"absolute",visibility:"hidden",display:"block"},ch={letterSpacing:"0",fontWeight:"400"};function uh(T,N,O){var F=Be.exec(N);return F?Math.max(0,F[2]-(O||0))+(F[3]||"px"):N}function uc(T,N,O,F,j,B){var H=N==="width"?1:0,te=0,J=0,se=0;if(O===(F?"border":"content"))return 0;for(;H<4;H+=2)O==="margin"&&(se+=y.css(T,O+ze[H],!0,j)),F?(O==="content"&&(J-=y.css(T,"padding"+ze[H],!0,j)),O!=="margin"&&(J-=y.css(T,"border"+ze[H]+"Width",!0,j))):(J+=y.css(T,"padding"+ze[H],!0,j),O!=="padding"?J+=y.css(T,"border"+ze[H]+"Width",!0,j):te+=y.css(T,"border"+ze[H]+"Width",!0,j));return!F&&B>=0&&(J+=Math.max(0,Math.ceil(T["offset"+N[0].toUpperCase()+N.slice(1)]-B-J-te-.5))||0),J+se}function hh(T,N,O){var F=$a(T),j=!d.boxSizingReliable()||O,B=j&&y.css(T,"boxSizing",!1,F)==="border-box",H=B,te=Os(T,N,F),J="offset"+N[0].toUpperCase()+N.slice(1);if(ac.test(te)){if(!O)return te;te="auto"}return(!d.boxSizingReliable()&&B||!d.reliableTrDimensions()&&A(T,"tr")||te==="auto"||!parseFloat(te)&&y.css(T,"display",!1,F)==="inline")&&T.getClientRects().length&&(B=y.css(T,"boxSizing",!1,F)==="border-box",H=J in T,H&&(te=T[J])),te=parseFloat(te)||0,te+uc(T,N,O||(B?"border":"content"),H,F,te)+"px"}y.extend({cssHooks:{opacity:{get:function(T,N){if(N){var O=Os(T,"opacity");return O===""?"1":O}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(T,N,O,F){if(!(!T||T.nodeType===3||T.nodeType===8||!T.style)){var j,B,H,te=At(N),J=lc.test(N),se=T.style;if(J||(N=cc(te)),H=y.cssHooks[N]||y.cssHooks[te],O!==void 0){if(B=typeof O,B==="string"&&(j=Be.exec(O))&&j[1]&&(O=oo(T,N,j),B="number"),O==null||O!==O)return;B==="number"&&!J&&(O+=j&&j[3]||(y.cssNumber[te]?"":"px")),!d.clearCloneStyle&&O===""&&N.indexOf("background")===0&&(se[N]="inherit"),(!H||!("set"in H)||(O=H.set(T,O,F))!==void 0)&&(J?se.setProperty(N,O):se[N]=O)}else return H&&"get"in H&&(j=H.get(T,!1,F))!==void 0?j:se[N]}},css:function(T,N,O,F){var j,B,H,te=At(N),J=lc.test(N);return J||(N=cc(te)),H=y.cssHooks[N]||y.cssHooks[te],H&&"get"in H&&(j=H.get(T,!0,O)),j===void 0&&(j=Os(T,N,F)),j==="normal"&&N in ch&&(j=ch[N]),O===""||O?(B=parseFloat(j),O===!0||isFinite(B)?B||0:j):j}}),y.each(["height","width"],function(T,N){y.cssHooks[N]={get:function(O,F,j){if(F)return Pi.test(y.css(O,"display"))&&(!O.getClientRects().length||!O.getBoundingClientRect().width)?Ni(O,Yp,function(){return hh(O,N,j)}):hh(O,N,j)},set:function(O,F,j){var B,H=$a(O),te=!d.scrollboxSize()&&H.position==="absolute",J=te||j,se=J&&y.css(O,"boxSizing",!1,H)==="border-box",pe=j?uc(O,N,j,se,H):0;return se&&te&&(pe-=Math.ceil(O["offset"+N[0].toUpperCase()+N.slice(1)]-parseFloat(H[N])-uc(O,N,"border",!1,H)-.5)),pe&&(B=Be.exec(F))&&(B[3]||"px")!=="px"&&(O.style[N]=F,F=y.css(O,N)),uh(O,F,pe)}}}),y.cssHooks.marginLeft=sh(d.reliableMarginLeft,function(T,N){if(N)return(parseFloat(Os(T,"marginLeft"))||T.getBoundingClientRect().left-Ni(T,{marginLeft:0},function(){return T.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(T,N){y.cssHooks[T+N]={expand:function(O){for(var F=0,j={},B=typeof O=="string"?O.split(" "):[O];F<4;F++)j[T+ze[F]+N]=B[F]||B[F-2]||B[0];return j}},T!=="margin"&&(y.cssHooks[T+N].set=uh)}),y.fn.extend({css:function(T,N){return qe(this,function(O,F,j){var B,H,te={},J=0;if(Array.isArray(F)){for(B=$a(O),H=F.length;J<H;J++)te[F[J]]=y.css(O,F[J],!1,B);return te}return j!==void 0?y.style(O,F,j):y.css(O,F)},T,N,arguments.length>1)}});function Un(T,N,O,F,j){return new Un.prototype.init(T,N,O,F,j)}y.Tween=Un,Un.prototype={constructor:Un,init:function(T,N,O,F,j,B){this.elem=T,this.prop=O,this.easing=j||y.easing._default,this.options=N,this.start=this.now=this.cur(),this.end=F,this.unit=B||(y.cssNumber[O]?"":"px")},cur:function(){var T=Un.propHooks[this.prop];return T&&T.get?T.get(this):Un.propHooks._default.get(this)},run:function(T){var N,O=Un.propHooks[this.prop];return this.options.duration?this.pos=N=y.easing[this.easing](T,this.options.duration*T,0,1,this.options.duration):this.pos=N=T,this.now=(this.end-this.start)*N+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),O&&O.set?O.set(this):Un.propHooks._default.set(this),this}},Un.prototype.init.prototype=Un.prototype,Un.propHooks={_default:{get:function(T){var N;return T.elem.nodeType!==1||T.elem[T.prop]!=null&&T.elem.style[T.prop]==null?T.elem[T.prop]:(N=y.css(T.elem,T.prop,""),!N||N==="auto"?0:N)},set:function(T){y.fx.step[T.prop]?y.fx.step[T.prop](T):T.elem.nodeType===1&&(y.cssHooks[T.prop]||T.elem.style[cc(T.prop)]!=null)?y.style(T.elem,T.prop,T.now+T.unit):T.elem[T.prop]=T.now}}},Un.propHooks.scrollTop=Un.propHooks.scrollLeft={set:function(T){T.elem.nodeType&&T.elem.parentNode&&(T.elem[T.prop]=T.now)}},y.easing={linear:function(T){return T},swing:function(T){return .5-Math.cos(T*Math.PI)/2},_default:"swing"},y.fx=Un.prototype.init,y.fx.step={};var li,Ra,Ds=/^(?:toggle|show|hide)$/,fh=/queueHooks$/;function La(){Ra&&(v.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(La):e.setTimeout(La,y.fx.interval),y.fx.tick())}function dh(){return e.setTimeout(function(){li=void 0}),li=Date.now()}function Na(T,N){var O,F=0,j={height:T};for(N=N?1:0;F<4;F+=2-N)O=ze[F],j["margin"+O]=j["padding"+O]=T;return N&&(j.opacity=j.width=T),j}function ph(T,N,O){for(var F,j=(Ar.tweeners[N]||[]).concat(Ar.tweeners["*"]),B=0,H=j.length;B<H;B++)if(F=j[B].call(O,N,T))return F}function Qp(T,N,O){var F,j,B,H,te,J,se,pe,ve="width"in N||"height"in N,ce=this,xe={},nt=T.style,St=T.nodeType&&ir(T),ht=Re.get(T,"fxshow");O.queue||(H=y._queueHooks(T,"fx"),H.unqueued==null&&(H.unqueued=0,te=H.empty.fire,H.empty.fire=function(){H.unqueued||te()}),H.unqueued++,ce.always(function(){ce.always(function(){H.unqueued--,y.queue(T,"fx").length||H.empty.fire()})}));for(F in N)if(j=N[F],Ds.test(j)){if(delete N[F],B=B||j==="toggle",j===(St?"hide":"show"))if(j==="show"&&ht&&ht[F]!==void 0)St=!0;else continue;xe[F]=ht&&ht[F]||y.style(T,F)}if(J=!y.isEmptyObject(N),!(!J&&y.isEmptyObject(xe))){ve&&T.nodeType===1&&(O.overflow=[nt.overflow,nt.overflowX,nt.overflowY],se=ht&&ht.display,se==null&&(se=Re.get(T,"display")),pe=y.css(T,"display"),pe==="none"&&(se?pe=se:(Ri([T],!0),se=T.style.display||se,pe=y.css(T,"display"),Ri([T]))),(pe==="inline"||pe==="inline-block"&&se!=null)&&y.css(T,"float")==="none"&&(J||(ce.done(function(){nt.display=se}),se==null&&(pe=nt.display,se=pe==="none"?"":pe)),nt.display="inline-block")),O.overflow&&(nt.overflow="hidden",ce.always(function(){nt.overflow=O.overflow[0],nt.overflowX=O.overflow[1],nt.overflowY=O.overflow[2]})),J=!1;for(F in xe)J||(ht?"hidden"in ht&&(St=ht.hidden):ht=Re.access(T,"fxshow",{display:se}),B&&(ht.hidden=!St),St&&Ri([T],!0),ce.done(function(){St||Ri([T]),Re.remove(T,"fxshow");for(F in xe)y.style(T,F,xe[F])})),J=ph(St?ht[F]:0,F,ce),F in ht||(ht[F]=J.start,St&&(J.end=J.start,J.start=0))}}function gh(T,N){var O,F,j,B,H;for(O in T)if(F=At(O),j=N[F],B=T[O],Array.isArray(B)&&(j=B[1],B=T[O]=B[0]),O!==F&&(T[F]=B,delete T[O]),H=y.cssHooks[F],H&&"expand"in H){B=H.expand(B),delete T[F];for(O in B)O in T||(T[O]=B[O],N[O]=j)}else N[F]=j}function Ar(T,N,O){var F,j,B=0,H=Ar.prefilters.length,te=y.Deferred().always(function(){delete J.elem}),J=function(){if(j)return!1;for(var ve=li||dh(),ce=Math.max(0,se.startTime+se.duration-ve),xe=ce/se.duration||0,nt=1-xe,St=0,ht=se.tweens.length;St<ht;St++)se.tweens[St].run(nt);return te.notifyWith(T,[se,nt,ce]),nt<1&&ht?ce:(ht||te.notifyWith(T,[se,1,0]),te.resolveWith(T,[se]),!1)},se=te.promise({elem:T,props:y.extend({},N),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},O),originalProperties:N,originalOptions:O,startTime:li||dh(),duration:O.duration,tweens:[],createTween:function(ve,ce){var xe=y.Tween(T,se.opts,ve,ce,se.opts.specialEasing[ve]||se.opts.easing);return se.tweens.push(xe),xe},stop:function(ve){var ce=0,xe=ve?se.tweens.length:0;if(j)return this;for(j=!0;ce<xe;ce++)se.tweens[ce].run(1);return ve?(te.notifyWith(T,[se,1,0]),te.resolveWith(T,[se,ve])):te.rejectWith(T,[se,ve]),this}}),pe=se.props;for(gh(pe,se.opts.specialEasing);B<H;B++)if(F=Ar.prefilters[B].call(se,T,pe,se.opts),F)return g(F.stop)&&(y._queueHooks(se.elem,se.opts.queue).stop=F.stop.bind(F)),F;return y.map(pe,ph,se),g(se.opts.start)&&se.opts.start.call(T,se),se.progress(se.opts.progress).done(se.opts.done,se.opts.complete).fail(se.opts.fail).always(se.opts.always),y.fx.timer(y.extend(J,{elem:T,anim:se,queue:se.opts.queue})),se}y.Animation=y.extend(Ar,{tweeners:{"*":[function(T,N){var O=this.createTween(T,N);return oo(O.elem,T,Be.exec(N),O),O}]},tweener:function(T,N){g(T)?(N=T,T=["*"]):T=T.match(he);for(var O,F=0,j=T.length;F<j;F++)O=T[F],Ar.tweeners[O]=Ar.tweeners[O]||[],Ar.tweeners[O].unshift(N)},prefilters:[Qp],prefilter:function(T,N){N?Ar.prefilters.unshift(T):Ar.prefilters.push(T)}}),y.speed=function(T,N,O){var F=T&&typeof T=="object"?y.extend({},T):{complete:O||!O&&N||g(T)&&T,duration:T,easing:O&&N||N&&!g(N)&&N};return y.fx.off?F.duration=0:typeof F.duration!="number"&&(F.duration in y.fx.speeds?F.duration=y.fx.speeds[F.duration]:F.duration=y.fx.speeds._default),(F.queue==null||F.queue===!0)&&(F.queue="fx"),F.old=F.complete,F.complete=function(){g(F.old)&&F.old.call(this),F.queue&&y.dequeue(this,F.queue)},F},y.fn.extend({fadeTo:function(T,N,O,F){return this.filter(ir).css("opacity",0).show().end().animate({opacity:N},T,O,F)},animate:function(T,N,O,F){var j=y.isEmptyObject(T),B=y.speed(N,O,F),H=function(){var te=Ar(this,y.extend({},T),B);(j||Re.get(this,"finish"))&&te.stop(!0)};return H.finish=H,j||B.queue===!1?this.each(H):this.queue(B.queue,H)},stop:function(T,N,O){var F=function(j){var B=j.stop;delete j.stop,B(O)};return typeof T!="string"&&(O=N,N=T,T=void 0),N&&this.queue(T||"fx",[]),this.each(function(){var j=!0,B=T!=null&&T+"queueHooks",H=y.timers,te=Re.get(this);if(B)te[B]&&te[B].stop&&F(te[B]);else for(B in te)te[B]&&te[B].stop&&fh.test(B)&&F(te[B]);for(B=H.length;B--;)H[B].elem===this&&(T==null||H[B].queue===T)&&(H[B].anim.stop(O),j=!1,H.splice(B,1));(j||!O)&&y.dequeue(this,T)})},finish:function(T){return T!==!1&&(T=T||"fx"),this.each(function(){var N,O=Re.get(this),F=O[T+"queue"],j=O[T+"queueHooks"],B=y.timers,H=F?F.length:0;for(O.finish=!0,y.queue(this,T,[]),j&&j.stop&&j.stop.call(this,!0),N=B.length;N--;)B[N].elem===this&&B[N].queue===T&&(B[N].anim.stop(!0),B.splice(N,1));for(N=0;N<H;N++)F[N]&&F[N].finish&&F[N].finish.call(this);delete O.finish})}}),y.each(["toggle","show","hide"],function(T,N){var O=y.fn[N];y.fn[N]=function(F,j,B){return F==null||typeof F=="boolean"?O.apply(this,arguments):this.animate(Na(N,!0),F,j,B)}}),y.each({slideDown:Na("show"),slideUp:Na("hide"),slideToggle:Na("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(T,N){y.fn[T]=function(O,F,j){return this.animate(N,O,F,j)}}),y.timers=[],y.fx.tick=function(){var T,N=0,O=y.timers;for(li=Date.now();N<O.length;N++)T=O[N],!T()&&O[N]===T&&O.splice(N--,1);O.length||y.fx.stop(),li=void 0},y.fx.timer=function(T){y.timers.push(T),y.fx.start()},y.fx.interval=13,y.fx.start=function(){Ra||(Ra=!0,La())},y.fx.stop=function(){Ra=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(T,N){return T=y.fx&&y.fx.speeds[T]||T,N=N||"fx",this.queue(N,function(O,F){var j=e.setTimeout(O,T);F.stop=function(){e.clearTimeout(j)}})},function(){var T=v.createElement("input"),N=v.createElement("select"),O=N.appendChild(v.createElement("option"));T.type="checkbox",d.checkOn=T.value!=="",d.optSelected=O.selected,T=v.createElement("input"),T.value="t",T.type="radio",d.radioValue=T.value==="t"}();var mh,Wo=y.expr.attrHandle;y.fn.extend({attr:function(T,N){return qe(this,y.attr,T,N,arguments.length>1)},removeAttr:function(T){return this.each(function(){y.removeAttr(this,T)})}}),y.extend({attr:function(T,N,O){var F,j,B=T.nodeType;if(!(B===3||B===8||B===2)){if(typeof T.getAttribute>"u")return y.prop(T,N,O);if((B!==1||!y.isXMLDoc(T))&&(j=y.attrHooks[N.toLowerCase()]||(y.expr.match.bool.test(N)?mh:void 0)),O!==void 0){if(O===null){y.removeAttr(T,N);return}return j&&"set"in j&&(F=j.set(T,O,N))!==void 0?F:(T.setAttribute(N,O+""),O)}return j&&"get"in j&&(F=j.get(T,N))!==null?F:(F=y.find.attr(T,N),F??void 0)}},attrHooks:{type:{set:function(T,N){if(!d.radioValue&&N==="radio"&&A(T,"input")){var O=T.value;return T.setAttribute("type",N),O&&(T.value=O),N}}}},removeAttr:function(T,N){var O,F=0,j=N&&N.match(he);if(j&&T.nodeType===1)for(;O=j[F++];)T.removeAttribute(O)}}),mh={set:function(T,N,O){return N===!1?y.removeAttr(T,O):T.setAttribute(O,O),O}},y.each(y.expr.match.bool.source.match(/\w+/g),function(T,N){var O=Wo[N]||y.find.attr;Wo[N]=function(F,j,B){var H,te,J=j.toLowerCase();return B||(te=Wo[J],Wo[J]=H,H=O(F,j,B)!=null?J:null,Wo[J]=te),H}});var Pa=/^(?:input|select|textarea|button)$/i,jo=/^(?:a|area)$/i;y.fn.extend({prop:function(T,N){return qe(this,y.prop,T,N,arguments.length>1)},removeProp:function(T){return this.each(function(){delete this[y.propFix[T]||T]})}}),y.extend({prop:function(T,N,O){var F,j,B=T.nodeType;if(!(B===3||B===8||B===2))return(B!==1||!y.isXMLDoc(T))&&(N=y.propFix[N]||N,j=y.propHooks[N]),O!==void 0?j&&"set"in j&&(F=j.set(T,O,N))!==void 0?F:T[N]=O:j&&"get"in j&&(F=j.get(T,N))!==null?F:T[N]},propHooks:{tabIndex:{get:function(T){var N=y.find.attr(T,"tabindex");return N?parseInt(N,10):Pa.test(T.nodeName)||jo.test(T.nodeName)&&T.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(y.propHooks.selected={get:function(T){var N=T.parentNode;return N&&N.parentNode&&N.parentNode.selectedIndex,null},set:function(T){var N=T.parentNode;N&&(N.selectedIndex,N.parentNode&&N.parentNode.selectedIndex)}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this});function lo(T){var N=T.match(he)||[];return N.join(" ")}function co(T){return T.getAttribute&&T.getAttribute("class")||""}function Gr(T){return Array.isArray(T)?T:typeof T=="string"?T.match(he)||[]:[]}y.fn.extend({addClass:function(T){var N,O,F,j,B,H;return g(T)?this.each(function(te){y(this).addClass(T.call(this,te,co(this)))}):(N=Gr(T),N.length?this.each(function(){if(F=co(this),O=this.nodeType===1&&" "+lo(F)+" ",O){for(B=0;B<N.length;B++)j=N[B],O.indexOf(" "+j+" ")<0&&(O+=j+" ");H=lo(O),F!==H&&this.setAttribute("class",H)}}):this)},removeClass:function(T){var N,O,F,j,B,H;return g(T)?this.each(function(te){y(this).removeClass(T.call(this,te,co(this)))}):arguments.length?(N=Gr(T),N.length?this.each(function(){if(F=co(this),O=this.nodeType===1&&" "+lo(F)+" ",O){for(B=0;B<N.length;B++)for(j=N[B];O.indexOf(" "+j+" ")>-1;)O=O.replace(" "+j+" "," ");H=lo(O),F!==H&&this.setAttribute("class",H)}}):this):this.attr("class","")},toggleClass:function(T,N){var O,F,j,B,H=typeof T,te=H==="string"||Array.isArray(T);return g(T)?this.each(function(J){y(this).toggleClass(T.call(this,J,co(this),N),N)}):typeof N=="boolean"&&te?N?this.addClass(T):this.removeClass(T):(O=Gr(T),this.each(function(){if(te)for(B=y(this),j=0;j<O.length;j++)F=O[j],B.hasClass(F)?B.removeClass(F):B.addClass(F);else(T===void 0||H==="boolean")&&(F=co(this),F&&Re.set(this,"__className__",F),this.setAttribute&&this.setAttribute("class",F||T===!1?"":Re.get(this,"__className__")||""))}))},hasClass:function(T){var N,O,F=0;for(N=" "+T+" ";O=this[F++];)if(O.nodeType===1&&(" "+lo(co(O))+" ").indexOf(N)>-1)return!0;return!1}});var Xp=/\r/g;y.fn.extend({val:function(T){var N,O,F,j=this[0];return arguments.length?(F=g(T),this.each(function(B){var H;this.nodeType===1&&(F?H=T.call(this,B,y(this).val()):H=T,H==null?H="":typeof H=="number"?H+="":Array.isArray(H)&&(H=y.map(H,function(te){return te==null?"":te+""})),N=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()],(!N||!("set"in N)||N.set(this,H,"value")===void 0)&&(this.value=H))})):j?(N=y.valHooks[j.type]||y.valHooks[j.nodeName.toLowerCase()],N&&"get"in N&&(O=N.get(j,"value"))!==void 0?O:(O=j.value,typeof O=="string"?O.replace(Xp,""):O??"")):void 0}}),y.extend({valHooks:{option:{get:function(T){var N=y.find.attr(T,"value");return N??lo(y.text(T))}},select:{get:function(T){var N,O,F,j=T.options,B=T.selectedIndex,H=T.type==="select-one",te=H?null:[],J=H?B+1:j.length;for(B<0?F=J:F=H?B:0;F<J;F++)if(O=j[F],(O.selected||F===B)&&!O.disabled&&(!O.parentNode.disabled||!A(O.parentNode,"optgroup"))){if(N=y(O).val(),H)return N;te.push(N)}return te},set:function(T,N){for(var O,F,j=T.options,B=y.makeArray(N),H=j.length;H--;)F=j[H],(F.selected=y.inArray(y.valHooks.option.get(F),B)>-1)&&(O=!0);return O||(T.selectedIndex=-1),B}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(T,N){if(Array.isArray(N))return T.checked=y.inArray(y(T).val(),N)>-1}},d.checkOn||(y.valHooks[this].get=function(T){return T.getAttribute("value")===null?"on":T.value})});var Fs=e.location,vh={guid:Date.now()},hc=/\?/;y.parseXML=function(T){var N,O;if(!T||typeof T!="string")return null;try{N=new e.DOMParser().parseFromString(T,"text/xml")}catch{}return O=N&&N.getElementsByTagName("parsererror")[0],(!N||O)&&y.error("Invalid XML: "+(O?y.map(O.childNodes,function(F){return F.textContent}).join(`
`):T)),N};var yh=/^(?:focusinfocus|focusoutblur)$/,Oi=function(T){T.stopPropagation()};y.extend(y.event,{trigger:function(T,N,O,F){var j,B,H,te,J,se,pe,ve,ce=[O||v],xe=h.call(T,"type")?T.type:T,nt=h.call(T,"namespace")?T.namespace.split("."):[];if(B=ve=H=O=O||v,!(O.nodeType===3||O.nodeType===8)&&!yh.test(xe+y.event.triggered)&&(xe.indexOf(".")>-1&&(nt=xe.split("."),xe=nt.shift(),nt.sort()),J=xe.indexOf(":")<0&&"on"+xe,T=T[y.expando]?T:new y.Event(xe,typeof T=="object"&&T),T.isTrigger=F?2:3,T.namespace=nt.join("."),T.rnamespace=T.namespace?new RegExp("(^|\\.)"+nt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,T.result=void 0,T.target||(T.target=O),N=N==null?[T]:y.makeArray(N,[T]),pe=y.event.special[xe]||{},!(!F&&pe.trigger&&pe.trigger.apply(O,N)===!1))){if(!F&&!pe.noBubble&&!m(O)){for(te=pe.delegateType||xe,yh.test(te+xe)||(B=B.parentNode);B;B=B.parentNode)ce.push(B),H=B;H===(O.ownerDocument||v)&&ce.push(H.defaultView||H.parentWindow||e)}for(j=0;(B=ce[j++])&&!T.isPropagationStopped();)ve=B,T.type=j>1?te:pe.bindType||xe,se=(Re.get(B,"events")||Object.create(null))[T.type]&&Re.get(B,"handle"),se&&se.apply(B,N),se=J&&B[J],se&&se.apply&&an(B)&&(T.result=se.apply(B,N),T.result===!1&&T.preventDefault());return T.type=xe,!F&&!T.isDefaultPrevented()&&(!pe._default||pe._default.apply(ce.pop(),N)===!1)&&an(O)&&J&&g(O[xe])&&!m(O)&&(H=O[J],H&&(O[J]=null),y.event.triggered=xe,T.isPropagationStopped()&&ve.addEventListener(xe,Oi),O[xe](),T.isPropagationStopped()&&ve.removeEventListener(xe,Oi),y.event.triggered=void 0,H&&(O[J]=H)),T.result}},simulate:function(T,N,O){var F=y.extend(new y.Event,O,{type:T,isSimulated:!0});y.event.trigger(F,null,N)}}),y.fn.extend({trigger:function(T,N){return this.each(function(){y.event.trigger(T,N,this)})},triggerHandler:function(T,N){var O=this[0];if(O)return y.event.trigger(T,N,O,!0)}});var wh=/\[\]$/,bh=/\r?\n/g,Oa=/^(?:submit|button|image|reset|file)$/i,Zp=/^(?:input|select|textarea|keygen)/i;function Ws(T,N,O,F){var j;if(Array.isArray(N))y.each(N,function(B,H){O||wh.test(T)?F(T,H):Ws(T+"["+(typeof H=="object"&&H!=null?B:"")+"]",H,O,F)});else if(!O&&x(N)==="object")for(j in N)Ws(T+"["+j+"]",N[j],O,F);else F(T,N)}y.param=function(T,N){var O,F=[],j=function(B,H){var te=g(H)?H():H;F[F.length]=encodeURIComponent(B)+"="+encodeURIComponent(te??"")};if(T==null)return"";if(Array.isArray(T)||T.jquery&&!y.isPlainObject(T))y.each(T,function(){j(this.name,this.value)});else for(O in T)Ws(O,T[O],N,j);return F.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var T=y.prop(this,"elements");return T?y.makeArray(T):this}).filter(function(){var T=this.type;return this.name&&!y(this).is(":disabled")&&Zp.test(this.nodeName)&&!Oa.test(T)&&(this.checked||!so.test(T))}).map(function(T,N){var O=y(this).val();return O==null?null:Array.isArray(O)?y.map(O,function(F){return{name:N.name,value:F.replace(bh,`\r
`)}}):{name:N.name,value:O.replace(bh,`\r
`)}}).get()}});var Jp=/%20/g,_h=/#.*$/,Sh=/([?&])_=[^&]*/,xh=/^(.*?):[ \t]*([^\r\n]*)$/mg,js=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ch=/^(?:GET|HEAD)$/,eg=/^\/\//,Th={},fc={},Q="*/".concat("*"),ae=v.createElement("a");ae.href=Fs.href;function be(T){return function(N,O){typeof N!="string"&&(O=N,N="*");var F,j=0,B=N.toLowerCase().match(he)||[];if(g(O))for(;F=B[j++];)F[0]==="+"?(F=F.slice(1)||"*",(T[F]=T[F]||[]).unshift(O)):(T[F]=T[F]||[]).push(O)}}function Ne(T,N,O,F){var j={},B=T===fc;function H(te){var J;return j[te]=!0,y.each(T[te]||[],function(se,pe){var ve=pe(N,O,F);if(typeof ve=="string"&&!B&&!j[ve])return N.dataTypes.unshift(ve),H(ve),!1;if(B)return!(J=ve)}),J}return H(N.dataTypes[0])||!j["*"]&&H("*")}function $t(T,N){var O,F,j=y.ajaxSettings.flatOptions||{};for(O in N)N[O]!==void 0&&((j[O]?T:F||(F={}))[O]=N[O]);return F&&y.extend(!0,T,F),T}function ct(T,N,O){for(var F,j,B,H,te=T.contents,J=T.dataTypes;J[0]==="*";)J.shift(),F===void 0&&(F=T.mimeType||N.getResponseHeader("Content-Type"));if(F){for(j in te)if(te[j]&&te[j].test(F)){J.unshift(j);break}}if(J[0]in O)B=J[0];else{for(j in O){if(!J[0]||T.converters[j+" "+J[0]]){B=j;break}H||(H=j)}B=B||H}if(B)return B!==J[0]&&J.unshift(B),O[B]}function en(T,N,O,F){var j,B,H,te,J,se={},pe=T.dataTypes.slice();if(pe[1])for(H in T.converters)se[H.toLowerCase()]=T.converters[H];for(B=pe.shift();B;)if(T.responseFields[B]&&(O[T.responseFields[B]]=N),!J&&F&&T.dataFilter&&(N=T.dataFilter(N,T.dataType)),J=B,B=pe.shift(),B){if(B==="*")B=J;else if(J!=="*"&&J!==B){if(H=se[J+" "+B]||se["* "+B],!H){for(j in se)if(te=j.split(" "),te[1]===B&&(H=se[J+" "+te[0]]||se["* "+te[0]],H)){H===!0?H=se[j]:se[j]!==!0&&(B=te[0],pe.unshift(te[1]));break}}if(H!==!0)if(H&&T.throws)N=H(N);else try{N=H(N)}catch(ve){return{state:"parsererror",error:H?ve:"No conversion from "+J+" to "+B}}}}return{state:"success",data:N}}y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fs.href,type:"GET",isLocal:js.test(Fs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Q,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(T,N){return N?$t($t(T,y.ajaxSettings),N):$t(y.ajaxSettings,T)},ajaxPrefilter:be(Th),ajaxTransport:be(fc),ajax:function(T,N){typeof T=="object"&&(N=T,T=void 0),N=N||{};var O,F,j,B,H,te,J,se,pe,ve,ce=y.ajaxSetup({},N),xe=ce.context||ce,nt=ce.context&&(xe.nodeType||xe.jquery)?y(xe):y.event,St=y.Deferred(),ht=y.Callbacks("once memory"),jn=ce.statusCode||{},En={},Ii={},Di="canceled",wt={readyState:0,getResponseHeader:function(Ct){var pn;if(J){if(!B)for(B={};pn=xh.exec(j);)B[pn[1].toLowerCase()+" "]=(B[pn[1].toLowerCase()+" "]||[]).concat(pn[2]);pn=B[Ct.toLowerCase()+" "]}return pn==null?null:pn.join(", ")},getAllResponseHeaders:function(){return J?j:null},setRequestHeader:function(Ct,pn){return J==null&&(Ct=Ii[Ct.toLowerCase()]=Ii[Ct.toLowerCase()]||Ct,En[Ct]=pn),this},overrideMimeType:function(Ct){return J==null&&(ce.mimeType=Ct),this},statusCode:function(Ct){var pn;if(Ct)if(J)wt.always(Ct[wt.status]);else for(pn in Ct)jn[pn]=[jn[pn],Ct[pn]];return this},abort:function(Ct){var pn=Ct||Di;return O&&O.abort(pn),Bs(0,pn),this}};if(St.promise(wt),ce.url=((T||ce.url||Fs.href)+"").replace(eg,Fs.protocol+"//"),ce.type=N.method||N.type||ce.method||ce.type,ce.dataTypes=(ce.dataType||"*").toLowerCase().match(he)||[""],ce.crossDomain==null){te=v.createElement("a");try{te.href=ce.url,te.href=te.href,ce.crossDomain=ae.protocol+"//"+ae.host!=te.protocol+"//"+te.host}catch{ce.crossDomain=!0}}if(ce.data&&ce.processData&&typeof ce.data!="string"&&(ce.data=y.param(ce.data,ce.traditional)),Ne(Th,ce,N,wt),J)return wt;se=y.event&&ce.global,se&&y.active++===0&&y.event.trigger("ajaxStart"),ce.type=ce.type.toUpperCase(),ce.hasContent=!Ch.test(ce.type),F=ce.url.replace(_h,""),ce.hasContent?ce.data&&ce.processData&&(ce.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ce.data=ce.data.replace(Jp,"+")):(ve=ce.url.slice(F.length),ce.data&&(ce.processData||typeof ce.data=="string")&&(F+=(hc.test(F)?"&":"?")+ce.data,delete ce.data),ce.cache===!1&&(F=F.replace(Sh,"$1"),ve=(hc.test(F)?"&":"?")+"_="+vh.guid+++ve),ce.url=F+ve),ce.ifModified&&(y.lastModified[F]&&wt.setRequestHeader("If-Modified-Since",y.lastModified[F]),y.etag[F]&&wt.setRequestHeader("If-None-Match",y.etag[F])),(ce.data&&ce.hasContent&&ce.contentType!==!1||N.contentType)&&wt.setRequestHeader("Content-Type",ce.contentType),wt.setRequestHeader("Accept",ce.dataTypes[0]&&ce.accepts[ce.dataTypes[0]]?ce.accepts[ce.dataTypes[0]]+(ce.dataTypes[0]!=="*"?", "+Q+"; q=0.01":""):ce.accepts["*"]);for(pe in ce.headers)wt.setRequestHeader(pe,ce.headers[pe]);if(ce.beforeSend&&(ce.beforeSend.call(xe,wt,ce)===!1||J))return wt.abort();if(Di="abort",ht.add(ce.complete),wt.done(ce.success),wt.fail(ce.error),O=Ne(fc,ce,N,wt),!O)Bs(-1,"No Transport");else{if(wt.readyState=1,se&&nt.trigger("ajaxSend",[wt,ce]),J)return wt;ce.async&&ce.timeout>0&&(H=e.setTimeout(function(){wt.abort("timeout")},ce.timeout));try{J=!1,O.send(En,Bs)}catch(Ct){if(J)throw Ct;Bs(-1,Ct)}}function Bs(Ct,pn,dc,tg){var Fi,pc,Wi,Bo,zo,qr=pn;J||(J=!0,H&&e.clearTimeout(H),O=void 0,j=tg||"",wt.readyState=Ct>0?4:0,Fi=Ct>=200&&Ct<300||Ct===304,dc&&(Bo=ct(ce,wt,dc)),!Fi&&y.inArray("script",ce.dataTypes)>-1&&y.inArray("json",ce.dataTypes)<0&&(ce.converters["text script"]=function(){}),Bo=en(ce,Bo,wt,Fi),Fi?(ce.ifModified&&(zo=wt.getResponseHeader("Last-Modified"),zo&&(y.lastModified[F]=zo),zo=wt.getResponseHeader("etag"),zo&&(y.etag[F]=zo)),Ct===204||ce.type==="HEAD"?qr="nocontent":Ct===304?qr="notmodified":(qr=Bo.state,pc=Bo.data,Wi=Bo.error,Fi=!Wi)):(Wi=qr,(Ct||!qr)&&(qr="error",Ct<0&&(Ct=0))),wt.status=Ct,wt.statusText=(pn||qr)+"",Fi?St.resolveWith(xe,[pc,qr,wt]):St.rejectWith(xe,[wt,qr,Wi]),wt.statusCode(jn),jn=void 0,se&&nt.trigger(Fi?"ajaxSuccess":"ajaxError",[wt,ce,Fi?pc:Wi]),ht.fireWith(xe,[wt,qr]),se&&(nt.trigger("ajaxComplete",[wt,ce]),--y.active||y.event.trigger("ajaxStop")))}return wt},getJSON:function(T,N,O){return y.get(T,N,O,"json")},getScript:function(T,N){return y.get(T,void 0,N,"script")}}),y.each(["get","post"],function(T,N){y[N]=function(O,F,j,B){return g(F)&&(B=B||j,j=F,F=void 0),y.ajax(y.extend({url:O,type:N,dataType:B,data:F,success:j},y.isPlainObject(O)&&O))}}),y.ajaxPrefilter(function(T){var N;for(N in T.headers)N.toLowerCase()==="content-type"&&(T.contentType=T.headers[N]||"")}),y._evalUrl=function(T,N,O){return y.ajax({url:T,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(F){y.globalEval(F,N,O)}})},y.fn.extend({wrapAll:function(T){var N;return this[0]&&(g(T)&&(T=T.call(this[0])),N=y(T,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&N.insertBefore(this[0]),N.map(function(){for(var O=this;O.firstElementChild;)O=O.firstElementChild;return O}).append(this)),this},wrapInner:function(T){return g(T)?this.each(function(N){y(this).wrapInner(T.call(this,N))}):this.each(function(){var N=y(this),O=N.contents();O.length?O.wrapAll(T):N.append(T)})},wrap:function(T){var N=g(T);return this.each(function(O){y(this).wrapAll(N?T.call(this,O):T)})},unwrap:function(T){return this.parent(T).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(T){return!y.expr.pseudos.visible(T)},y.expr.pseudos.visible=function(T){return!!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Cn={0:200,1223:204},cn=y.ajaxSettings.xhr();d.cors=!!cn&&"withCredentials"in cn,d.ajax=cn=!!cn,y.ajaxTransport(function(T){var N,O;if(d.cors||cn&&!T.crossDomain)return{send:function(F,j){var B,H=T.xhr();if(H.open(T.type,T.url,T.async,T.username,T.password),T.xhrFields)for(B in T.xhrFields)H[B]=T.xhrFields[B];T.mimeType&&H.overrideMimeType&&H.overrideMimeType(T.mimeType),!T.crossDomain&&!F["X-Requested-With"]&&(F["X-Requested-With"]="XMLHttpRequest");for(B in F)H.setRequestHeader(B,F[B]);N=function(te){return function(){N&&(N=O=H.onload=H.onerror=H.onabort=H.ontimeout=H.onreadystatechange=null,te==="abort"?H.abort():te==="error"?typeof H.status!="number"?j(0,"error"):j(H.status,H.statusText):j(Cn[H.status]||H.status,H.statusText,(H.responseType||"text")!=="text"||typeof H.responseText!="string"?{binary:H.response}:{text:H.responseText},H.getAllResponseHeaders()))}},H.onload=N(),O=H.onerror=H.ontimeout=N("error"),H.onabort!==void 0?H.onabort=O:H.onreadystatechange=function(){H.readyState===4&&e.setTimeout(function(){N&&O()})},N=N("abort");try{H.send(T.hasContent&&T.data||null)}catch(te){if(N)throw te}},abort:function(){N&&N()}}}),y.ajaxPrefilter(function(T){T.crossDomain&&(T.contents.script=!1)}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(T){return y.globalEval(T),T}}}),y.ajaxPrefilter("script",function(T){T.cache===void 0&&(T.cache=!1),T.crossDomain&&(T.type="GET")}),y.ajaxTransport("script",function(T){if(T.crossDomain||T.scriptAttrs){var N,O;return{send:function(F,j){N=y("<script>").attr(T.scriptAttrs||{}).prop({charset:T.scriptCharset,src:T.url}).on("load error",O=function(B){N.remove(),O=null,B&&j(B.type==="error"?404:200,B.type)}),v.head.appendChild(N[0])},abort:function(){O&&O()}}}});var Ht=[],Wn=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var T=Ht.pop()||y.expando+"_"+vh.guid++;return this[T]=!0,T}}),y.ajaxPrefilter("json jsonp",function(T,N,O){var F,j,B,H=T.jsonp!==!1&&(Wn.test(T.url)?"url":typeof T.data=="string"&&(T.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Wn.test(T.data)&&"data");if(H||T.dataTypes[0]==="jsonp")return F=T.jsonpCallback=g(T.jsonpCallback)?T.jsonpCallback():T.jsonpCallback,H?T[H]=T[H].replace(Wn,"$1"+F):T.jsonp!==!1&&(T.url+=(hc.test(T.url)?"&":"?")+T.jsonp+"="+F),T.converters["script json"]=function(){return B||y.error(F+" was not called"),B[0]},T.dataTypes[0]="json",j=e[F],e[F]=function(){B=arguments},O.always(function(){j===void 0?y(e).removeProp(F):e[F]=j,T[F]&&(T.jsonpCallback=N.jsonpCallback,Ht.push(F)),B&&g(j)&&j(B[0]),B=j=void 0}),"script"}),d.createHTMLDocument=function(){var T=v.implementation.createHTMLDocument("").body;return T.innerHTML="<form></form><form></form>",T.childNodes.length===2}(),y.parseHTML=function(T,N,O){if(typeof T!="string")return[];typeof N=="boolean"&&(O=N,N=!1);var F,j,B;return N||(d.createHTMLDocument?(N=v.implementation.createHTMLDocument(""),F=N.createElement("base"),F.href=v.location.href,N.head.appendChild(F)):N=v),j=Z.exec(T),B=!O&&[],j?[N.createElement(j[1])]:(j=Ea([T],N,B),B&&B.length&&y(B).remove(),y.merge([],j.childNodes))},y.fn.load=function(T,N,O){var F,j,B,H=this,te=T.indexOf(" ");return te>-1&&(F=lo(T.slice(te)),T=T.slice(0,te)),g(N)?(O=N,N=void 0):N&&typeof N=="object"&&(j="POST"),H.length>0&&y.ajax({url:T,type:j||"GET",dataType:"html",data:N}).done(function(J){B=arguments,H.html(F?y("<div>").append(y.parseHTML(J)).find(F):J)}).always(O&&function(J,se){H.each(function(){O.apply(this,B||[J.responseText,se,J])})}),this},y.expr.pseudos.animated=function(T){return y.grep(y.timers,function(N){return T===N.elem}).length},y.offset={setOffset:function(T,N,O){var F,j,B,H,te,J,se,pe=y.css(T,"position"),ve=y(T),ce={};pe==="static"&&(T.style.position="relative"),te=ve.offset(),B=y.css(T,"top"),J=y.css(T,"left"),se=(pe==="absolute"||pe==="fixed")&&(B+J).indexOf("auto")>-1,se?(F=ve.position(),H=F.top,j=F.left):(H=parseFloat(B)||0,j=parseFloat(J)||0),g(N)&&(N=N.call(T,O,y.extend({},te))),N.top!=null&&(ce.top=N.top-te.top+H),N.left!=null&&(ce.left=N.left-te.left+j),"using"in N?N.using.call(T,ce):ve.css(ce)}},y.fn.extend({offset:function(T){if(arguments.length)return T===void 0?this:this.each(function(j){y.offset.setOffset(this,T,j)});var N,O,F=this[0];if(F)return F.getClientRects().length?(N=F.getBoundingClientRect(),O=F.ownerDocument.defaultView,{top:N.top+O.pageYOffset,left:N.left+O.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var T,N,O,F=this[0],j={top:0,left:0};if(y.css(F,"position")==="fixed")N=F.getBoundingClientRect();else{for(N=this.offset(),O=F.ownerDocument,T=F.offsetParent||O.documentElement;T&&(T===O.body||T===O.documentElement)&&y.css(T,"position")==="static";)T=T.parentNode;T&&T!==F&&T.nodeType===1&&(j=y(T).offset(),j.top+=y.css(T,"borderTopWidth",!0),j.left+=y.css(T,"borderLeftWidth",!0))}return{top:N.top-j.top-y.css(F,"marginTop",!0),left:N.left-j.left-y.css(F,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var T=this.offsetParent;T&&y.css(T,"position")==="static";)T=T.offsetParent;return T||Ye})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(T,N){var O=N==="pageYOffset";y.fn[T]=function(F){return qe(this,function(j,B,H){var te;if(m(j)?te=j:j.nodeType===9&&(te=j.defaultView),H===void 0)return te?te[N]:j[B];te?te.scrollTo(O?te.pageXOffset:H,O?H:te.pageYOffset):j[B]=H},T,F,arguments.length)}}),y.each(["top","left"],function(T,N){y.cssHooks[N]=sh(d.pixelPosition,function(O,F){if(F)return F=Os(O,N),ac.test(F)?y(O).position()[N]+"px":F})}),y.each({Height:"height",Width:"width"},function(T,N){y.each({padding:"inner"+T,content:N,"":"outer"+T},function(O,F){y.fn[F]=function(j,B){var H=arguments.length&&(O||typeof j!="boolean"),te=O||(j===!0||B===!0?"margin":"border");return qe(this,function(J,se,pe){var ve;return m(J)?F.indexOf("outer")===0?J["inner"+T]:J.document.documentElement["client"+T]:J.nodeType===9?(ve=J.documentElement,Math.max(J.body["scroll"+T],ve["scroll"+T],J.body["offset"+T],ve["offset"+T],ve["client"+T])):pe===void 0?y.css(J,se,te):y.style(J,se,pe,te)},N,H?j:void 0,H)}})}),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(T,N){y.fn[N]=function(O){return this.on(N,O)}}),y.fn.extend({bind:function(T,N,O){return this.on(T,null,N,O)},unbind:function(T,N){return this.off(T,null,N)},delegate:function(T,N,O,F){return this.on(N,T,O,F)},undelegate:function(T,N,O){return arguments.length===1?this.off(T,"**"):this.off(N,T||"**",O)},hover:function(T,N){return this.on("mouseenter",T).on("mouseleave",N||T)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(T,N){y.fn[N]=function(O,F){return arguments.length>0?this.on(N,null,O,F):this.trigger(N)}});var Mr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;y.proxy=function(T,N){var O,F,j;if(typeof N=="string"&&(O=T[N],N=T,T=O),!!g(T))return F=o.call(arguments,2),j=function(){return T.apply(N||this,F.concat(o.call(arguments)))},j.guid=T.guid=T.guid||y.guid++,j},y.holdReady=function(T){T?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=A,y.isFunction=g,y.isWindow=m,y.camelCase=At,y.type=x,y.now=Date.now,y.isNumeric=function(T){var N=y.type(T);return(N==="number"||N==="string")&&!isNaN(T-parseFloat(T))},y.trim=function(T){return T==null?"":(T+"").replace(Mr,"$1")};var Pn=e.jQuery,gr=e.$;return y.noConflict=function(T){return e.$===y&&(e.$=gr),T&&e.jQuery===y&&(e.jQuery=Pn),y},typeof n>"u"&&(e.jQuery=e.$=y),y})})(Ox);var U$=Ox.exports;const xt=Wl(U$),Ig={},Dg={},Db=()=>{const t=window.navigator.userAgent.indexOf("Edg")!=-1?"edge":window.navigator.userAgent.indexOf("Firefox")!=-1?"firefox":"normal";return{edge:[2,1],normal:[2,1],firefox:[2,1]}[t]},sr={measureTime:0,domDrawTime:0};function hv(t){return t.replace(/[<>&'"]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}return""})}function Fb(t){return hv(er(t,(e,n)=>`${m$(n)}:${hv(e.toString())};`).join(""))}function G$(){let t=24,e="0123456789abcdfghijkmopqrstuvxyz",n="";for(let r=0;r<t;r++){let i=e[Math.floor(Math.random()*e.length)];n+=i}return n}const Vs={span:void 0,canvas:void 0};class Jr{constructor(){ge(this,"element");ge(this,"htmlContent");ge(this,"token");ge(this,"clickCallbacks",{});ge(this,"clickableOrder",0);this.token=G$(),this.element=xt("<div></div>").css({position:"relative"}).addClass("DomPaint__"+this.token)[0],this.htmlContent=""}truncateDecimal(e,n){const r=e.toFixed(n);return r.length<(""+e).length?r:""+e}limitPrecisionShape(e){return this.truncateDecimal(e,3)}limitPrecisionEm(e){return this.truncateDecimal(e,5)}getElement(){this.element.innerHTML=this.htmlContent;for(let e=0;e<this.element.children.length;e++){const n=this.element.children[e],r="DomPaint-clickable__";if(n.id.startsWith(r)){const i=n.id.substring(r.length);i in this.clickCallbacks&&n.addEventListener("click",this.clickCallbacks[i])}}return this.element}polygonQuarterCircle(e,n=1,r){let i=[],o=24,s=l=>Math.min(1,Math.max(0,r(l)));for(let l=0;l<=o;l++){let a=l/o,u=s(a),c=Math.PI/2/o*l,h=(e+n)/2,f=(n-e)/2;i.push([Math.cos(c)*(h+f*u),Math.sin(c)*(h+f*u)])}for(let l=o;l>=0;l--){let a=l/o,u=s(a),c=Math.PI/2/o*l,h=(e+n)/2,f=(n-e)/2;i.push([Math.cos(c)*(h-f*u),Math.sin(c)*(h-f*u)])}return i.map(l=>[.5*l[0]+.5,.5*l[1]+.5])}polygonFullSquare(){return[[0,0],[1,0],[1,1],[0,1]].map(n=>[n[0],n[1]])}processPolygon(e,n,r,i,o,s=0){const l=Math.max(r,i),a=o.map(M=>{const R=Math.cos(Math.PI/180*s),k=Math.sin(Math.PI/180*s),$=(M[0]-.5)*(r/l),E=(M[1]-.5)*(i/l);return[.5+$*R-E*k,.5+$*k+E*R]});let u=Math.min(r/i,i/r),c=u;a.forEach(M=>{u=Math.max(u,2*Math.abs(M[0]-.5)),c=Math.max(c,2*Math.abs(M[1]-.5))}),a.forEach(M=>{M[0]=(M[0]-.5)/u+.5,M[1]=(M[1]-.5)/c+.5}),r=l*u,i=l*c;const h=e-r/2;let f=Math.floor(h)-1;const p=e+r/2;let d=Math.ceil(p)+1;const g=n-i/2;let m=Math.floor(g)-1;const v=n+i/2;let b=Math.ceil(v)+1;const C=d-f,x=b-m,_=h-f,w=g-m,y=r/C,S=i/x,A=a.map(M=>[_/C+y*M[0],w/x+S*M[1]]);return{centerX:(f+d)/2,centerY:(m+b)/2,width:C,height:x,points:A}}measureText(e,n,r=1,i={}){if(e=="")return[0,0];sr.measureTime-=+new Date;const o=cv(JSON.stringify({text:e,font:n.fontFamily+"/"+n.fontWeight+"/"+n.fontSize*n.fontScale,extraStyles:i}));if(o in Ig){const[c,h]=Ig[o];return sr.measureTime+=+new Date,[c*r,h]}let s=n.fontSize*n.fontScale;Vs.span||(Vs.span=xt("<span></span>").addClass("DomPaint-text-measure").css("display","none").css("line-height",1.15).css("white-space","pre").css("position","fixed").css("top",0).css("left",0)[0]);const l=xt(Vs.span).text(e).css("display","inline-block").css("font-family",n.fontFamily).css("font-size",`${s*50}px`).css("font-weight",n.fontWeight).css(i);xt("body").append(l);const a=l[0].clientWidth/50,u=l[0].clientHeight/50;return l.css("display","none"),l.remove(),Vs.span=void 0,Ig[o]=[a,u],sr.measureTime+=+new Date,[a*r,u]}measureTextFast(e,n,r=1){if(e=="")return[0,0];sr.measureTime-=+new Date;const i=cv(JSON.stringify({text:e,font:n.fontFamily+"/"+n.fontWeight+"/"+n.fontSize*n.fontScale}));if(i in Dg){const[u,c]=Dg[i];return sr.measureTime+=+new Date,[u*r,c]}Vs.canvas||(Vs.canvas=document.createElement("canvas"));let s=Vs.canvas.getContext("2d"),l=n.fontSize*n.fontScale;if(s==null)return sr.measureTime+=+new Date,[0,0];s.font=`${n.fontWeight>=550?"bold ":""}${l}px ${n.fontFamily}`;let a=s.measureText(e).width;return Dg[i]=[a,0],sr.measureTime+=+new Date,[a*r,0]}drawTextFast(e,n,r,i,o,s="left",l="top",a={},u=[],c){const h=Db()[0];let f=i.fontSize*i.fontScale;e/=f,n/=f;const p={left:0,center:-50,right:-100}[s],d={top:0,middle:-50,bottom:-100}[l];sr.domDrawTime-=+new Date;let g="";c&&(g=(this.clickableOrder++).toString(),this.clickCallbacks[g]=c);const m=`<span style="${Fb({color:"#000",whiteSpace:"pre",display:"inline-block",position:"absolute",textAlign:s,fontFamily:i.fontFamily,fontSize:`${this.limitPrecisionEm(f*o*h)}em`,fontWeight:i.fontWeight,top:0,left:0,transformOrigin:"top left",transform:`translateX(${this.limitPrecisionEm(e/o/h)}em) translateY(${this.limitPrecisionEm(n/h)}em) scale(${this.limitPrecisionEm(1/h)}) translateX(${p}%) translateY(${d}%)`,...c?{cursor:"pointer",zIndex:1}:{},...a})}" class="${u.join(" ")}" ${c?'id="DomPaint-clickable__'+g+'"':""}>${hv(r)}</span>`;this.htmlContent+=m,sr.domDrawTime+=+new Date}drawText(e,n,r,i,o,s="left",l="top",a={},u=[],c){return this.drawTextFast(e,n,r,i,o,s,l,a,u,c),this.measureText(r,i,o,a)}drawPolygonUnit(e,n,r,i,o,s,l={},a=[]){if(r<=0||i<=0)return;const u=Db()[1],c=this.processPolygon(e,n,r,i,s,o);sr.domDrawTime-=+new Date;const h=`<div style="${Fb({boxShadow:`inset 0 0 0 ${this.limitPrecisionEm(Math.max(c.width,c.height)*u)}em`,position:"absolute",clipPath:`polygon(${c.points.map(f=>`${this.limitPrecisionShape(f[0]*100)}% ${this.limitPrecisionShape(f[1]*100)}%`).join(",")})`,width:`${this.limitPrecisionEm(c.width*u)}em`,height:`${this.limitPrecisionEm(c.height*u)}em`,transformOrigin:"left top",transform:`
					scale(${this.limitPrecisionEm(1/u)})
					translateX(${this.limitPrecisionEm(c.centerX*u)}em)
					translateY(${this.limitPrecisionEm(c.centerY*u)}em)
					translateX(-50%) translateY(-50%)
				`,...l})}" class="${a.join(" ")}"></div>`;this.htmlContent+=h,sr.domDrawTime+=+new Date}drawLine(e,n,r,i,o,s=0,l=1,a={},u=[]){n*=l,i*=l,s*=l,o*=l;let c=r-e,h=i-n,f=Math.sqrt(Math.pow(c,2)+Math.pow(h,2)),p=(e+r)/2,d=(n+i)/2,g=Math.atan2(h,c)*180/Math.PI;this.drawPolygonUnit(p,d,f+2*s,o,g,this.polygonFullSquare(),a,u)}drawQuarterCircle(e,n,r,i,o,s,l,a=1,u={},c=[]){n*=a,r*=a,s*=a,r+=s/2;const h=.95,f=1-s/r;r/=h;let p=0;i=="left"?o=="top"?p=180:p=90:o=="top"?p=270:p=0,this.drawPolygonUnit(e,n,r*2,r*2,p,this.polygonQuarterCircle(f*h,h,l),u,c)}drawRectOutline(e,n,r,i,o,s=1,l={}){const a=o/2;this.drawLine(e,n,r,n,o,a,s,l),this.drawLine(r,n,r,i,o,a,s,l),this.drawLine(r,i,e,i,o,a,s,l),this.drawLine(e,i,e,n,o,a,s,l)}}class Pe{constructor(e,n){ge(this,"fontFamily");ge(this,"fontWeight");ge(this,"fontScale");ge(this,"fontSize");const r=e.split("/");if(this.fontFamily=r0(r[0],[["_"," "],["__","_"]]),this.fontWeight=400,this.fontScale=1,r[1]){let i=+r[1];i==i&&100<=i&&i<=1e3&&(this.fontWeight=i)}if(r[2]){let i=+r[2];i==i&&0<=i&&i<128&&(this.fontScale=i)}this.fontSize=n}}const Fg=.9,Wb=1,Yr=.65,q$={note:()=>new Pe("SparksNMN-EOPNumber/400",2.4),noteAlt:()=>new Pe("CommonBlack/700",2.4*Wb),noteSmall:()=>new Pe("SparksNMN-EOPNumber/400",2.4*Fg),noteAltSmall:()=>new Pe("CommonBlack/700",2.4*Fg*Wb),accidental:()=>new Pe("SparksNMN-mscore-20",2.2),accidentalSmall:()=>new Pe("SparksNMN-mscore-20",2.2*Fg),lyrics:t=>new Pe(t.font_lyrics,2.16)},Tf=.5,K$=1.2;function go(t,e){const n=q$[t];if(n===void 0)throw new Error("Line font "+t+" does not exist!");return typeof n=="function"?n(e.render):n}class pt{constructor(e,n,r=1,i={}){ge(this,"text");ge(this,"fontMetric");ge(this,"scale");ge(this,"extraStyles");Object.assign(this,{text:e,fontMetric:n,scale:r,extraStyles:i})}measure(e,n={}){return e.measureText(this.text,this.fontMetric,this.scale,{...this.extraStyles,...n})}measureFast(e){return e.measureTextFast(this.text,this.fontMetric,this.scale)}draw(e,n,r,i,o,s){return e.drawText(n,r,this.text,this.fontMetric,this.scale,i,o,this.extraStyles,[],s)}drawFast(e,n,r,i,o,s){e.drawTextFast(n,r,this.text,this.fontMetric,this.scale,i,o,this.extraStyles,[],s)}}const qh={attr:2.06,labelLarge:2.3};class Ui{constructor(e){ge(this,"root");this.root=e}symbolAccidental(e){if(e==0)return"";let n=Math.abs(e),r=Math.round(e/n),i="";for(;Math.round(n*2)%2==1;)n-=.5,i+=r>0?"":"";for(;n>=1;)n-=1,i+=r>0?"":"";return i==""?"":i}symbolBeats(e){return e=="qpm"||e=="q.pm"?"":e=="hpm"||e=="h.pm"?"":e=="spm"||e=="s.pm"?"":""}symbolSectionSeparator(e){return{"/":"","/|":"","|":"","||":"","|||":"","||:":"",":||":"",":||:":"","/||":" ","/||:":" ",":/||":"",":/||:":""}[e]}symbolNoteDecor(e){const n={tr:"","tr+":"",wav:"","wav+":"",wavd:"","wavd+":"",echo:"",recho:"",ext:"",hold:"",str:"",brk:"",tip:""}[e];if(n===void 0)throw new Error("Unknown note decorator "+e);return n}symbolRepeat(e){return e=="D.S."?"":e=="D.C."?"":e=="$"?"":e=="Fine."?"Fine.":e=="@"?"":""}drawSectionSeparator(e,n,r,i,o,s=1,l=1,a={}){let u=i[o].char;o=="before"&&e.render.left_separator&&u=="/"&&(u="|");const c=this.symbolSectionSeparator(u),h=new Pe("SparksNMN-Bravura/400",5.072*s),f=h.fontScale*h.fontSize;this.root.drawTextFast(n,r-f*.075,c,h,l,o=="before"?"left":"center","top",a);let p=r-3.75;o!="before"&&i.next.attrs.forEach(d=>{if(d.type=="repeat"){const g=this.drawSeparatorAttrText(e,n,p,d,1,l,a,!0);this.drawSeparatorAttrText(e,n-g[0]/2,p-1.3,d,1,l,a,!1)}if(d.type=="text"||d.type=="scriptedText"){const g=p-3.3,m=p+.2,v=(g+m)/2,b=this.drawSeparatorAttrText(e,n,v,d,1,l,a,!0,"large"),C=Math.max(b[0]+1*l*2,(m-g)*l),x=n-C/2,_=n+C/2;this.root.drawRectOutline(x,g,_,m,.15,l,a),this.drawSeparatorAttrText(e,n-b[0]/2,v,d,1,l,a,!1,"large")}})}drawBeforeAfterAttrs(e,n,r,i,o,s,l,a,u=1,c=1,h={},f=!1){let p=a=="before"?1:-1,d=n,g=r-i/5.5*5.2;const m=.7*c;d+=p*1*c;let v=n+p*.8*c;const b=Px(s.separator,l);p>0?v+=b[0]:v-=b[1];let C;(p>0?o:o.slice().reverse()).forEach(x=>{if(f&&["iter","repeat","qpm","shift","durability","text","scriptedText","label","reset"].indexOf(x.type)!=-1){C&&!(C.type=="iter"&&x.type=="iter")&&(d+=p*m);const _=this.drawSeparatorAttrText(e,d,g,x,u,c,h,!0);d+=p*this.drawSeparatorAttrText(e,d-(p>0?0:_[0]),g,x,u,c,h,!1)[0],C=x}if(x.type=="beats"){const _=this.drawBeats(v,r,x.beats,u*.95,c,h,!0);this.drawBeats(v-(p>0?0:_[0]),r,x.beats,u*.95,c,h,!1)}})}drawLyricLabel(e,n,r,i,o=1,s={}){let l=n,a=r;const u=0*o;let c=0;const h=e.render.font_lyrics;i.forEach(f=>{if(f.type=="iter"){const p=this.drawIterOrString(e,l,a,f,h,2.16,o,{},!0);c+=p[0]+u}}),l-=c,i.forEach(f=>{if(f.type=="iter"){l+=u;const p=this.drawIterOrString(e,l,a,f,h,2.16,o,{},!1);l+=p[0]}})}drawJumperAttrs(e,n,r,i,o,s){let l=n,a;i.forEach(u=>{a&&!(a.type=="iter"&&u.type=="iter")&&(l+=.5*s),l+=this.drawIterOrString(e,l,r,u,e.render.font_attr,2*o,s)[0],a=u})}drawPartName(e,n,r,i,o,s){if(i.length==0)return;const l=i[0],a=e.render.font_part,u=this.drawIterOrString(e,n,r,l,a,2.16,s,{},!0);n-=u[0],this.drawIterOrString(e,n,r,l,a,2.16,s,{},!1)}drawSeparatorAttrText(e,n,r,i,o=1,s=1,l={},a=!1,u="normal"){const c=new Pe(e.render.font_attr,qh.attr*o),h=c.fontSize*c.fontScale,f=new Pe("CommonSerif/400",h);new Pe("CommonSerif/400",h);const p=new Pe("RomanItalic/400",h),d=new Pe("SparksNMN-Bravura/400",h*1.5),g=new Pe(e.render.font_checkpoint,qh.labelLarge*o),m=new Pe(e.render.font_checkpoint,qh.attr*o);if(m.fontWeight=700,{...l},i.type=="durability"||i.type=="iter"||i.type=="reset"){let v="";i.type=="durability"?v="x"+i.value.toString():i.type=="iter"?v=i.iter.toString()+".":i.type=="reset"&&(v="reset");const b=new pt(v,(i.type=="reset",p),s),C=b.measureFast(this.root);return a||b.drawFast(this.root,n,r,"left","middle"),C}if(i.type=="repeat"){let v=i.char=="Fine."?f:d;const b=this.symbolRepeat(i.char),C=new pt(b,v,s,{...l,fontWeight:i.char=="Fine."?900:400}),x=C.measureFast(this.root);return a||C.drawFast(this.root,n,r+h*{"Fine.":0,"D.C.":.36,"D.S.":.36,"@":.5,$:.5}[i.char],"left","middle"),x}if(i.type=="qpm")return this.drawSpeed(n,r,i.qpm,o,s,l,a);if(i.type=="shift")return this.drawShift(e,n,r,i,o,s,l,a);if(i.type=="scriptedText"||i.type=="text"){let v=i.text,b="";i.type=="scriptedText"&&(b=i.sub);const C=new pt(v,{large:g,normal:c,bold:m}[u],s,l),x=u!="normal"?new Pe(e.render.font_checkpoint,2.3*.7*o):new Pe(e.render.font_attr,2.16*.7*o),_=new pt(b,x,s,l),w=C.measure(this.root),y=[w[0]+_.measureFast(this.root)[0],0];let S=n;return a||(C.drawFast(this.root,S,r,"left","middle"),S+=w[0],_.drawFast(this.root,S,r-.25*w[1],"left","top")),y}if(i.type=="label"){const v=r-1.4*m.fontScale*o,b=r+1.4*m.fontScale*o,C=r,x=this.drawSeparatorAttrText(e,n,C,i.label,o,s,l,!0,"bold"),_=Math.max(x[0]+.5*s*2,(b-v)*s);n+=_/2;const w=n-_/2,y=n+_/2;return a||(this.root.drawRectOutline(w,v,y,b,.15,s,l),this.drawSeparatorAttrText(e,n-x[0]/2,C,i.label,o,s,l,!1,"bold")),[_,b-v]}return[0,0]}measureLyricSymbolToken_m(e){const n=e.text,r=T$(n),i=e.measureFast(this.root)[0]/(r!=n?2:1);return e.text=r,Math.max(i,r!=n?e.measureFast(this.root)[0]:0)}drawLyricChar(e,n,r,i,o,s=1,l={},a=!1){const u=new Pe(e.render.font_lyrics,2.16),c={...l,textDecoration:"underline"},h=new pt(i.text,u,s,i.grouped?c:l),f=h.measureFast(this.root)[0];let p=n;if(o=="center"){if(i.isCharBased&&i.grouped&&i.text.length>0){const m=this.root.measureTextFast(i.text[0],u)[0];p+=f/2-m/2}}else o=="left"?p+=f/2:o=="right"&&(p-=f/2);a||h.drawFast(this.root,p,r,"center","middle");let d=p-f/2,g=p+f/2;for(let m=i.prefix.length-1;m>=0;m--){const v=i.prefix[m],b=new pt(v,u,s);a||b.drawFast(this.root,d,r,"right","middle"),d-=this.measureLyricSymbolToken_m(b)}if(i.rolePrefix){let m="("+i.rolePrefix+")";const v=new pt(m,u,s);a||v.drawFast(this.root,d,r,"right","middle"),d-=v.measureFast(this.root)[0]}for(let m=0;m<i.postfix.length;m++){const v=i.postfix[m],b=new pt(v,u,s);a||b.drawFast(this.root,g,r,"left","middle"),g+=this.measureLyricSymbolToken_m(b)}return[d,g]}drawFCANote(e,n,r,i,o,s,l,a=1,u={}){if("void"in s)return;const c=.75,h=.7,f=this.measureNoteChar(e,l,a),p=s.type=="force"?new Pe(e.render.font_force,f[1]*c):s.type=="chord"?new Pe(e.render.font_chord,f[1]*c):[new Pe(e.render.font_annotation0,f[1]*c),new Pe(e.render.font_annotation1,f[1]*c),new Pe(e.render.font_annotation2,f[1]*c),new Pe(e.render.font_annotation3,f[1]*c),new Pe(e.render.font_annotation4,f[1]*c),new Pe(e.render.font_annotation5,f[1]*c),new Pe(e.render.font_annotation6,f[1]*c)][0<=o&&o<6?o+1:0];if(n-=f[0]/2,r-=f[0]/2,n+=.5*s.offset,s.type=="force"){const d=new Pe("SparksNMN-mscore-20/400",f[1]*h);if(s.isText)this.root.drawTextFast(n,i,s.char,p,a,"left","middle",u);else if(s.char=="<"||s.char==">"){i+=.2;const g=.22+.06*Math.sqrt((r-n)/(100*a)),m=i-f[1]*g,v=i+f[1]*g,b=i,C=s.char=="<"?n:r,x=s.char=="<"?r:n;this.root.drawLine(C,b,x,m,.15,.15/2,a,u),this.root.drawLine(C,b,x,v,.15,.15/2,a,u)}else this.root.drawTextFast(n,i+f[1]*h*.2,s.char,d,a,"left","middle",u)}else if(s.type=="chord"){const d=new Pe("SparksNMN-mscore-20/400",f[1]*c),g=new pt(s.delta!=s.delta||s.delta==0?"":this.symbolAccidental(s.delta),d,a,u),m=new pt(s.root,p,a,u),v=new pt(s.suffix,new Pe(e.render.font_chord,f[1]*c*.75),a,u),b=new pt(s.base===void 0?"":"/",p,a,u),C=new pt(s.baseDelta!=s.baseDelta||s.baseDelta==0?"":this.symbolAccidental(s.baseDelta),d,a,u),x=new pt(s.base===void 0?"":s.base,p,a,u);let _=n;g.drawFast(this.root,_,i,"left","bottom"),_+=g.measureFast(this.root)[0],m.drawFast(this.root,_,i,"left","middle"),_+=m.measureFast(this.root)[0],v.drawFast(this.root,_,i+f[1]*.2,"left","bottom"),_+=v.measureFast(this.root)[0],b.drawFast(this.root,_,i,"left","middle"),_+=b.measureFast(this.root)[0],C.text!=""&&(_+=.1*a),C.drawFast(this.root,_,i,"left","bottom"),_+=C.measureFast(this.root)[0],x.drawFast(this.root,_,i,"left","middle")}else if(s.type=="textHeading"){let d=new Pe(e.render.font_checkpoint,qh.attr),g=p.fontScale*p.fontSize/(d.fontScale*d.fontSize);this.drawSeparatorAttrText(e,n,i,{type:"label",label:s.content},g,a)}else this.root.drawTextFast(n,i,s.text,p,a,"left","middle",u)}drawIterOrString(e,n,r,i,o,s=2,l=1,a={},u=!1){const c=new Pe(o,s),h=c.fontSize*c.fontScale,f=new Pe("RomanItalic/400",1*h),p=new Pe("SparksNMN-Bravura/400",1.5*h);if(i.type=="iter"){let d=i.iter.toString()+".";const g=new pt(d,f,l),m=g.measureFast(this.root);return u||g.drawFast(this.root,n,r,"left","middle"),m}if(i.type=="octave"){let d=i.sign>0?"":"";const g=new pt(d,p,l,a),m=g.measureFast(this.root);return u||g.drawFast(this.root,n,r+h*.35,"left","middle"),m}if(i.type=="scriptedText"||i.type=="text"){let d=i.text,g="";i.type=="scriptedText"&&(g=i.sub);const m=new pt(d,c,l,a),v=new Pe(e.render.font_attr,.75*s),b=new pt(g,v,l,a),C=m.measure(this.root),x=[C[0]+b.measureFast(this.root)[0],0];let _=n;return u||(m.drawFast(this.root,_,r,"left","middle"),_+=C[0],b.drawFast(this.root,_,r-.2*C[1],"left","top")),x}return[0,0]}drawInsert(e,n,r,i,o,s){const l=this.measureNoteChar(e,o,s),a={int:{metric:new Pe("SparksNMN-mscore-20",l[1]*1.2),text:"",shift:-.7},lpr:{metric:new Pe("CommonSerif/400",l[1]*1),text:"(",shift:0},rpr:{metric:new Pe("CommonSerif/400",l[1]*1.1),text:")",shift:0},cas:{metric:new Pe("SparksNMN-Bravura",l[1]*1.3),text:"",shift:-.7}}[i.char];if(!a)throw new Error("Unknown insert token "+i.char);this.root.drawText(n,r+l[1]*a.shift,a.text,a.metric,s,"center","middle")}drawMusicNoteChar(e,n,r,i,o,s,l=1,a={},u=!1){const c=go(s?"noteSmall":"note",e),h=go(s?"noteAltSmall":"noteAlt",e),f=this.root.measureText("0",c,l);if(u)return f;let p="";i.type=="extend"?p="-":p=i.char.char;const d=p!="_"?c:h;return this.root.drawTextFast(n,r,p,d,l,"center","middle",a,[],()=>{e.positionCallback&&e.positionCallback(i.lineNumber,i.range[0])}),f}measureNoteChar(e,n,r=1){const i=go(n?"noteSmall":"note",e);return this.root.measureText("0",i,r)}drawMusicNote(e,n,r,i,o,s,l,a=1,u={}){r+=.05;let c={};if(i.type=="note"&&i.voided&&e.render.grayout&&(c={opacity:.5}),i.type=="extend"&&i.voided)return;const h=this.measureNoteChar(e,l,a);this.drawMusicNoteChar(e,n,r,i,s,l,a,c);const f=go(l?"noteSmall":"note",e);let p=n-h[0]/2,d=n+h[0]/2;if(i.suffix.forEach(_=>{if(_=="."){const w=new pt(".",f,a,u),y=w.measureFast(this.root)[0];w.drawFast(this.root,d+(h[0]*.5-y)/2,r-h[1]*.1,"left","middle"),d+=h[0]*.5}}),i.type!="note")return;if(i.char.delta==i.char.delta){const _=new pt(this.symbolAccidental(i.char.delta),go(l?"accidentalSmall":"accidental",e),a,{...u,...c});_.drawFast(this.root,p,r,"right","bottom"),p-=_.measureFast(this.root)[0]}let g=r-h[1]/2,m=r+h[1]/2+o*s,v=i.char.octave;const b=new pt(".",f,a,{...u,...c}),C=o*.4;for(;v>0;)b.drawFast(this.root,n,g+h[1]*.2,"center","bottom"),g-=h[1]*C,v-=1;for(;v<0;)b.drawFast(this.root,n,m-h[1]*.7,"center","top"),m+=h[1]*C,v+=1;const x=new Pe("SparksNMN-mscore-20/400",f.fontSize*1.5);i.attrs.forEach(_=>{if(_.type=="decor"){const w=this.symbolNoteDecor(_.char),y=new pt(w[0],x,a,{});let S=0;["brk","tip"].indexOf(_.char)!=-1?S=-.3:_.char=="ext"?S=.1:_.char=="hold"?S=-.1:_.char=="recho"&&(S=-.35);let A=n+h[0]*(.3+S);y.drawFast(this.root,A,g+h[1]*.15,"center","bottom"),A+=y.measureFast(this.root)[0],w.length>1&&new pt(w.substring(1),x,a,{}).drawFast(this.root,A+h[0]*.62,g-h[1]*.1,"left","bottom"),g-=K$}}),d=n+h[0]/2,i.attrs.forEach(_=>{if(_.type=="slide"){const w=d,y=h[1]*.45,S=r+(_.direction=="up"?-1.2:.3)*y;this.root.drawQuarterCircle(w,S,y,"right",_.direction=="up"?"bottom":"top",.15,()=>1,a);const A=new Pe("SparksNMN-Bravura/400",f.fontSize*1),M=_.direction=="up"?"":"";this.root.drawTextFast(w+y*a-h[0]*.06,S+h[1]*.15,M,A,a,"center","middle")}}),i.attrs.forEach(_=>{if(_.type=="notes"){if(_.notes.type!="section")return;const w=_.slot=="postfix"?d:p,y=h[1]*.3,S=r-y*1.15;this.root.drawQuarterCircle(w,S,y,_.slot=="postfix"?"right":"left","bottom",.15,()=>1,a);const A=_.slot=="postfix"?1:-1,M=w+A*a*y,R=Yr*h[0]*_.notes.notes.length,k=R/2<=a*y?M:w+A*R/2;this.drawAddNotes(e,k,S,_.notes,l,a,u)}})}drawAddNotes(e,n,r,i,o,s=1,l={}){let u=1;i.decoration.forEach(C=>{C.char=="_"&&(u=Math.max(u,C.level))});let c=0;i.notes.forEach(C=>{C.type=="note"&&(c=Math.max(c,-C.char.octave))});let h=go(o?"noteSmall":"note",e);h.fontSize*=Yr;let f=go(o?"accidentalSmall":"accidental",e);f.fontSize*=Yr;let p=this.measureNoteChar(e,o,s);p=[p[0]*Yr,p[1]*Yr];let g=r-Yr*Tf*u-Math.max((c*.25-.1)*p[1],0)-p[1]*.4,m=n-p[0]/2*i.notes.length,v=[];i.notes.forEach((C,x)=>{v.push({hash:ne.repr(C.startPos),index:x})});const b=r-Yr*Tf*(u-1);this.root.drawLine(n-p[0]/2*i.notes.length,b,n+p[0]/2*i.notes.length,b,.15,0,s),i.decoration.forEach(C=>{if(C.char=="_"){const x=r-Yr*Tf*(u-C.level),_=m+p[0]*Nr(v,"hash",ne.repr(C.startPos)).index,w=m+p[0]*(Nr(v,"hash",ne.repr(C.endPos)).index+1);this.root.drawLine(_,x,w,x,.15,0,s)}}),m+=p[0]/2,i.notes.forEach(C=>{this.drawMusicNoteChar(e,m,g/Yr,C,0,o,s*Yr,l);let x=m-p[0]/2,_=m+p[0]/2;if(C.suffix.forEach(M=>{if(M=="."){const R=new pt(".",h,s,l);R.drawFast(this.root,_,g,"left","middle"),_+=R.measureFast(this.root)[0]}}),C.type!="note")return;if(C.char.delta==C.char.delta){const M=new pt(this.symbolAccidental(C.char.delta),f,s,l);M.drawFast(this.root,x,g,"center","bottom"),x-=M.measureFast(this.root)[0]}let w=g-p[1]/2,y=g+p[1]/2,S=C.char.octave;const A=new pt(".",h,s,l);for(;S>0;)A.drawFast(this.root,m,w+p[1]*.15,"center","bottom"),w-=p[1]*.25,S-=1;for(;S<0;)A.drawFast(this.root,m,y-p[1]*.75,"center","top"),y+=p[1]*.25,S+=1;m+=p[0]})}drawBeats(e,n,r,i=1,o=1,s={},l=!1){const a=new Pe("SparksNMN-EOPNumber/400",1.8*i),u=new Pe("CommonBlack/400",1.9*i),c=this.root.measureTextFast(r.value.x.toString(),a,o),h=this.root.measureTextFast(r.value.y.toString(),a,o),f=Math.max(c[0],h[0]),p=Math.max(c[1],h[1]),d=i*.5*o,g=i*.2,m=f+2*d,v=.2*i,b=i*.35*o,C=this.root.measureTextFast("T",u,o),x=[m+(r.defaultReduction>2||r.swing!="none"?b+C[0]:0),(g+p)*2];return l||(this.root.drawLine(e,n,e+m,n,v,0,o,s),this.root.drawTextFast(e+m/2,n-g,r.value.x.toString(),a,o,"center","bottom",s),this.root.drawTextFast(e+m/2,n+g,r.value.y.toString(),a,o,"center","top",s),r.defaultReduction>2&&this.root.drawTextFast(e+m+b,n,"T",u,o,"left","middle"),r.swing!="none"&&this.root.drawTextFast(e+m+b,n,r.swing=="16th"?"s":"S",u,o,"left","middle")),x}drawBase(e,n,r,i=1,o=1,s={},l=!1){const a=new Pe("CommonLight/700",2.16*i),u=new Pe("SparksNMN-mscore-20",2.16*i),c=this.root.measureTextFast("1=",a,o),h=oi.pitchToAbsName(r),f=r.value-r.baseValue,p=this.root.measureTextFast(h,a,o);let d="";f==f&&f!=0&&(d=this.symbolAccidental(f));const g=this.root.measureTextFast(d,u,o),m=[c[0]+p[0]+g[0],Math.max(c[1],p[1])];if(l)return m;let v=e;return this.root.drawTextFast(v,n,"1=",a,o,"left","middle",s),v+=c[0],this.root.drawTextFast(v,n,d,u,o,"left","bottom",s),v+=g[0],this.root.drawTextFast(v,n,h,a,o,"left","middle",s),v+=p[0],m}drawShift(e,n,r,i,o=1,s=1,l={},a=!1){const u=new Pe("CommonLight/700",2*o),c=new Pe("SparksNMN-mscore-20",2*o);let h="",f="",p="";if(i.metrics=="absolute"){i.changeTranspose?(h=Ut.renderToken(e.language,"shift_prop_at_1"),p=Ut.renderToken(e.language,"shift_prop_at_2")):(h=Ut.renderToken(e.language,"shift_prop_a_1"),p=Ut.renderToken(e.language,"shift_prop_a_2")),p=oi.pitchToAbsName(i.value)+p;const y=i.value.value-i.value.baseValue;y==y&&y!=0&&(f=this.symbolAccidental(y))}else{const w=Math.abs(i.value);let y=0;w!=0&&(y=Math.round(i.value/w)),h=Ut.renderToken(e.language,i.changeTranspose?"shift_prop_rt":"shift_prop_r",Ut.upDownText(e.language,y>=0?"up":"down"),Ut.metricText(e.language,i.metrics,w.toString()))}const d=new pt(h,u,s,l),g=d.measureFast(this.root),m=new pt(p,u,s,l),v=m.measureFast(this.root),b=new pt(f,c,s,l),C=b.measureFast(this.root),x=[g[0]+v[0]+C[0],0];if(a)return x;let _=n;return d.drawFast(this.root,_,r,"left","middle"),_+=g[0],b.drawFast(this.root,_,r,"left","bottom"),_+=C[0],m.drawFast(this.root,_,r,"left","middle"),x}drawSpeed(e,n,r,i=1,o=1,s={},l=!1){let a="="+r.value.toString();r.text!=null&&(a=r.text);const u=new pt(a,new Pe("CommonLight/700",2*i),o,s),c=u.measureFast(this.root);let h=this.symbolBeats(r.symbol),f=r.symbol.indexOf(".")!=-1?"":"";r.text!=null&&r.text[0]!="="&&(h="",f="");const p=new pt(h,new Pe("SparksNMN-mscore-20",3.2*i),o,s),d=new pt(f,new Pe("SparksNMN-mscore-20",3.2*i),o,s),g=p.measure(this.root),m=d.measure(this.root),v=[c[0]+m[0]+g[0],c[1]];if(l)return v;let b=e;return h&&(p.drawFast(this.root,b,n+g[1]*.08,"left","middle"),b+=g[0],b-=g[0]*.32),f&&(d.drawFast(this.root,b,n+g[1]*.08,"left","middle"),r.symbol!="spm"&&r.symbol!="s.pm"&&(b+=m[0]*.4)),(r.symbol=="spm"||r.symbol=="s.pm")&&(b+=g[0]*.35),u.drawFast(this.root,b,n,"left","middle"),b+=c[0],v}drawTranspose(e,n,r,i,o=1,s=1,l={},a=!1){let u=i.toString();i>0&&(u="+"+u);const c=new pt(Ut.renderToken(e.language,"transpose_prop",u),new Pe("CommonLight/700",2*o),s,l),h=c.measureFast(this.root);return a||c.drawFast(this.root,n,r,"left","middle"),h}drawOther(e,n,r,i=1,o=1,s={},l=!1){const a=new pt(r,new Pe("CommonLight/700",2*i),o,s),u=a.measureFast(this.root);return l||a.drawFast(this.root,e,n,"left","middle"),u}drawMusicalProps(e,n,r,i,o,s=1,l=1,a={}){const u=2*s;let c=r;return o.base&&(c+=this.drawBase(c,i,o.base,s,l,a)[0],o.beats||n?c+=1*s*l:c+=u*l),(o.beats||n)&&(c+=this.drawBeats(c,i,o.beats?o.beats:e.musical.beats,s,l,a)[0],c+=u*l),o.qpm&&(c+=this.drawSpeed(c,i,o.qpm,s,l,a)[0]+u*l),o.transp&&(c+=this.drawTranspose(e,c,i,o.transp,s,l,a)[0]+u*l),o.extras.forEach(h=>{c+=this.drawOther(c,i,h,s,l,a)[0]+1*s*l}),c-r}}class Y${renderEntries(e,n,r,i,o){let s=o;const l=i.render.scale,a=n.fontSize*n.fontScale*l;function u(f,p){return new pt(f,n,l,{width:`${100/a}em`,whiteSpace:"pre-wrap",...p})}let c=0;for(let f of e){if(f.text2==null)continue;const p=u(f.text1,{});c=Math.max(c,p.measureFast(r)[0])}c=Math.min(c,100);const h=1.2;for(let f of e){let p=f.text1;if(p==""&&(p=" "),f.text2==null){const d=u(p,{});s+=d.draw(r,0,s,"left","top")[1]*h}else{const g=new pt(p,n,l).draw(r,c,s,"right","top")[1]*h,v=u(f.text2,{width:`${(100-c)/a}em`,whiteSpace:"pre-wrap"}).draw(r,c,s,"left","top")[1]*h;s+=Math.max(g,v)}}return s-o}}const Ix=new Y$;class Q${renderTop(e,n,r){const i=new Jr,o=r.render.scale;let s=0;const l=!!(e.scoreProps.title||e.scoreProps.subtitle),a=!!(e.scoreProps.prescript||e.scoreProps.version),u=new Pe(r.render.font_corner,2);if(e.scoreProps.prescript&&i.drawTextFast(0,s,e.scoreProps.prescript.text,u,o,"left"),e.scoreProps.version&&i.drawTextFast(100,s,e.scoreProps.version.text,u,o,"right"),s+=2,l&&(s+=4),e.scoreProps.title){const c=new Pe(r.render.font_title,3.5);i.drawTextFast(50,s,e.scoreProps.title.text,c,o,"center"),s+=1.25+3.5*c.fontScale}if(e.scoreProps.subtitle){const c=new Pe(r.render.font_subtitle,2.3);i.drawTextFast(50,s,e.scoreProps.subtitle.text,c,o,"center"),s+=1.25+2.3*c.fontScale}a||l?(s+=2.5,n.push({element:i.getElement(),height:s*o,...Ut.efLabel(r.language,"top")})):n.push({element:i.getElement(),height:s*o,...Ut.efLabel(r.language,"topPrintMargin")})}renderPropsAndAuthors(e,n,r){const i=new Jr,o=new Ui(i),s=r.render.scale;let l=0;if(e.scoreProps.authors.map(a=>{const u=new Pe(r.render.font_author,2.16);let c=a.text;a.tag&&(c=a.text+Ut.renderToken(r.language,"author_sep")+a.tag),i.drawTextFast(100,l,c,u,s,"right"),l+=1.2+2.16*u.fontScale}),e.musicalProps&&e.musicalProps.head!="Pi"){l+=1;const a=4.8;l<a+1?l=2:l-=a,l+=a/2,(u=>{o.drawMusicalProps(r,!0,0,l,u,1,s)})(e.musicalProps.props),l+=a/2,l-=1}l+=2,n.push({element:i.getElement(),height:l*s,...Ut.efLabel(r.language,"author")})}renderTopSpacer(e,n,r){n.push({element:new Jr().getElement(),height:r.render.margin_after_props*r.render.scale,isMargin:!0,...Ut.efLabel(r.language,"topMargin")})}renderFooter(e,n,r){const i=new Jr,o=r.render.scale;let s=0;const l=new Pe(r.render.font_footnote,2),a=e.scoreProps.footnotes.map(u=>u.tag?{text1:"["+u.tag+"] ",text2:u.text}:{text1:u.text,text2:null});s+=Ix.renderEntries(a,l,i,r,s),e.scoreProps.footnotes.length>0&&n.push({element:i.getElement(),height:s*o,...Ut.efLabel(r.language,"footer")})}}const Kh=new Q$;class X${constructor(e,n,r){ge(this,"sectionCount",0);ge(this,"sectionFields",[]);ge(this,"ignoreRowHash",!1);ge(this,"rows",{});ge(this,"columnChecker",[]);ge(this,"result",[]);this.sectionCount=e,this.columnChecker=Array(this.sectionCount).fill(0).map(()=>({})),this.result=Array(this.sectionCount).fill(0).map(()=>[]),this.sectionFields=n,this.ignoreRowHash=r}getRow(e){const n=this.rows[e];return n||(this.rows[e]={sections:Array(this.sectionCount).fill(0).map(()=>({}))},this.rows[e])}markColumn(e,n){const r=ne.repr(e);this.columnChecker[n][r]||(this.columnChecker[n][r]=!0,this.result[n].push({hash:r,fraction:e,field:[0,0],requiredField:[0,0]}))}writeConstraint(e,n,r,i,o){this.ignoreRowHash&&(e="ignored"),this.markColumn(n,r);const s=this.getRow(e),l=ne.repr(n),a=s.sections[r];a[l]||(a[l]={fraction:n,field:[0,0],requiredField:[0,0]});const u=a[l];o&&(u.field=[Math.max(u.field[0],i[0]),Math.max(u.field[1],i[1])]),u.requiredField=[Math.max(u.requiredField[0],i[0]),Math.max(u.requiredField[1],i[1])]}compute(){const e=[];for(let n=0;n<this.sectionCount;n++)e.push(this.computeSection(n));return e}computeSection(e){const n=this.result[e];n.length==0&&this.markColumn(this.sectionFields[e][0],e),n.sort((r,i)=>ne.compare(r.fraction,i.fraction));for(let r=-1;r<n.length;r++){const i=r+1;let o=0,s=0;for(let l in this.rows){const a=this.rows[l];o=Math.max(o,this.getMarkedData(n,e,r,a,"field",1)+this.getMarkedData(n,e,i,a,"field",0)),s=Math.max(s,this.getMarkedData(n,e,r,a,"requiredField",1)+this.getMarkedData(n,e,i,a,"requiredField",0))}s=Math.max(o,s),r==-1?(n[0].field[0]=o,n[0].requiredField[0]=s):(n[r].field[1]=o,n[r].requiredField[1]=s)}return n}getMarkedData(e,n,r,i,o,s){if(r<0||r>=e.length)return 0;const l=e[r].hash,a=i.sections[n][l];return a?a[o][s]:{field:0,requiredField:0}[o]}}const jb=.001,sd={computeTime:0};class Bb{constructor(e,n,r,i=!0){ge(this,"root");ge(this,"line");ge(this,"context");ge(this,"scale");ge(this,"data",[]);this.root=e,this.line=n,this.context=r,this.scale=r.render.scale,i&&this.dispatch()}startPosition(e){return this.data[e].realRange[0]}paddedStartPosition(e){return this.data[e].realRange[0]+this.data[e].padding[0]}endPosition(e){return this.data[e].realRange[1]}paddedEndPosition(e){return this.data[e].realRange[1]-this.data[e].padding[1]}fracPosition(e,n){const r=this.data[e].columns,i=Nr(r,"hash",ne.repr(n));if(!i)throw console.warn("My columns",this.data[e].columns),new Error("Unknown column queried in PositionDispatcher "+ne.repr(n)+", in section "+e);return i.position}fracEndPosition(e,n){let r=this.paddedStartPosition(0);for(let i of this.data){for(let s of i.columns){if(ne.compare(e,s.fraction)<=0)return n?r:s.position;r=s.position}const o=i.realRange[1]-i.padding[1];if(ne.compare(e,i.fraction[1])<=0)return n?r:o;r=o}return this.paddedEndPosition(this.data.length-1)}fracInsertPosition(e,n,r,i){const o=this.data[e].columns,s=r$(o,"hash",ne.repr(n)),l=o[o.length-1];let a=0,u=0;if(s==-1)if(ne.compare(n,l.fraction)>0)u=this.data[e].range[1],a=l.position;else throw new Error("Unknown column queried in PositionDispatcher, insert");else u=o[s].position,s>0?a=o[s-1].position:a=this.data[e].range[0];return a+(u-a)/(1+i)*(1+r)}dispatch(){sd.computeTime-=+new Date,this.dispatch$setSections(),this.dispatch$statColumns(),this.dispatch$compute(),sd.computeTime+=+new Date}dispatch$setSections(){const e=new Ui(this.root),r=this.context.render.gutter_left*this.scale,i=100,o=this.context.render.offset_section_boundary*this.scale;let s=this.line.sectionWeights.slice(),l=r;this.line.timeLining&&(s=s.map((u,c)=>{let h=0;this.line.parts.forEach(p=>{const d=p.notes.sections[c];h=Math.max(h,(d.separator.after.attrs.filter(g=>g.type=="beats").length>0?1:0)+(d.separator.before.attrs.filter(g=>g.type=="beats").length>0?1:0))});let f=ne.toFloat(this.line.sectionFields[c][1])+h*.25;return u*f})),this.context.render.note_count_lining&&(s=s.map((u,c)=>{let h=0,f=0;this.line.parts.forEach(d=>{const g=d.notes.sections[c];h=Math.max(h,(g.separator.after.attrs.filter(m=>m.type=="beats").length>0?1:0)+(g.separator.before.attrs.filter(m=>m.type=="beats").length>0?1:0)),g.type=="section"&&(f=Math.max(f,g.notes.length))});let p=Math.min(1.35,1+f*.03+h*.05);return u*p}));let a=0;s.forEach(u=>{a+=u}),this.line.timeLining&&this.line.sectionCount>0?a+=a/this.line.sectionCount*(this.line.sectionCountShould-this.line.sectionCount):a+=this.line.sectionCountShould-this.line.sectionCount,this.line.sectionFields.forEach((u,c)=>{let h=l+(i-r)/a*s[c];const[f,p]=[l,h];l=h;let d=this.line.sectionPadding[c];const g={realRange:[f,p],range:[f,p],padding:[o+d,o+d],fraction:[ne.sub(u[0],ne.create(1,2)),ne.add(u[0],u[1])],columns:[]};let m=0,v=0,b=[0,0];this.line.parts.forEach(C=>{const x=C.notes.sections[c],_=x.separator.before.attrs,w=x.separator.after.attrs,y=Nr(_,"type","beats");if(y){if(y.type!="beats")throw new Error("strange!");m=Math.max(m,e.drawBeats(0,0,y.beats,.95,this.scale,{},!0)[0]+this.scale*.5)}const S=Nr(w,"type","beats");if(S){if(S.type!="beats")throw new Error("strange!");v=Math.max(v,e.drawBeats(0,0,S.beats,.95,this.scale,{},!0)[0]+this.scale*.5)}const A=Px(x.separator,c==0);b=[Math.max(b[0],A[0]),Math.max(b[1],A[1])]}),m!=0?g.range[0]+=m+b[0]*this.scale:c==0&&(g.range[0]+=b[0]*this.scale*.75),v!=0&&(g.range[1]-=v+b[1]*this.scale),this.data.push(g)})}dispatch$statColumns(){const e=new X$(this.line.sectionCount,this.line.sectionFields,this.context.render.legacy_positioning),n=new Ui(this.root),r=(o,s,l,a,u=0)=>{if(!s)return;const c=n.measureNoteChar(this.context,a,this.scale),h=[c[0]*Yr,c[1]*Yr],f=go(a?"accidentalSmall":"accidental",this.context);s.forEach((p,d)=>{const g=d+u;g<0||g>this.line.sectionFields.length||p.type=="section"&&p.notes.forEach(m=>{const v=ne.add(this.line.sectionFields[g][0],m.startPos);if(l){let b="",C=!1,x=!1,_=-1,w=-1,y=0;if(m.type=="note"||m.type=="extend"){if(m.type=="note"){const $=m.char;if($.type!="music")throw new Error("Position dispatching occured with a non-music note.");$.delta==$.delta&&(b=n.symbolAccidental($.delta))}for(let $ of m.attrs)$.type=="notes"?$.slot=="prefix"?_=$.notes.type=="section"?$.notes.notes.length:0:$.slot=="postfix"&&(w=$.notes.type=="section"?$.notes.notes.length:0):$.type=="slide"&&($.direction=="up"?C=!0:x=!0);y=s$(m.suffix,".")}const S=_*h[0],A=w*h[0],M=c[1]*this.scale*.3,R=c[1]*this.scale*.45,k=1.1;e.writeConstraint(o,v,g,[c[0]/2*1,c[0]/2*1],!0),e.writeConstraint(o,v,g,[c[0]/2*k,c[0]/2*k],!1),e.writeConstraint(o,v,g,[c[0]/2+this.root.measureTextFast(b,f,this.scale)[0]+(_==-1?0:S/2+Math.max(M,S/2)),c[0]/2+Math.max(c[0]/2*y,w==-1?0:A/2+Math.max(M,A/2),+(C||x)*R*1.2)],!1)}else m.type!="extend"&&!("void"in m.char)&&e.writeConstraint(o,v,g,[0,0],!1)})})};this.line.parts.forEach((o,s)=>{r(`part-notes-${s}`,o.notes.sections,!0,!1),o.fcaItems.forEach((l,a)=>{r(`part-annotation-${s}-${a}`,l.sections,!1,!1)}),o.lyricLines.forEach((l,a)=>{var u;l.sections.forEach((c,h)=>{if(c.type!="section")return;const f=c.chars;f.forEach((p,d)=>{const g=go("lyrics",this.context);if(p.occupiesSpace){const m=n.drawLyricChar(this.context,0,0,p,"center",this.scale,{},!0);let v=d+1;for(;;){const _=f[v];if(_===void 0||_.occupiesSpace)break;v+=1}for(let _=d+1;_<v;_++){const w=f[_];m[1]+=n.drawLyricChar(this.context,0,0,w,"left",this.scale,{},!0)[1]}let b=0,C=0;const x=this.root.measureTextFast("a",g,this.scale)[0]/2;if(!p.isCharBased){const _=f[d-1];!p.prefix&&_&&_.occupiesSpace&&(b=x);const w=f[d+1];!p.postfix&&w&&w.occupiesSpace&&(C=x)}e.writeConstraint(`lyric-${s}-${a}`,ne.add(c.startPos,p.startPos),h,[-m[0]+b,m[1]+C],!1)}})}),r(`lyric-${s}-${a}`,(u=l.lyricAnnotations)==null?void 0:u.sections,!1,!1),l.fcaItems.forEach((c,h)=>{r(`lyric-annotation-${s}-${a}-${h}`,c.sections,!1,!1)}),l.notesSubstitute.forEach(c=>{r(`lyric-substitute-${s}-${a}`,c.sections,!0,!0,c.substituteLocation)})})});const i=e.compute();for(let o=0;o<this.line.sectionCount;o++)this.data[o].columns=i[o].map(s=>({hash:s.hash,field:s.field,requiredField:s.requiredField,fraction:s.fraction,position:this.data[o].range[0],rigid:[!1,!1]}))}dispatch$compute(){this.line.sectionFields.forEach((e,n)=>{const r=()=>{const s=this.data[n];let l=s.range[1]-s.range[0];const a=[];for(let f=0;f<s.columns.length;f++){let p=s.fraction[0];const d=s.columns[f].rigid[0];f>0&&(p=s.columns[f-1].fraction),d?a.push(ne.create(0)):a.push(ne.sub(s.columns[f].fraction,p)),f>0?d?(l-=Math.max(s.columns[f].field[0],s.columns[f].requiredField[0]),l-=Math.max(s.columns[f-1].field[1],s.columns[f-1].requiredField[1])):l-=s.columns[f].field[0]+s.columns[f-1].field[1]:d?l-=Math.max(s.padding[0]+s.columns[f].field[0],s.columns[f].requiredField[0]):l-=s.padding[0]+s.columns[f].field[0]}let u=s.columns[s.columns.length-1];u.rigid[1]?(l-=Math.max(s.padding[1]+u.field[1],u.requiredField[1]),a.push(ne.create(0))):(l-=s.padding[1]+u.field[1],a.push(ne.sub(s.fraction[1],u.fraction)));const c=ne.sum(...a);let h=s.range[0];for(let f=0;f<s.columns.length;f++){let p=s.columns[f].rigid[0];p?f>0?h+=s.columns[f].requiredField[0]:h+=Math.max(s.padding[0]+s.columns[f].field[0],s.columns[f].requiredField[0]):(f==0&&(h+=s.padding[0]),h+=s.columns[f].field[0],h+=l/ne.toFloat(c)*ne.toFloat(a[f])),s.columns[f].position=h,p=s.columns[f].rigid[1],p?h+=s.columns[f].requiredField[1]:h+=s.columns[f].field[1]}},i=()=>{const s=this.data[n];let l=!1,a=s.range[0];for(let f=0;f<s.columns.length;f++){const p=s.columns[f].rigid[0];let d=s.columns[f].requiredField[0];f>0&&(d+=s.columns[f-1].requiredField[1]);const g=s.columns[f].position;if(g-a+jb<d){if(p)return"dead";s.columns[f].rigid[0]=!0,f>0&&(s.columns[f-1].rigid[1]=!0),l=!0}a=g}const u=s.range[1];let c=s.columns[s.columns.length-1];const h=c.rigid[1];if(u-a+jb<c.requiredField[1]){if(h)return"dead";c.rigid[1]=!0,l=!0}return l?"continue":"pass"},o=()=>{this.data[n].columns.forEach(l=>{l.rigid[0]=l.rigid[1]=!1})};for(o();;){r();const s=i();if(s=="pass")return;if(s=="dead"){o(),r();break}}})}}class zb{constructor(e){ge(this,"columns");ge(this,"connectorAngle",.2);this.columns=e}noteHighlightColor(e){if(e.type=="extend")return e.voided?"#0000":"hsla(0deg, 0%, 60%, 50%)";const n=e.char.char,r=e.char.finalDelta;if(n=="0")return"hsla(0deg, 0%, 60%, 50%)";if("1234567".indexOf(n)==-1)return"hsl(0deg, 0%, 60%, 80%)";const i=(([-1,0,2,4,5,7,9,11][+n]+r)%12+12)%12,o=[[255,140,106],[255,153,99],[252,170,89],[229,180,76],[203,190,62],[107,211,70],[83,211,126],[81,205,205],[123,194,255],[187,168,255],[241,147,255],[255,139,215]],s=Math.floor(i)%12,l=Math.ceil(i)%12;if(s==l)return`rgb(${o[s][0]}, ${o[s][1]}, ${o[s][2]})`;const a=(i-s)%12;let u=[0,0,0];for(let c=0;c<3;c++)u[c]=o[s][c]*(1-a)+o[l][c]*a;return`rgb(${u[0]}, ${u[1]}, ${u[2]})`}render(e,n,r,i,o,s,l,a){const u=a=="substitute"||a=="accompany",c=n.notes.sections,h=new Ui(i),f=o.render.scale,p=Tf*{normal:1,substitute:.8,accompany:.8,compact:.9}[a],d={normal:5.5,substitute:4.5,accompany:4.4,compact:4.4}[a],g={normal:1,substitute:1,accompany:1,compact:.8}[a],m=a=="normal",v=a=="substitute"||n.noMargin&&n.noMargin[0];let b=!0;if(c.forEach((S,A)=>{if(a=="accompany")return;const M=A==c.length-1;b&&S.type!="nullish"&&S.type!="empty"&&h.drawSectionSeparator(o,this.columns.startPosition(A),e,S.separator,"before",u?.6:1,f),(!u||A<c.length-1)&&h.drawSectionSeparator(o,this.columns.endPosition(A),e,S.separator,M?"after":"next",u?.6:1,f),b=S.type=="nullish"}),a=="accompany"){const S=e-d/2,A=e+d/2,M=this.columns.data.length,R=this.columns.startPosition(0),k=this.columns.endPosition(M-1);i.drawLine(R,S,k,S,.15,.15/2,f),i.drawLine(R,A,k,A,.15,.15/2,f),i.drawLine(R,S,R,A,.15,.15/2,f),c.forEach(($,E)=>{const L=this.columns.endPosition(E);i.drawLine(L,S,L,A,.15,.15/2,f)})}if(r>0){const S=o.render.sectionorder;if(l&&S!="none"&&c.length>0){let A=(r+1).toString();S=="paren"&&(A="("+A+")"),S=="bracket"&&(A="["+A+"]");const M=this.columns.paddedStartPosition(0)-(.5+(s?.5:0))*f,R=new Pe(o.render.font_sectionorder,1.8);i.drawText(M,e-3.5,A,R,f,"right","bottom",{fontStyle:S=="plain"?"italic":"normal"})}}const C=h.measureNoteChar(o,u,f),x=[];n.notes.sections.forEach(S=>{S.type=="section"&&S.notes.forEach(A=>{x.push({...A,startPos:ne.add(S.startPos,A.startPos),leftTop:1/0,rightTop:1/0})})});const _=(S,A,M,R,k)=>{x.forEach($=>{const E=ne.compare($.startPos,A),L=ne.compare($.startPos,M);E==0&&L<0&&(R?S($,!1,!0):S($,!0,!0)),L==0&&(E>0||E>=0&&!R)&&k&&S($,!0,!1),E>0&&L<0&&S($,!0,!0)})};c.forEach((S,A)=>{if(S.idCard.lineNumber!=-1&&S.idCard.masterId!=""){const M=this.columns.startPosition(A),R=this.columns.endPosition(A),k=["SparksNMN-sechl",`SparksNMN-sechl-${S.idCard.masterId}`],$=e+d*(.5-.5/2),E=d*.5;i.drawLine(M,$,R,$,E,0,f,{boxShadow:"none",background:"#9C27B0",opacity:.2,visibility:"hidden"},k)}if(a!="substitute"){const M=this.columns.startPosition(A),R=e-d/2;i.drawText(M,R,Me.renderToken(o.language,"secsel",""+(S.ordinal+1)),new Pe("CommonLight/700/1",2),f,"left","top",{background:"#8764b8",color:"#FFF",cursor:"pointer",padding:"0.3em 0.3em",zIndex:2,visibility:"hidden"},["SparksNMN-secsel","SparksNMN-secsel-ordinal-"+S.ordinal,"SparksNMN-secsel-id-"+S.idCard.uuid],()=>{o.sectionPickCallback&&o.sectionPickCallback(o.articleOrdinal,S)})}if(S.type=="section"){if(S.beatsValidation!="pass"&&o.render.debug){const k=e,$=e+d/2,E=this.columns.paddedEndPosition(A),L=this.columns.endPosition(A),P=(E+L)/2;i.drawLine(P,k,P,$,L-E,0,f,{boxShadow:`inset 0 0 0 100em ${S.beatsValidation=="less"?"#FF9800":"#03A9F4"}`},["SparksNMN-validation"])}if(S.structureValidation!="pass"&&o.render.debug){const k=e-d/2,$=e,E=this.columns.paddedEndPosition(A),L=this.columns.endPosition(A),P=(E+L)/2;i.drawLine(P,k,P,$,L-E,0,f,{boxShadow:"inset 0 0 0 100em #EE0000"},["SparksNMN-validation"])}const M=h.measureNoteChar(o,u,f);S.notes.forEach(k=>{let $=0;S.decoration.forEach(W=>{W.char=="_"&&ne.compare(W.startPos,k.startPos)<=0&&ne.compare(k.startPos,W.endPos)<=0&&($=Math.max($,W.level))});const E=this.columns.fracPosition(A,ne.add(S.startPos,k.startPos)),L=e-M[1]*.6,P=e+M[1]*.6,I=M[0]*2*.7,D=["SparksNMN-notehl",`SparksNMN-notehl-${k.uuid}`];i.drawLine(E,L,E,P,I/f,0,f,{boxShadow:"none",background:this.noteHighlightColor(k),opacity:.5,visibility:"hidden"},D),h.drawMusicNote(o,E,e,k,p,$,u,f)}),S.decoration.forEach(k=>{if(k.char=="_"){let[$,E]=[k.startPos,k.endPos];if($=ne.max($,S.upbeatQuarters),ne.compare($,E)>0)return;const L=this.columns.fracPosition(A,ne.add(S.startPos,$))-M[0]/2,P=this.columns.fracPosition(A,ne.add(S.startPos,E))+M[0]/2,I=e+M[1]/2-M[1]*.03+(k.level-1)*p;i.drawLine(L,I,P,I,.15,0,f)}});const R={};S.decoration.forEach(k=>{if(k.type=="insert"){const $=ne.repr(k.target);$ in R||(R[$]=0),k.ordinal=R[$],R[$]+=1}}),S.decoration.forEach(k=>{if(k.type=="insert"){const $=ne.repr(k.target),E=R[$],L=this.columns.fracInsertPosition(A,ne.add(S.startPos,k.target),k.ordinal,E);h.drawInsert(o,L,e,k.char,u,f)}})}else if(S.type=="omit"){const M=new Pe("CommonBlack/400",2.16);if(S.count!=S.count){const R=this.columns.paddedStartPosition(A);i.drawTextFast(R,e,Ut.renderToken(o.language,"omit"),M,f,"left","middle")}else{const R=new Pe("SparksNMN-mscore-20/400",3.4),k=this.columns.startPosition(A),$=this.columns.endPosition(A),E=this.columns.paddedStartPosition(A),L=this.columns.paddedEndPosition(A),P=(k+$)/2,I=.8,D=2/2;i.drawLine(E,e,L,e,I,0,f),i.drawLine(E,e-D,E,e+D,.15,0,f),i.drawLine(L,e-D,L,e+D,.15,0,f),i.drawTextFast(P,e,S.count.toString(),R,f,"center","bottom")}}if(S.type!="empty"&&S.type!="nullish"){const M=Nr(S.separator.before.attrs,"type","top"),R=M&&M.type=="top"?M.margin:0;h.drawBeforeAfterAttrs(o,this.columns.startPosition(A),e-R,d,S.separator.before.attrs,S,A==0,"before",1,f,{},!v),h.drawBeforeAfterAttrs(o,this.columns.endPosition(A),e-R,d,S.separator.after.attrs,S,A==0,"after",1,f,{},!v)}});const w=(S,A,M,R,k,$)=>{const E=1-Math.sin(Math.PI/2*this.connectorAngle);let L=0;A&&(L+=1),R&&(L+=1);let P=M-S,I=$/E;P<L*I*f&&(I=P/L/f),k+=I*Math.sin(Math.PI/2*this.connectorAngle);const D=k-I,W=+A*I*f+S,z=-(+R*I*f)+M,G=q=>(Math.max(0,q-this.connectorAngle)/.65)**.6;A&&i.drawQuarterCircle(W,k,I,"left","top",.25,q=>G(q),f),R&&i.drawQuarterCircle(z,k,I,"right","top",.25,q=>G(1-q),f),i.drawLine(W,D,z,D,.25,1e-4,f)},y=(S,A)=>{const M=1-Math.sin(Math.PI/2*this.connectorAngle);let R=0;[S.startPos,S.endPos].forEach(re=>{const ie=Qe.locateNote(re,n.notes.sections);ie&&ie.type=="note"&&(R=Math.max(R,ie.char.octave))});let k=!S.startSplit,$=!S.endSplit,[E,L]=[{frac:S.startPos,linkStart:k,link:k,isEnd:!1},{frac:S.endPos,linkEnd:$,link:$,isEnd:!0}].map(({frac:re,link:ie,isEnd:ue})=>{if(ie){let he=Qe.locateSection(re,n.notes.sections);return he==-1?NaN:this.columns.fracPosition(he,re)}else{let he=Qe.locateSection(re,n.notes.sections);return he==-1?NaN:this.columns.startPosition(he)}});E!=E&&(k=!1,E=this.columns.startPosition(0)),L!=L&&($=!1,L=this.columns.endPosition(this.columns.data.length-1));function P(re){let ie=0,ue=0;return n.decorations.forEach(he=>{ne.equals(he.startPos,re)&&(ue+=1),ne.equals(he.endPos,re)&&(ie+=1)}),[ue,ie]}let I=[P(S.startPos),P(S.endPos)],D=.5*f;k&&(I[0][0]>1||I[0][1]>1)&&(I[0][0]>1&&S.char=="^"?E-=0:E+=D),$&&(I[1][1]>1||I[1][0]>1)&&(I[1][1]>1&&S.char=="^"?L+=0:L-=D);const W=C[1]*(.22*R+.01+ +!!R*.04);let z=e-C[1]/2-W,G=C[1]*g*.65*M,Z=C[1]*g*.65*M;const q=C[1]*g*.3*M,X=C[1]*g*.25*M;S.level==1&&!u?G+=X:Z=G;const Y=Math.min(Math.max(Z,G-W),M*(L-E)/(+k+ +$));let ee=z-Y;_((re,ie,ue)=>{ie&&(ee=Math.min(ee,re.leftTop-q)),ue&&(ee=Math.min(ee,re.rightTop-q))},S.startPos,S.endPos,k,$),_((re,ie,ue)=>{ie&&(re.leftTop=Math.min(re.leftTop,ee)),ue&&(re.rightTop=Math.min(re.rightTop,ee))},S.startPos,S.endPos,k,$),w(E,k,L,$,z,-(ee-z))};n.decorations.map(S=>{S.char=="~"&&y(S,n.decorations)}),n.decorations.map(S=>{S.char=="^"&&y(S,n.decorations)}),c.forEach((S,A)=>{S.type=="section"&&m&&S.decoration.forEach(M=>{if(M.char=="T"){let R=""+M.level;M.extraNumber&&(R+="/"+M.extraNumber);const k=this.columns.fracPosition(A,ne.add(S.startPos,M.startPos))-C[0]/2,$=this.columns.fracPosition(A,ne.add(S.startPos,M.endPos))+C[0]/2;let E=e-C[1]/2-2;const L=C[1]*.4;_(Z=>{E=Math.min(E,Z.leftTop-L),E=Math.min(E,Z.rightTop-L)},ne.add(S.startPos,M.startPos),ne.add(S.startPos,M.endPos),!0,!0);const P=E+1.5,I=(k+$)/2,D=new pt(R,new Pe("SparksNMN-mscore-20/400",3),f,{fontStyle:"italic"}),W=D.measureFast(i),z=I-W[0]/2-.5*f,G=I+W[0]/2+.5*f;i.drawLine(k,P,k,E,.15,.1,f),z>k&&i.drawLine(k,E,z,E,.15,.1,f),D.drawFast(i,I,E,"center","middle"),$>G&&i.drawLine(G,E,$,E,.15,.1,f),i.drawLine($,P,$,E,.15,.1,f)}})})}}const al={sectionsRenderTime:0};class Z${constructor(){ge(this,"columns");ge(this,"musicLineYs",[]);ge(this,"annotationInset",1.45)}renderLine(e,n,r,i,o,s,l){const a=r.render.scale;let u=s;u+=r.render.margin_before_line,this.columns=new Bb(o,e,r);let c=!0;this.musicLineYs=[],e.parts.forEach(p=>{u+=this.renderPart(u,p,o,r,e,i,c),c=!1});const h=this.musicLineYs[0].top;let f=this.musicLineYs.length-1;for(;f>=0&&e.parts[f].notes.head=="Na";)f-=1;if(f<0&&(f=this.musicLineYs.length-1),f>=1){const p=this.musicLineYs[f].bottom,d=r.render.connector_left*a,g=d+1*a;o.drawLine(d,h,d,p,.2,.1,a),o.drawLine(d,h,g,h,.2,.1,a),o.drawLine(d,p,g,p,.2,.1,a)}n.push({element:o.getElement(),height:u*a,...Ut.efLabel(r.language,"musicLine",l,""+(e.startOrdinal+1))}),n.push({element:new Jr().getElement(),height:r.render.margin_after_line*a,isMargin:!0,...Ut.efLabel(r.language,"musicLineMargin")})}renderPart(e,n,r,i,o,s,l){let a=e;const u=i.render.scale;let c=i.render.explicitmarkers||Nb(o.partSignatures)!=Nb(s==null?void 0:s.partSignatures);const h=new Ui(r);!l&&!n.noMargin[0]&&(a+=i.render.margin_between_parts-2.5,a=Math.max(a,0));const f=this.renderJumpers(a,n,o,l,r,i);a+=f[0];const p=f[1],d=f[2];a+=this.renderLineFCA(a,n,!1,r,i);const m=1*h.measureNoteChar(i,!1,u)[1];function v(M){const R=Nr(M.separator.before.attrs,"type","top");return R&&R.type=="top"?R.margin:0}let b=!1,C=!1,x=0;const _=Qe.fcaPrimary(n);for(let M=0;M<o.sectionCount;M++){const R=n.notes.sections[M];R.type=="empty"||R.type=="nullish"||(_&&!Qe.lyricsOrAnnAllEmpty(_,M,1)&&Qe.hasRenderableSeparatorSideAttrs(n,R)&&(b=!0),(Qe.hasRenderableSeparatorSideAttrs(n,R,!1,!0)||Qe.hasSeparatorTopAttrs(R))&&(C=!0),x=Math.max(x,v(R)))}a+=x,b&&(a+=m),C&&d==0&&!_&&(a+=m,a-=this.annotationInset),a+=this.renderPartNotes(a,n,o.startOrdinal,r,i,p,l);const w=this.musicLineYs[this.musicLineYs.length-1];c&&h.drawPartName(i,u*(-.5+i.render.connector_left),w.middle,n.notes.tags,1,u),n.noMargin[1]||(a+=i.render.margin_after_part_notes,n.lyricLines.length!=0&&(a-=i.render.inset_before_lyrics));const y={sectionTop:Array(o.sectionCount).fill(a),startY:[]};let S=a;n.lyricLines.forEach((M,R)=>{let k=a;M.notesSubstitute.length!=0?k=S:M.sections.forEach((E,L)=>{Qe.isLyricSectionRenderWorthy(M,L)&&(k=Math.max(k,y.sectionTop[L]))}),y.startY[R]=k;let $=k+this.heightLyricLine(k,M,n,o,r,i);S=Math.max(S,$),this.statLyricLineOccupation(M,y.sectionTop,$)}),a=S;let A=0;return n.lyricLines.forEach((M,R)=>{this.renderLyricLine(y.startY[R],M,n,o,r,i),Qe.isLrcLineRenderWorthy(M,0,o.sectionCount)&&(A+=1)}),A>0&&(a+=i.render.margin_after_lyrics),n.noMargin[1]||(a+=i.render.margin_after_part),a-e}renderJumpers(e,n,r,i,o,s){const l=s.render.scale,a=new Ui(o),u=r.parts[0];let c=e;const f=1*a.measureNoteChar(s,!1,l)[1],p=-1.3;let d=!1,g=!1,m=!1;const v=Qe.fcaLast(n);let b=0;i&&r.jumpers.length>0&&r.jumpers.forEach(_=>{let w=!1,y=!1;if(r.startSection<=_.startSection&&_.startSection<r.startSection+r.sectionCount&&(w=!0),r.startSection<_.endSection&&_.endSection<=r.startSection+r.sectionCount&&(y=!0),_.openRange&&!w&&!y)return;if(b+=1,w){const R=_.startSection-r.startSection,k=u.notes.sections[R];Qe.hasRenderableSeparatorSideAttrs(n,k,!0)&&(d=!0)}w&&_.startSection-r.startSection==0&&(g=!0);let S=!1,A=Math.max(0,_.startSection-r.startSection),M=Math.min(r.sectionCount,_.endSection-r.startSection);if(v)for(let R=A;R<M;R++){const k=v[R];Qe.openRangeMarked(k)&&(S=!0)}v&&!Qe.lyricsOrAnnAllEmpty(v,A,M-A)&&!S&&(m=!0)});let C=!1;if(c+=f,i&&r.jumpers.length>0){const _=c-1.32+p,w=c+1.05+p,y=(_+w)/2;r.jumpers.forEach(S=>{let A=0,M=0,R=!1,k=!1;if(r.startSection<=S.startSection&&S.startSection<r.startSection+r.sectionCount&&(R=!0,A=this.columns.startPosition(S.startSection-r.startSection)+.5*l),r.startSection<S.endSection&&S.endSection<=r.startSection+r.sectionCount&&(k=!0,M=this.columns.endPosition(S.endSection-1-r.startSection)-.5*l),R||(A=this.columns.startPosition(0)),k||(M=this.columns.endPosition(r.sectionCount-1)),S.openRange){if(!R&&!k)return;R||(A=Math.max(A,M-30*l)),k||(M=Math.min(M,A+60*l))}o.drawLine(A,_,M,_,.14,.07,l),R&&o.drawLine(A,w,A,_,.14,.07,l),k&&o.drawLine(M,w,M,_,.14,.07,l),R&&a.drawJumperAttrs(s,A+.3*l,y,S.attrs,1,l)})}c-=f,b>0&&(!v||m)&&(c+=f,C=!0,d&&!v&&(c+=f)),C&&!v&&(c-=this.annotationInset);let x=0;for(let _ of n.fcaItems)Qe.lyricsOrAnnAllEmpty(_.sections,0,r.sectionCount)||(x+=1);return[c-e,g&&!d&&x<=1,b]}statLyricLineOccupation(e,n,r){if(e.notesSubstitute.length>0){for(let i=0;i<n.length;i++)n[i]=Math.max(n[i],r);return}e.sections.forEach((i,o)=>{Qe.isLyricSectionRenderWorthy(e,o)&&(n[o]=Math.max(n[o],r))})}heightLyricLine(e,n,r,i,o,s){const l=2.2*new Pe(s.render.font_lyrics,2.16).fontScale,a=4.4,u=1;let c=e;const h=Qe.isLrcLineTextRenderWorthy(n),f=n.notesSubstitute.length>0;return c+=this.heightLineFCA(e,n,!0,o,s),f&&(c+=a),h&&(c+=l),c+=u,c-e}renderLyricLine(e,n,r,i,o,s){let l=e;const a=2.2*new Pe(s.render.font_lyrics,2.16).fontScale,u=4.4,c=1,h=s.render.offset_lyrics_iter,f=s.render.scale,p=new Ui(o),d=p.measureNoteChar(s,!1,f),g=o.measureText("0我",new Pe(s.render.font_lyrics,2.16),f);l+=this.renderLineFCA(e,n,!0,o,s);const m=Qe.isLrcLineTextRenderWorthy(n);if(n.notesSubstitute.length>0){let b=100;l+=u/2;let C=[];n.notesSubstitute.forEach(x=>{const _=Math.max(i.startSection,i.startSection+x.substituteLocation),w=Math.min(i.startSection+i.sectionCount,i.startSection+x.substituteLocation+x.sections.length),y=x.sections.slice(_-x.substituteLocation-i.startSection,w-x.substituteLocation-i.startSection),S=x.decorations,A=new Bb(o,i,s,!1);A.data=this.columns.data.slice(_-i.startSection,w-i.startSection),al.sectionsRenderTime-=+new Date,new zb(A).render(l,{notes:{sections:y},decorations:S},-1,o,s,!1,!1,"substitute"),al.sectionsRenderTime+=+new Date,p.drawInsert(s,A.startPosition(0),l,{type:"insert",char:"lpr"},!0,f),p.drawInsert(s,A.endPosition(A.data.length-1),l,{type:"insert",char:"rpr"},!0,f),b=Math.min(A.startPosition(0))-h*f,x.tags.length>0&&(C=x.tags)}),b!==1/0&&p.drawLyricLabel(s,b,l,C,f),l+=u/2}if(m){let b=function(w){return w.occupiesSpace&&(w.text!=""||w.prefix!=""||w.postfix!="")},C=function(w,y,S){let A=0;for(let M=y;M<S;M++)w[M]&&!w[M].char.occupiesSpace&&(A+=1);return A};l+=a/2;let x=100;const _=[];n.sections.forEach((w,y)=>{w.type=="section"&&w.chars.forEach(S=>{const A=ne.add(w.startPos,S.startPos),M=ne.add(A,S.length),R=this.columns.fracPosition(y,A),k=this.columns.fracEndPosition(M,!0);_.push({char:S,startX:R,endX:k,boundaries:[0,0]})})}),n.lyricAnnotations.sections.forEach((w,y)=>{w.type=="section"&&w.notes.forEach(S=>{if(S.type!="note"||S.voided||"void"in S.char)return;S.char.type=="text";const A=ne.add(w.startPos,S.startPos),M=this.columns.fracPosition(y,A)-d[0]/2;x=Math.min(x,M),p.drawLyricChar(s,M,l,{startPos:A,length:ne.create(0),text:S.char.text,prefix:"",postfix:"",isCharBased:!0,extension:!1,occupiesSpace:!1,grouped:!1},"left",f)})}),_.forEach((w,y)=>{w.char.occupiesSpace&&(w.boundaries=p.drawLyricChar(s,w.startX,l,w.char,"center",f),(w.char.postfix||w.char.prefix||w.char.text||w.char.rolePrefix||w.char.extension)&&(x=Math.min(x,w.boundaries[0])))}),_.forEach((w,y)=>{if(!w.char.occupiesSpace){let S=y;for(;S>=0&&!b(_[S].char);)S-=1;let A=y;for(;A<_.length&&!b(_[A].char);)A+=1;let M=_[S],R=_[A];if(!M&&!R)return;if(M)if(R){let k=C(_,S,A)+1,$=C(_,S,y)+1,E=M.boundaries[1];const P=(R.boundaries[0]-E)*($/k)+E;w.boundaries=p.drawLyricChar(s,P,l,w.char,"center",f)}else{const k=M.boundaries[1];w.boundaries=p.drawLyricChar(s,k,l,w.char,"left",f)}else{const k=R.boundaries[0];w.boundaries=p.drawLyricChar(s,k,l,w.char,"right",f)}x=Math.min(x,w.boundaries[0])}}),_.forEach((w,y)=>{if(w.char.extension){const S=w.boundaries[1];let A=_[y+1],M=0;if(!A||A.char.text!=""?M=this.columns.endPosition(this.columns.data.length-1):M=A.boundaries[0],M=Math.min(M,w.endX+d[0]/2),A&&A.char.text==""&&A.char.extension&&(M=A.startX),M<=S)return;const R=l+g[1]/2;o.drawLine(S,R,M,R,.1,0,f)}}),x&&p.drawLyricLabel(s,x-h*f,l,n.signature.attrs,f),l+=a/2}return l+=c,l-e}heightLineFCA(e,n,r,i,o){let s=e;const l=new Ui(i),a=o.render.scale,c=1*l.measureNoteChar(o,r,a)[1];for(let h=n.fcaItems.length-1;h>=0;h--){let f=n.fcaItems[h];Qe.lyricsOrAnnAllEmpty(f.sections,0,f.sections.length)||(s+=c/2,s+=c/2)}return r||(s-=this.annotationInset),s=Math.max(s,e),s-e}renderLineFCA(e,n,r,i,o){let s=e;const l=new Ui(i),a=o.render.scale,c=1*l.measureNoteChar(o,r,a)[1];function h(p,d){p.forEach((g,m)=>{g.type=="section"&&g.notes.forEach(v=>{v.type=="note"&&("void"in v.char||d(v,m,g))})})}const f=p=>(d,g,m)=>{const v=ne.add(m.startPos,d.startPos),b=this.columns.fracPosition(g,v);d.type=="note"&&p(d,v,b)};for(let p=n.fcaItems.length-1;p>=0;p--){let d=n.fcaItems[p];if(!Qe.lyricsOrAnnAllEmpty(d.sections,0,d.sections.length)){s+=c/2,h(d.sections,f((g,m,v)=>{if(g.voided)return;const b=ne.add(m,g.length);let C=this.columns.fracEndPosition(b,!1);l.drawFCANote(o,v,C,s,d.originIndex,g.char,r,a)}));for(let g=0;g<d.sections.length;g++){const m=d.sections[g];l.drawBeforeAfterAttrs(o,this.columns.startPosition(g),s,0,m.separator.before.attrs,m,g==0,"before",1,a,{},!0),l.drawBeforeAfterAttrs(o,this.columns.endPosition(g),s,0,m.separator.after.attrs,m,g==0,"after",1,a,{},!0)}s+=c/2}}return r||(s-=this.annotationInset),s=Math.max(s,e),s-e}renderPartNotes(e,n,r,i,o,s,l){let a=e;const u={N:"normal",Nc:"compact",Na:"accompany"}[n.notes.head],c=u!="normal";n.noMargin[0]||(a+=2.5),n.noMargin[0]&&n.notes.head=="Nc"&&(a+=.6);const h=c?4.4:5.5;return o.render.scale,a+=h/2,al.sectionsRenderTime-=+new Date,new zb(this.columns).render(a,n,r,i,o,s,l,u),al.sectionsRenderTime+=+new Date,a+=h/2,this.musicLineYs.push({top:a-h,middle:a-h/2,bottom:a}),a-e}}class J${renderArticle(e,n,r){e.type=="text"?this.renderTextArticle(e,n,r):e.type=="music"&&this.renderMusicArticle(e,n,r),(e.type!="music"||e.lines.length!=0)&&n.push({element:new Jr().getElement(),height:r.render.margin_after_article*r.render.scale,isMargin:!0,...Ut.efLabel(r.language,"articleMargin")})}renderTextArticle(e,n,r){var c;const i=r.render.scale,o=this.renderMusicArticleHeader({...e,musicalProps:void 0},n,r),s=o[0];let l=o[1];e.title&&(l+=r.render.margin_after_header_text);const a=new Pe(r.render.font_text,2.16),u=e.text.map(h=>({text1:h.text1,text2:h.text2}));l+=Ix.renderEntries(u,a,s,r,l),n.push({element:s.getElement(),height:l*i,...Ut.efLabel(r.language,"textArticle",((c=e.title)==null?void 0:c.text)??"")})}renderMusicArticle(e,n,r){var s;let i=this.renderMusicArticleHeader(e,n,r),o;e.lines.forEach((l,a)=>{var u;a!=0&&(i=[new Jr,0]),new Z$().renderLine(l,n,r,o,i[0],i[1],((u=e.title)==null?void 0:u.text)??""),o=l}),e.lines.length==0&&n.push({element:i[0].getElement(),height:i[1],...Ut.efLabel(r.language,"musicArticleTitle",((s=e.title)==null?void 0:s.text)??"")})}renderMusicArticleHeader(e,n,r){if(!e.title&&!e.musicalProps)return[new Jr,0];const i=new Jr,o=new Ui(i),s=r.render.scale;let l=0;const a=5;l+=a/2;let u=0;return(()=>{if(!e.title)return;const c=new pt(e.title.text,new Pe(r.render.font_article,2.4),s,{}),h=c.measureFast(i),f=1.1*s,p=4,d=Math.max(p*s,h[0]+f*2);i.drawRectOutline(u,l-p/2,u+d,l+p/2,.15,s),c.draw(i,u+d/2,l,"center","middle",()=>{r.positionCallback&&r.positionCallback(e.title.lineNumber,0)}),u+=d,u+=2*s})(),e.musicalProps&&(u+=o.drawMusicalProps(r,!1,u,l,e.musicalProps.props,.95,s)),l+=a/2,l+=r.render.margin_after_header,[i,l]}}const eR=new J$;class tR{render(e,n,r,i){var a,u;let o=[];const s={language:n,positionCallback:r,sectionPickCallback:i,...ys(_i(Qi,(a=e.renderProps)==null?void 0:a.props),(u=e.musicalProps)==null?void 0:u.props),articleOrdinal:NaN};Kh.renderTop(e,o,s),Kh.renderPropsAndAuthors(e,o,s),Kh.renderTopSpacer(e,o,s);let l=s;for(e.articles.forEach((c,h)=>{var d,g;let f=_i(l,(d=c.renderProps)==null?void 0:d.props);c.type=="music"&&(f=ys(f,(g=c.musicalProps)==null?void 0:g.props));const p={...l,...f,articleOrdinal:h};eR.renderArticle(c,o,p)}),Kh.renderFooter(e,o,s);o.length>0&&o[o.length-1].isMargin;)o.pop();return o.forEach(c=>{c.padding=s.render.page_margin_x}),o}}const nR=new tR;var fv;(t=>{function e(i){let o=!1;return document.fonts.forEach(s=>{s.family==i&&(o=!0)}),o}t.hasFont=e;function n(i,o,s){if(document.fonts){let l=typeof i.url=="string"?[i.url]:i.url,a=new FontFace(i.name,l.map(u=>`url('${u}')`).join(","));a.weight=i.weight,i.asc!==void 0&&(a.ascentOverride=i.asc+"%"),i.desc!==void 0&&(a.descentOverride=i.desc+"%"),a.load().then(u=>{document.fonts.add(u),o&&o(!0)}).catch(u=>{s&&s(u)})}}t.loadFont=n;function r(i,o,s){const l=i.map(h=>({...h,state:"none"})),a=3;let u=0;const c=()=>{let h=0;l.forEach(f=>{f.state=="loaded"&&(h+=1),f.state=="none"&&(u>=a||(u+=1,f.state="loading",n(f,()=>{u-=1,f.state="loaded",s&&s(),c()},()=>{u-=1,f.state="none",setTimeout(()=>{c()},1e3)})))}),h==i.length&&o&&o()};c()}t.loadFonts=r})(fv||(fv={}));let Tc="none",Wg=[],jg=[],Yh=0;const Dx=[{family:"CommonLight",name:"noto_sans_sc_light",format:"woff2",asc:void 0,desc:void 0},{family:"CommonLight",name:"noto_sans_sc_light",format:"woff2",weight:"bold",asc:void 0,desc:void 0},{family:"CommonSerif",name:"uming_cn_dotfix",format:"woff2"},{family:"CommonSerif",name:"uming_cn_dotfix",format:"woff2",weight:"bold"},{family:"CommonBlack",name:"wqy_microhei",format:"woff2"},{family:"Roman",name:"roman",format:"woff2"},{family:"Roman",name:"roman",format:"woff2",weight:"bold"},{family:"RomanItalic",name:"roman_italic",format:"woff2"},{family:"SparksNMN-EOPNumber",name:"eop_number",format:"ttf"},{family:"SparksNMN-mscore-20",name:"mscore-20",format:"ttf"},{family:"SparksNMN-Bravura",name:"bravura",format:"woff"}],rR=Dx.map(t=>({name:t.family,url:`${t.name}/${t.name}${t.weight?"-transformed-"+t.weight:""}.${t.format}`,weight:t.weight??"normal",asc:t.asc,desc:t.desc}));var dv;(t=>{function e(){return Tc}t.getState=e;function n(r,i,o){const s=Dx.length;if(o&&o(Yh,s),Tc=="loaded"){i&&i();return}if(Tc=="none"){const l=rR.map(a=>({...a,url:r+"/"+a.url,weight:a.weight}));fv.loadFonts(l,()=>{Tc="loaded",Wg.forEach(a=>a()),Wg=[]},()=>{Yh+=1,jg.forEach(a=>a(Yh,s)),Yh==s&&(jg=[])}),Tc="loading"}i&&Wg.push(i),o&&jg.push(o)}t.requestFontLoad=n})(dv||(dv={}));class iR{paginize(e,n,r){var M,R,k;const i=_i(Qi,(M=e.renderProps)==null?void 0:M.props).render,o=i.scale,s=i.double_sided,l=i.page_margin_x,a=12,u=.5,c=new Pe(i.font_descend,1.9),h=1.5*c.fontSize*c.fontScale,f=((R=e.scoreProps.descendText.left)==null?void 0:R.text)??"",p=((k=e.scoreProps.descendText.right)==null?void 0:k.text)??Ut.renderToken(r,"page"),d=!!(f||p),g=1,m=i.page,v=(m-g*.08*2)/(g*1*(100/(100+l[0]+l[1]))),b=+d*h*o*.3,C=v*100-+d*h*o*1-b;if(m==0)return{result:n,pages:NaN};const x=[];let _=[],w=1/0,y=!0;for(let $ of[...n,null]){if(($===null||$.height+w>C)&&(x.push(_=[]),w=0,y=!0),$===null)break;w+=$.height,(!y||!$.isMargin)&&(_.push($),y=!1)}for(let $ of x)for(;$.length>0&&$[$.length-1].isMargin;)$.splice($.length-1,1);for(;x.length>0&&x[x.length-1].length==0;)x.splice(x.length-1,1);const S=[],A=x.length;for(let $=0;$<A;$++){let E=function(q){if(q!=null)return I?[q[1],q[0]]:q};const L=$+1,P=L==A,I=s&&$%2==1;let D=0,W=0,z=0;for(let q of x[$])D+=q.height,q.isMargin&&(W+=1);let G=C-D;for(let q of x[$]){let X=q.height;!P&&q.isMargin&&(X+=G/(W+ +d*.5)),S.push({...q,height:X,breakAfter:"avoid",padding:E(q.padding)}),z+=X}if(S.push({element:new Jr().getElement(),height:C-z+b,breakAfter:d?"avoid":"always",isMargin:!0,padding:E(l),...Ut.efLabel(r,"pageBottomMargin")}),d){const q=new Jr;q.drawTextFast(0,h/2,es(I?p:f,L.toString(),A.toString()),c,o,"left","middle"),q.drawTextFast(100,h/2,es(I?f:p,L.toString(),A.toString()),c,o,"right","middle"),S.push({element:q.getElement(),height:h*o,breakAfter:"always",padding:E(l),...Ut.efLabel(r,"pageDescend",L.toString())})}const Z=new Jr;Z.drawLine(-5,a/2,105,a/2,u,0,o,{opacity:.125}),Z.htmlContent+=`<style>
				@media print { @page { margin-bottom: 0 !important; } } 
			</style>`,S.push({element:Z.getElement(),height:a*o,isMargin:!0,padding:E(l),...Ut.efLabel(r,"pageSeparator")})}return{result:S,pages:A}}}const oR=new iR;class sR{__linify(e){return e.replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`)}__recreate(e){return e.join(`
`)}__isMetaCommentHead(e,n){return e.substring(0,2)!="//"?!1:(e=e.substring(2).trim(),!!e.startsWith(`[${n}]`))}__isMetaCommentTail(e,n){return e.substring(0,2)!="//"?!1:(e=e.substring(2).trim(),!!e.startsWith(`[/${n}]`))}__findMetaComment(e,n){let r=-1;for(let o=0;o<e.length;o++){const s=e[o];if(this.__isMetaCommentHead(s,n)){r=o;break}}if(r==-1)return;let i=-1;for(let o=r+1;o<e.length;o++){const s=e[o];if(this.__isMetaCommentTail(s,n)){i=o;break}}if(i!=-1)return{start:r,end:i}}writeMeta(e,n,r,i=""){let o=this.__linify(e);const s=this.__findMetaComment(o,n),l=[`// [${n}]`+(i!=""?" #":"")+i,...r.map(a=>"//   "+a),`// [/${n}]`];return s?o=[...o.slice(0,s.start),...l,...o.slice(s.end+1)]:o=[...o,...l,""],this.__recreate(o)}hasMeta(e,n){let r=this.__linify(e);return!!this.__findMetaComment(r,n)}readMeta(e,n){let r=this.__linify(e);const i=this.__findMetaComment(r,n);if(i)return r.slice(i.start+1,i.end).filter(o=>o.startsWith("//")).map(o=>o.substring(2).trim())}}const kf=new sR;class aR extends Error{}class lR extends aR{}class cR{constructor(){ge(this,"metaCommentWriter",kf);ge(this,"fontLoader",dv)}parse(e){return Ib.parse(e)}render(e,n,r,i){if(!window||!("document"in window))throw new lR("Sparks NMN renderer cannot work without a DOM window.");return nR.render(e,n,r,i)}paginize(e,n,r){return oR.paginize(e,n,r)}getHighlightedSection(e,n,r){return Ib.getHighlightedSection(e,n,r)}convertPosition(e,n,r){const i=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);for(n-=1;n<i.length;){const o=i[n];if(o[o.length-1]=="\\")if(r>=o.length-1)n+=1,r-=o.length-1;else break;else break}return n+=1,{row:n,col:r}}unconvertCursor(e,n){const r=n.slice(),i=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);let o=i[r[0]-1];for(;r[0]>1;){const s=r[0]-1,l=i[s-1];if(l[l.length-1]=="\\")o=l.substring(0,l.length-1)+o,r[0]-=1,r[1]+=l.length-1;else break}return{code:o,position:r}}}const qi=new cR;class uR{constructor(){ge(this,"commandDefs",id)}}const Hb=new uR,Me=Ut;function hn(){return hn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hn.apply(null,arguments)}function Fx(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var Wx={exports:{}},Pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fn=typeof Symbol=="function"&&Symbol.for,o0=Fn?Symbol.for("react.element"):60103,s0=Fn?Symbol.for("react.portal"):60106,Qd=Fn?Symbol.for("react.fragment"):60107,Xd=Fn?Symbol.for("react.strict_mode"):60108,Zd=Fn?Symbol.for("react.profiler"):60114,Jd=Fn?Symbol.for("react.provider"):60109,ep=Fn?Symbol.for("react.context"):60110,a0=Fn?Symbol.for("react.async_mode"):60111,tp=Fn?Symbol.for("react.concurrent_mode"):60111,np=Fn?Symbol.for("react.forward_ref"):60112,rp=Fn?Symbol.for("react.suspense"):60113,hR=Fn?Symbol.for("react.suspense_list"):60120,ip=Fn?Symbol.for("react.memo"):60115,op=Fn?Symbol.for("react.lazy"):60116,fR=Fn?Symbol.for("react.block"):60121,dR=Fn?Symbol.for("react.fundamental"):60117,pR=Fn?Symbol.for("react.responder"):60118,gR=Fn?Symbol.for("react.scope"):60119;function zr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o0:switch(t=t.type,t){case a0:case tp:case Qd:case Zd:case Xd:case rp:return t;default:switch(t=t&&t.$$typeof,t){case ep:case np:case op:case ip:case Jd:return t;default:return e}}case s0:return e}}}function jx(t){return zr(t)===tp}Pt.AsyncMode=a0;Pt.ConcurrentMode=tp;Pt.ContextConsumer=ep;Pt.ContextProvider=Jd;Pt.Element=o0;Pt.ForwardRef=np;Pt.Fragment=Qd;Pt.Lazy=op;Pt.Memo=ip;Pt.Portal=s0;Pt.Profiler=Zd;Pt.StrictMode=Xd;Pt.Suspense=rp;Pt.isAsyncMode=function(t){return jx(t)||zr(t)===a0};Pt.isConcurrentMode=jx;Pt.isContextConsumer=function(t){return zr(t)===ep};Pt.isContextProvider=function(t){return zr(t)===Jd};Pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o0};Pt.isForwardRef=function(t){return zr(t)===np};Pt.isFragment=function(t){return zr(t)===Qd};Pt.isLazy=function(t){return zr(t)===op};Pt.isMemo=function(t){return zr(t)===ip};Pt.isPortal=function(t){return zr(t)===s0};Pt.isProfiler=function(t){return zr(t)===Zd};Pt.isStrictMode=function(t){return zr(t)===Xd};Pt.isSuspense=function(t){return zr(t)===rp};Pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qd||t===tp||t===Zd||t===Xd||t===rp||t===hR||typeof t=="object"&&t!==null&&(t.$$typeof===op||t.$$typeof===ip||t.$$typeof===Jd||t.$$typeof===ep||t.$$typeof===np||t.$$typeof===dR||t.$$typeof===pR||t.$$typeof===gR||t.$$typeof===fR)};Pt.typeOf=zr;Wx.exports=Pt;var mR=Wx.exports,l0=mR,vR={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yR={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wR={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Bx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c0={};c0[l0.ForwardRef]=wR;c0[l0.Memo]=Bx;function Vb(t){return l0.isMemo(t)?Bx:c0[t.$$typeof]||vR}var bR=Object.defineProperty,_R=Object.getOwnPropertyNames,Ub=Object.getOwnPropertySymbols,SR=Object.getOwnPropertyDescriptor,xR=Object.getPrototypeOf,Gb=Object.prototype;function zx(t,e,n){if(typeof e!="string"){if(Gb){var r=xR(e);r&&r!==Gb&&zx(t,r,n)}var i=_R(e);Ub&&(i=i.concat(Ub(e)));for(var o=Vb(t),s=Vb(e),l=0;l<i.length;++l){var a=i[l];if(!yR[a]&&!(n&&n[a])&&!(s&&s[a])&&!(o&&o[a])){var u=SR(e,a);try{bR(t,a,u)}catch{}}}}return t}var CR=zx;const TR=Wl(CR);var Hx={exports:{}},kR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AR=kR,MR=AR;function Vx(){}function Ux(){}Ux.resetWarningCache=Vx;var ER=function(){function t(r,i,o,s,l,a){if(a!==MR){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ux,resetWarningCache:Vx};return n.PropTypes=n,n};Hx.exports=ER();var u0=Hx.exports,Gx={};Object.defineProperty(Gx,"__esModule",{value:!0});Gx.default=$R;function $R(t){return t.displayName||t.name||(typeof t=="string"&&t.length>0?t:"Unknown")}function Qh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ad(){return ad=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}function RR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Uo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LR(t){var e=function(n){RR(r,n);function r(){for(var o,s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return o=n.call.apply(n,[this].concat(l))||this,Qh(Uo(Uo(o)),"cachedTheme",void 0),Qh(Uo(Uo(o)),"lastOuterTheme",void 0),Qh(Uo(Uo(o)),"lastTheme",void 0),Qh(Uo(Uo(o)),"renderProvider",function(u){var c=o.props.children;return dt.createElement(t.Provider,{value:o.getTheme(u)},c)}),o}var i=r.prototype;return i.getTheme=function(s){if(this.props.theme!==this.lastTheme||s!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=s,this.lastTheme=this.props.theme,typeof this.lastTheme=="function"){var l=this.props.theme;this.cachedTheme=l(s)}else{var a=this.props.theme;this.cachedTheme=s?ad({},s,a):a}return this.cachedTheme},i.render=function(){var s=this.props.children;return s?dt.createElement(t.Consumer,null,this.renderProvider):null},r}(dt.Component);return e}function NR(t){return function(n){var r=dt.forwardRef(function(i,o){return dt.createElement(t.Consumer,null,function(s){return dt.createElement(n,ad({theme:s,ref:o},i))})});return TR(r,n),r}}function PR(t){var e=function(){var r=dt.useContext(t);return r};return e}function OR(t){return{context:t,withTheme:NR(t),useTheme:PR(t),ThemeProvider:LR(t)}}var qx=V.createContext();OR(qx);var qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl=(typeof window>"u"?"undefined":qb(window))==="object"&&(typeof document>"u"?"undefined":qb(document))==="object"&&document.nodeType===9;function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function IR(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DR(t){var e=IR(t,"string");return bu(e)=="symbol"?e:e+""}function FR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function h0(t,e,n){return e&&FR(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pv(t,e){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},pv(t,e)}function Kx(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pv(t,e)}function Kb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var WR={}.constructor;function gv(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(gv);if(t.constructor!==WR)return t;var e={};for(var n in t)e[n]=gv(t[n]);return e}function sp(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,i=gv(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var Yb=function(e,n){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=n),r+=e[i];return r},sa=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=Yb(e[r]," ");else n=Yb(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function Ul(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function kc(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function _u(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var i=n,o=i.indent,s=o===void 0?0:o,l=e.fallbacks;n.format===!1&&(s=-1/0);var a=Ul(n),u=a.linebreak,c=a.space;if(t&&s++,l)if(Array.isArray(l))for(var h=0;h<l.length;h++){var f=l[h];for(var p in f){var d=f[p];d!=null&&(r&&(r+=u),r+=kc(p+":"+c+sa(d)+";",s))}}else for(var g in l){var m=l[g];m!=null&&(r&&(r+=u),r+=kc(g+":"+c+sa(m)+";",s))}for(var v in e){var b=e[v];b!=null&&v!=="fallbacks"&&(r&&(r+=u),r+=kc(v+":"+c+sa(b)+";",s))}return!r&&!n.allowEmpty||!t?r:(s--,r&&(r=""+u+r+u),kc(""+t+c+"{"+r,s)+kc("}",s))}var jR=/([[\].#*$><+~=|^:(),"'`\s])/g,Qb=typeof CSS<"u"&&CSS.escape,f0=function(t){return Qb?Qb(t):t.replace(jR,"\\$1")},Yx=function(){function t(n,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=n,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var e=t.prototype;return e.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var l=i;(!o||o.process!==!1)&&(l=this.options.jss.plugins.onChangeValue(i,r,this));var a=l==null||l===!1,u=r in this.style;if(a&&!u&&!s)return this;var c=a&&u;if(c?delete this.style[r]:this.style[r]=l,this.renderable&&this.renderer)return c?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,l),this;var h=this.options.sheet;return h&&h.attached,this},t}(),mv=function(t){Kx(e,t);function e(r,i,o){var s;s=t.call(this,r,i,o)||this;var l=o.selector,a=o.scoped,u=o.sheet,c=o.generateId;return l?s.selectorText=l:a!==!1&&(s.id=c(Kb(Kb(s)),u),s.selectorText="."+f0(s.id)),s}var n=e.prototype;return n.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var l in s)o.setProperty(i,l,s[l])}return this},n.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=sa(s))}return i},n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,l=s?hn({},i,{allowEmpty:!0}):i;return _u(this.selectorText,this.style,l)},h0(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var l=o.setSelector(s,i);l||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),e}(Yx),BR={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new mv(e,n,r)}},Bg={indent:1,children:!0},zR=/@([\w-]+)/,HR=function(){function t(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var o=n.match(zR);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new ap(hn({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},e.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},e.toString=function(r){r===void 0&&(r=Bg);var i=Ul(r),o=i.linebreak;if(r.indent==null&&(r.indent=Bg.indent),r.children==null&&(r.children=Bg.children),r.children===!1)return this.query+" {}";var s=this.rules.toString(r);return s?this.query+" {"+o+s+o+"}":""},t}(),VR=/@container|@media|@supports\s+/,UR={onCreateRule:function(e,n,r){return VR.test(e)?new HR(e,n,r):null}},zg={indent:1,children:!0},GR=/@keyframes\s+([\w-]+)/,vv=function(){function t(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=n.match(GR);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,l=i.sheet,a=i.generateId;this.id=s===!1?this.name:f0(a(this,l)),this.rules=new ap(hn({},i,{parent:this}));for(var u in r)this.rules.add(u,r[u],hn({},i,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=zg);var i=Ul(r),o=i.linebreak;if(r.indent==null&&(r.indent=zg.indent),r.children==null&&(r.children=zg.children),r.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(r);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},t}(),qR=/@keyframes\s+/,KR=/\$([\w-]+)/g,yv=function(e,n){return typeof e=="string"?e.replace(KR,function(r,i){return i in n?n[i]:r}):e},Xb=function(e,n,r){var i=e[n],o=yv(i,r);o!==i&&(e[n]=o)},YR={onCreateRule:function(e,n,r){return typeof e=="string"&&qR.test(e)?new vv(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&Xb(e,"animation-name",r.keyframes),"animation"in e&&Xb(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var i=r.options.sheet;if(!i)return e;switch(n){case"animation":return yv(e,i.keyframes);case"animation-name":return yv(e,i.keyframes);default:return e}}},QR=function(t){Kx(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,l=s?hn({},i,{allowEmpty:!0}):i;return _u(this.key,this.style,l)},e}(Yx),XR={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new QR(e,n,r):null}},ZR=function(){function t(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){var i=Ul(r),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",l=0;l<this.style.length;l++)s+=_u(this.at,this.style[l]),this.style[l+1]&&(s+=o);return s}return _u(this.at,this.style,r)},t}(),JR=/@font-face/,eL={onCreateRule:function(e,n,r){return JR.test(e)?new ZR(e,n,r):null}},tL=function(){function t(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){return _u(this.key,this.style,r)},t}(),nL={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new tL(e,n,r):null}},rL=function(){function t(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},t}(),iL={"@charset":!0,"@import":!0,"@namespace":!0},oL={onCreateRule:function(e,n,r){return e in iL?new rL(e,n,r):null}},Zb=[BR,UR,YR,XR,eL,nL,oL],sL={process:!0},Jb={force:!0,process:!0},ap=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,i,o){var s=this.options,l=s.parent,a=s.sheet,u=s.jss,c=s.Renderer,h=s.generateId,f=s.scoped,p=hn({classes:this.classes,parent:l,sheet:a,jss:u,Renderer:c,generateId:h,scoped:f,name:r,keyframes:this.keyframes,selector:void 0},o),d=r;r in this.raw&&(d=r+"-d"+this.counter++),this.raw[d]=i,d in this.classes&&(p.selector="."+f0(this.classes[d]));var g=sp(d,i,p);if(!g)return null;this.register(g);var m=p.index===void 0?this.index.length:p.index;return this.index.splice(m,0,g),g},e.replace=function(r,i,o){var s=this.get(r),l=this.index.indexOf(s);s&&this.remove(s);var a=o;return l!==-1&&(a=hn({},o,{index:l})),this.add(r,i,a)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof mv?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof vv&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof mv?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof vv&&delete this.keyframes[r.name]},e.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},e.updateOne=function(r,i,o){o===void 0&&(o=sL);var s=this.options,l=s.jss.plugins,a=s.sheet;if(r.rules instanceof t){r.rules.update(i,o);return}var u=r.style;if(l.onUpdate(i,r,a,o),o.process&&u&&u!==r.style){l.onProcessStyle(r.style,r,a);for(var c in r.style){var h=r.style[c],f=u[c];h!==f&&r.prop(c,h,Jb)}for(var p in u){var d=r.style[p],g=u[p];d==null&&d!==g&&r.prop(p,null,Jb)}}},e.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,l=Ul(r),a=l.linebreak,u=0;u<this.index.length;u++){var c=this.index[u],h=c.toString(r);!h&&!s||(i&&(i+=a),i+=h)}return i},t}(),Qx=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=hn({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new ap(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var l=this.rules.add(r,i,o);return l?(this.options.jss.plugins.onProcessRule(l),this.attached?(this.deployed&&(s?s.push(l):(this.insertRule(l),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),l):(this.deployed=!1,l)):null},e.replaceRule=function(r,i,o){var s=this.rules.get(r);if(!s)return this.addRule(r,i,o);var l=this.rules.replace(r,i,o);return l&&this.options.jss.plugins.onProcessRule(l),this.attached?(this.deployed&&this.renderer&&(l?s.renderable&&this.renderer.replaceRule(s.renderable,l):this.renderer.deleteRule(s)),l):(this.deployed=!1,l)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var o=[];for(var s in r){var l=this.addRule(s,r[s],i);l&&o.push(l)}return o},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},e.toString=function(r){return this.rules.toString(r)},t}(),aL=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var l=this.registry.onCreateRule[s](r,i,o);if(l)return l}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,o,s){for(var l=0;l<this.registry.onUpdate.length;l++)this.registry.onUpdate[l](r,i,o,s)},e.onChangeValue=function(r,i,o){for(var s=r,l=0;l<this.registry.onChangeValue.length;l++)s=this.registry.onChangeValue[l](s,i,o);return s},e.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,l){for(var a in l)a in s&&s[a].push(l[a]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),lL=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=Fx(i,["attached"]),l=Ul(s),a=l.linebreak,u="",c=0;c<this.registry.length;c++){var h=this.registry[c];o!=null&&h.attached!==o||(u&&(u+=a),u+=h.toString(s))}return u},h0(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Vc=new lL,wv=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),bv="2f1acc6c3a606b082e5eef5e54414ffb";wv[bv]==null&&(wv[bv]=0);var e1=wv[bv]++,t1=function(e){e===void 0&&(e={});var n=0,r=function(o,s){n+=1;var l="",a="";return s&&(s.options.classNamePrefix&&(a=s.options.classNamePrefix),s.options.jss.id!=null&&(l=String(s.options.jss.id))),e.minify?""+(a||"c")+e1+l+n:a+o.key+"-"+e1+(l?"-"+l:"")+"-"+n};return r},Xx=function(e){var n;return function(){return n||(n=e()),n}},cL=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},uL=function(e,n,r){try{var i=r;if(Array.isArray(r)&&(i=sa(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;e.style.setProperty(n,s,o>-1?"important":"")}}catch{return!1}return!0},hL=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},fL=function(e,n){return e.selectorText=n,e.selectorText===n},Zx=Xx(function(){return document.querySelector("head")});function dL(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function pL(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function gL(t){for(var e=Zx(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function mL(t){var e=Vc.registry;if(e.length>0){var n=dL(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=pL(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var i=gL(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function vL(t,e){var n=e.insertionPoint,r=mL(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling);return}Zx().appendChild(t)}var yL=Xx(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),n1=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},r1=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},wL=function(){var e=document.createElement("style");return e.textContent=`
`,e},bL=function(){function t(n){this.getPropertyValue=cL,this.setProperty=uL,this.removeProperty=hL,this.setSelector=fL,this.hasInsertedRules=!1,this.cssRules=[],n&&Vc.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||wL(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var l=yL();l&&this.element.setAttribute("nonce",l)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){vL(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},e.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,l=o;if(r.type==="conditional"||r.type==="keyframes"){var a=r1(o,i);if(l=n1(o,s.toString({children:!1}),a),l===!1)return!1;this.refCssRule(r,a,l)}return this.insertRules(s.rules,l),l}var u=r.toString();if(!u)return!1;var c=r1(o,i),h=n1(o,u,c);return h===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,c,h),h)},e.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof Qx&&this.cssRules.splice(i,0,o)},e.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},e.getRules=function(){return this.element.sheet.cssRules},t}(),_L=0,SL=function(){function t(n){this.id=_L++,this.version="10.10.0",this.plugins=new aL,this.options={id:{minify:!1},createGenerateId:t1,Renderer:Vl?bL:null,plugins:[]},this.generateId=t1({minify:!1});for(var r=0;r<Zb.length;r++)this.plugins.use(Zb[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=hn({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=Vc.index===0?0:Vc.index+1);var l=new Qx(r,hn({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(l),l},e.removeStyleSheet=function(r){return r.detach(),Vc.remove(r),this},e.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=hn({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var l=sp(r,i,s);return l&&this.plugins.onProcessRule(l),l},e.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(l){r.plugins.use(l)}),this},t}(),Jx=function(e){return new SL(e)},i1=function(){function t(){this.length=0,this.sheets=new WeakMap}var e=t.prototype;return e.get=function(r){var i=this.sheets.get(r);return i&&i.sheet},e.add=function(r,i){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:i,refs:0}))},e.manage=function(r){var i=this.sheets.get(r);if(i)return i.refs===0&&i.sheet.attach(),i.refs++,i.sheet},e.unmanage=function(r){var i=this.sheets.get(r);i&&i.refs>0&&(i.refs--,i.refs===0&&i.sheet.detach())},h0(t,[{key:"size",get:function(){return this.length}}]),t}(),d0=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function eC(t){var e=null;for(var n in t){var r=t[n],i=typeof r;if(i==="function")e||(e={}),e[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=eC(r);o&&(e||(e={}),e[n]=o)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */Jx();var tC=Date.now(),Hg="fnValues"+tC,Vg="fnStyle"+ ++tC,xL=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var o=sp(n,{},i);return o[Vg]=r,o},onProcessStyle:function(n,r){if(Hg in r||Vg in r)return n;var i={};for(var o in n){var s=n[o];typeof s=="function"&&(delete n[o],i[o]=s)}return r[Hg]=i,n},onUpdate:function(n,r,i,o){var s=r,l=s[Vg];l&&(s.style=l(n)||{});var a=s[Hg];if(a)for(var u in a)s.prop(u,a[u](n),o)}}};function CL(t){var e,n=t.Symbol;return typeof n=="function"?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var Ua;typeof self<"u"?Ua=self:typeof window<"u"?Ua=window:typeof global<"u"?Ua=global:typeof module<"u"?Ua=module:Ua=Function("return this")();var o1=CL(Ua),s1=function(e){return e&&e[o1]&&e===e[o1]()},TL=function(e){return{onCreateRule:function(r,i,o){if(!s1(i))return null;var s=i,l=sp(r,{},o);return s.subscribe(function(a){for(var u in a)l.prop(u,a[u],e)}),l},onProcessRule:function(r){if(!(r&&r.type!=="style")){var i=r,o=i.style,s=function(c){var h=o[c];if(!s1(h))return"continue";delete o[c],h.subscribe({next:function(p){i.prop(c,p,e)}})};for(var l in o)var a=s(l)}}}},kL=/;\n/,AL=function(e){for(var n={},r=e.split(kL),i=0;i<r.length;i++){var o=(r[i]||"").trim();if(o){var s=o.indexOf(":");if(s!==-1){var l=o.substr(0,s).trim(),a=o.substr(s+1).trim();n[l]=a}}}return n},ML=function(e){typeof e.style=="string"&&(e.style=AL(e.style))};function EL(){return{onProcessRule:ML}}var ds="@global",_v="@global ",$L=function(){function t(n,r,i){this.type="global",this.at=ds,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new ap(hn({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},e.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),RL=function(){function t(n,r,i){this.type="global",this.at=ds,this.isProcessed=!1,this.key=n,this.options=i;var o=n.substr(_v.length);this.rule=i.jss.createRule(o,r,hn({},i,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),LL=/\s*,\s*/g;function nC(t,e){for(var n=t.split(LL),r="",i=0;i<n.length;i++)r+=e+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function NL(t,e){var n=t.options,r=t.style,i=r?r[ds]:null;if(i){for(var o in i)e.addRule(o,i[o],hn({},n,{selector:nC(o,t.selector)}));delete r[ds]}}function PL(t,e){var n=t.options,r=t.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,ds.length)!==ds)){var o=nC(i.substr(ds.length),t.selector);e.addRule(o,r[i],hn({},n,{selector:o})),delete r[i]}}function OL(){function t(n,r,i){if(!n)return null;if(n===ds)return new $L(n,r,i);if(n[0]==="@"&&n.substr(0,_v.length)===_v)return new RL(n,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function e(n,r){n.type!=="style"||!r||(NL(n,r),PL(n,r))}return{onCreateRule:t,onProcessRule:e}}var Af=function(e){return e&&typeof e=="object"&&!Array.isArray(e)},Ug="extendCurrValue"+Date.now();function IL(t,e,n,r){var i=typeof t.extend;if(i==="string"){if(!n)return;var o=n.getRule(t.extend);if(!o||o===e)return;var s=o.options.parent;if(s){var l=s.rules.raw[t.extend];Zs(l,e,n,r)}return}if(Array.isArray(t.extend)){for(var a=0;a<t.extend.length;a++){var u=t.extend[a],c=typeof u=="string"?hn({},t,{extend:u}):t.extend[a];Zs(c,e,n,r)}return}for(var h in t.extend){if(h==="extend"){Zs(t.extend.extend,e,n,r);continue}if(Af(t.extend[h])){h in r||(r[h]={}),Zs(t.extend[h],e,n,r[h]);continue}r[h]=t.extend[h]}}function DL(t,e,n,r){for(var i in t)if(i!=="extend"){if(Af(r[i])&&Af(t[i])){Zs(t[i],e,n,r[i]);continue}if(Af(t[i])){r[i]=Zs(t[i],e,n);continue}r[i]=t[i]}}function Zs(t,e,n,r){return r===void 0&&(r={}),IL(t,e,n,r),DL(t,e,n,r),r}function FL(){function t(n,r,i){return"extend"in n?Zs(n,r,i):n}function e(n,r,i){if(r!=="extend")return n;if(n==null||n===!1){for(var o in i[Ug])i.prop(o,null);return i[Ug]=null,null}if(typeof n=="object"){for(var s in n)i.prop(s,n[s]);i[Ug]=n}return null}return{onProcessStyle:t,onChangeValue:e}}var a1=/\s*,\s*/g,WL=/&/g,jL=/\$([\w-]+)/g;function BL(){function t(i,o){return function(s,l){var a=i.getRule(l)||o&&o.getRule(l);return a?a.selector:l}}function e(i,o){for(var s=o.split(a1),l=i.split(a1),a="",u=0;u<s.length;u++)for(var c=s[u],h=0;h<l.length;h++){var f=l[h];a&&(a+=", "),a+=f.indexOf("&")!==-1?f.replace(WL,c):c+" "+f}return a}function n(i,o,s){if(s)return hn({},s,{index:s.index+1});var l=i.options.nestingLevel;l=l===void 0?1:l+1;var a=hn({},i.options,{nestingLevel:l,index:o.indexOf(i)+1});return delete a.name,a}function r(i,o,s){if(o.type!=="style")return i;var l=o,a=l.options.parent,u,c;for(var h in i){var f=h.indexOf("&")!==-1,p=h[0]==="@";if(!(!f&&!p)){if(u=n(l,a,u),f){var d=e(h,l.selector);c||(c=t(a,s)),d=d.replace(jL,c);var g=l.key+"-"+h;"replaceRule"in a?a.replaceRule(g,i[h],hn({},u,{selector:d})):a.addRule(g,i[h],hn({},u,{selector:d}))}else p&&a.addRule(h,{},u).addRule(l.key,i[h],{selector:l.selector});delete i[h]}}return i}return{onProcessStyle:r}}function Sv(t,e){if(!e)return!0;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var r=Sv(t,e[n]);if(!r)return!1}return!0}if(e.indexOf(" ")>-1)return Sv(t,e.split(" "));var i=t.options.parent;if(e[0]==="$"){var o=i.getRule(e.substr(1));return!o||o===t?!1:(i.classes[t.key]+=" "+i.classes[o.key],!0)}return i.classes[t.key]+=" "+e,!0}function zL(){function t(e,n){return"composes"in e&&(Sv(n,e.composes),delete e.composes),e}return{onProcessStyle:t}}var HL=/[A-Z]/g,VL=/^ms-/,Gg={};function UL(t){return"-"+t.toLowerCase()}function rC(t){if(Gg.hasOwnProperty(t))return Gg[t];var e=t.replace(HL,UL);return Gg[t]=VL.test(e)?"-"+e:e}function ld(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:rC(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(ld):e.fallbacks=ld(t.fallbacks)),e}function GL(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=ld(n[r]);return n}return ld(n)}function e(n,r,i){if(r.indexOf("--")===0)return n;var o=rC(r);return r===o?n:(i.prop(o,n),null)}return{onProcessStyle:t,onChangeValue:e}}var ye=d0&&CSS?CSS.px:"px",Xh=d0&&CSS?CSS.ms:"ms",ja=d0&&CSS?CSS.percent:"%",qL={"animation-delay":Xh,"animation-duration":Xh,"background-position":ye,"background-position-x":ye,"background-position-y":ye,"background-size":ye,border:ye,"border-bottom":ye,"border-bottom-left-radius":ye,"border-bottom-right-radius":ye,"border-bottom-width":ye,"border-left":ye,"border-left-width":ye,"border-radius":ye,"border-right":ye,"border-right-width":ye,"border-top":ye,"border-top-left-radius":ye,"border-top-right-radius":ye,"border-top-width":ye,"border-width":ye,"border-block":ye,"border-block-end":ye,"border-block-end-width":ye,"border-block-start":ye,"border-block-start-width":ye,"border-block-width":ye,"border-inline":ye,"border-inline-end":ye,"border-inline-end-width":ye,"border-inline-start":ye,"border-inline-start-width":ye,"border-inline-width":ye,"border-start-start-radius":ye,"border-start-end-radius":ye,"border-end-start-radius":ye,"border-end-end-radius":ye,margin:ye,"margin-bottom":ye,"margin-left":ye,"margin-right":ye,"margin-top":ye,"margin-block":ye,"margin-block-end":ye,"margin-block-start":ye,"margin-inline":ye,"margin-inline-end":ye,"margin-inline-start":ye,padding:ye,"padding-bottom":ye,"padding-left":ye,"padding-right":ye,"padding-top":ye,"padding-block":ye,"padding-block-end":ye,"padding-block-start":ye,"padding-inline":ye,"padding-inline-end":ye,"padding-inline-start":ye,"mask-position-x":ye,"mask-position-y":ye,"mask-size":ye,height:ye,width:ye,"min-height":ye,"max-height":ye,"min-width":ye,"max-width":ye,bottom:ye,left:ye,top:ye,right:ye,inset:ye,"inset-block":ye,"inset-block-end":ye,"inset-block-start":ye,"inset-inline":ye,"inset-inline-end":ye,"inset-inline-start":ye,"box-shadow":ye,"text-shadow":ye,"column-gap":ye,"column-rule":ye,"column-rule-width":ye,"column-width":ye,"font-size":ye,"font-size-delta":ye,"letter-spacing":ye,"text-decoration-thickness":ye,"text-indent":ye,"text-stroke":ye,"text-stroke-width":ye,"word-spacing":ye,motion:ye,"motion-offset":ye,outline:ye,"outline-offset":ye,"outline-width":ye,perspective:ye,"perspective-origin-x":ja,"perspective-origin-y":ja,"transform-origin":ja,"transform-origin-x":ja,"transform-origin-y":ja,"transform-origin-z":ja,"transition-delay":Xh,"transition-duration":Xh,"vertical-align":ye,"flex-basis":ye,"shape-margin":ye,size:ye,gap:ye,grid:ye,"grid-gap":ye,"row-gap":ye,"grid-row-gap":ye,"grid-column-gap":ye,"grid-template-rows":ye,"grid-template-columns":ye,"grid-auto-rows":ye,"grid-auto-columns":ye,"box-shadow-x":ye,"box-shadow-y":ye,"box-shadow-blur":ye,"box-shadow-spread":ye,"font-line-height":ye,"text-shadow-x":ye,"text-shadow-y":ye,"text-shadow-blur":ye};function iC(t){var e=/(-[a-z])/g,n=function(s){return s[1].toUpperCase()},r={};for(var i in t)r[i]=t[i],r[i.replace(e,n)]=t[i];return r}var KL=iC(qL);function Uc(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Uc(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var i in e)e[i]=Uc(i,e[i],n);else for(var o in e)e[o]=Uc(t+"-"+o,e[o],n);else if(typeof e=="number"&&isNaN(e)===!1){var s=n[t]||KL[t];return s&&!(e===0&&s===ye)?typeof s=="function"?s(e).toString():""+e+s:e.toString()}return e}function YL(t){t===void 0&&(t={});var e=iC(t);function n(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=Uc(s,i[s],e);return i}function r(i,o){return Uc(o,i,e)}return{onProcessStyle:n,onChangeValue:r}}var QL={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},XL={position:!0,size:!0},Zh={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},qg={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function ZL(t,e,n){return t.map(function(r){return sC(r,e,n,!1,!0)})}function oC(t,e,n,r){return n[e]==null?t:t.length===0?[]:Array.isArray(t[0])?oC(t[0],e,n,r):typeof t[0]=="object"?ZL(t,e,r):[t]}function sC(t,e,n,r,i){if(!(Zh[e]||qg[e]))return[];var o=[];if(qg[e]&&(t=JL(t,n,qg[e],r)),Object.keys(t).length)for(var s in Zh[e]){if(t[s]){Array.isArray(t[s])?o.push(XL[s]===null?t[s]:t[s].join(" ")):o.push(t[s]);continue}Zh[e][s]!=null&&o.push(Zh[e][s])}return!o.length||i?o:[o]}function JL(t,e,n,r){for(var i in n){var o=n[i];if(typeof t[i]<"u"&&(r||!e.prop(o))){var s,l=Su((s={},s[o]=t[i],s),e)[o];r?e.style.fallbacks[o]=l:e.style[o]=l}delete t[i]}return t}function Su(t,e,n){for(var r in t){var i=t[r];if(Array.isArray(i)){if(!Array.isArray(i[0])){if(r==="fallbacks"){for(var o=0;o<t.fallbacks.length;o++)t.fallbacks[o]=Su(t.fallbacks[o],e,!0);continue}t[r]=oC(i,r,QL,e),t[r].length||delete t[r]}}else if(typeof i=="object"){if(r==="fallbacks"){t.fallbacks=Su(t.fallbacks,e,!0);continue}t[r]=sC(i,r,e,n),t[r].length||delete t[r]}else t[r]===""&&delete t[r]}return t}function eN(){function t(e,n){if(!e||n.type!=="style")return e;if(Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=Su(e[r],n);return e}return Su(e,n)}return{onProcessStyle:t}}function xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tN(t){if(Array.isArray(t))return xv(t)}function nN(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rN(t,e){if(t){if(typeof t=="string")return xv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xv(t,e):void 0}}function iN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oN(t){return tN(t)||nN(t)||rN(t)||iN()}var Lc="",Cv="",aC="",lC="",sN=Vl&&"ontouchstart"in document.documentElement;if(Vl){var Kg={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},aN=document.createElement("p"),Yg=aN.style,lN="Transform";for(var Qg in Kg)if(Qg+lN in Yg){Lc=Qg,Cv=Kg[Qg];break}Lc==="Webkit"&&"msHyphens"in Yg&&(Lc="ms",Cv=Kg.ms,lC="edge"),Lc==="Webkit"&&"-apple-trailing-word"in Yg&&(aC="apple")}var ut={js:Lc,css:Cv,vendor:aC,browser:lC,isTouch:sN};function cN(t){return t[1]==="-"||ut.js==="ms"?t:"@"+ut.css+"keyframes"+t.substr(10)}var uN={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:ut.js==="ms"?"-webkit-"+e:ut.css+e}},hN={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:ut.js==="Webkit"?ut.css+"print-"+e:e}},fN=/[-\s]+(.)?/g;function dN(t,e){return e?e.toUpperCase():""}function p0(t){return t.replace(fN,dN)}function ws(t){return p0("-"+t)}var pN={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(ut.js==="Webkit"){var r="mask-image";if(p0(r)in n)return e;if(ut.js+ws(r)in n)return ut.css+e}return e}},gN={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:ut.vendor==="apple"&&!ut.isTouch?ut.css+e:e}},mN={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:ut.css+e}},vN={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:ut.css+e}},yN={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:ut.js==="Webkit"||ut.js==="ms"&&ut.browser!=="edge"?ut.css+e:e}},wN={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:ut.js==="Moz"||ut.js==="ms"||ut.vendor==="apple"?ut.css+e:e}},bN={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(ut.js==="Webkit"){var r="WebkitColumn"+ws(e);return r in n?ut.css+"column-"+e:!1}if(ut.js==="Moz"){var i="page"+ws(e);return i in n?"page-"+e:!1}return!1}},_N={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(ut.js==="Moz")return e;var r=e.replace("-inline","");return ut.js+ws(r)in n?ut.css+r:!1}},SN={supportedProperty:function(e,n){return p0(e)in n?e:!1}},xN={supportedProperty:function(e,n){var r=ws(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:ut.js+r in n?ut.css+e:ut.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},CN={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:ut.js==="ms"?""+ut.css+e:e}},TN={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:ut.js==="ms"?ut.css+"scroll-chaining":e}},kN={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},AN={supportedProperty:function(e,n){var r=kN[e];return r&&ut.js+ws(r)in n?ut.css+r:!1}},cC={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},MN=Object.keys(cC),EN=function(e){return ut.css+e},$N={supportedProperty:function(e,n,r){var i=r.multiple;if(MN.indexOf(e)>-1){var o=cC[e];if(!Array.isArray(o))return ut.js+ws(o)in n?ut.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(ut.js+ws(o[0])in n))return!1;return o.map(EN)}return!1}},uC=[uN,hN,pN,gN,mN,vN,yN,wN,bN,_N,SN,xN,CN,TN,AN,$N],l1=uC.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),RN=uC.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,oN(e.noPrefill)),t},[]),Nc,Ks={};if(Vl){Nc=document.createElement("p");var Xg=window.getComputedStyle(document.documentElement,"");for(var Zg in Xg)isNaN(Zg)||(Ks[Xg[Zg]]=Xg[Zg]);RN.forEach(function(t){return delete Ks[t]})}function Tv(t,e){if(e===void 0&&(e={}),!Nc)return t;if(Ks[t]!=null)return Ks[t];(t==="transition"||t==="transform")&&(e[t]=t in Nc.style);for(var n=0;n<l1.length&&(Ks[t]=l1[n](t,Nc.style,e),!Ks[t]);n++);try{Nc.style[t]=""}catch{return!1}return Ks[t]}var Ba={},LN={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},NN=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,qo;function PN(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?Tv(e):", "+Tv(n);return r||e||n}Vl&&(qo=document.createElement("p"));function c1(t,e){var n=e;if(!qo||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Ba[r]!=null)return Ba[r];try{qo.style[t]=n}catch{return Ba[r]=!1,!1}if(LN[t])n=n.replace(NN,PN);else if(qo.style[t]===""&&(n=ut.css+n,n==="-ms-flex"&&(qo.style[t]="-ms-flexbox"),qo.style[t]=n,qo.style[t]===""))return Ba[r]=!1,!1;return qo.style[t]="",Ba[r]=n,Ba[r]}function ON(){function t(i){if(i.type==="keyframes"){var o=i;o.at=cN(o.at)}}function e(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(e);continue}var l=!1,a=Tv(o);a&&a!==o&&(l=!0);var u=!1,c=c1(a,sa(s));c&&c!==s&&(u=!0),(l||u)&&(l&&delete i[o],i[a||o]=c||s)}return i}function n(i,o){return o.type!=="style"?i:e(i)}function r(i,o){return c1(o,sa(i))||i}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function IN(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},o=Object.keys(n).sort(t),s=0;s<o.length;s++)i[o[s]]=n[o[s]];return i}}}var DN=function(e){return e===void 0&&(e={}),{plugins:[xL(),TL(e.observable),EL(),OL(),FL(),BL(),zL(),GL(),YL(e.defaultUnit),eN(),ON(),IN()]}},FN=Number.MIN_SAFE_INTEGER||-1e9,WN=function(){return FN++},jN=V.createContext({classNamePrefix:"",disableStylesGeneration:!1,isSSR:!Vl}),u1=new Map,g0=function(e,n){var r=e.managers;if(r)return r[n]||(r[n]=new i1),r[n];var i=u1.get(n);return i||(i=new i1,u1.set(n,i)),i},h1=function(e){var n=e.sheet,r=e.context,i=e.index,o=e.theme;if(n){var s=g0(r,i);s.manage(o),r.registry&&r.registry.add(n)}},BN=function(e){if(e.sheet){var n=g0(e.context,e.index);n.unmanage(e.theme)}},zN=Jx(DN()),hC=new WeakMap,fC=function(e){return hC.get(e)},HN=function(e,n){hC.set(e,n)},VN=function(e){var n=e.styles;return typeof n!="function"?n:n(e.theme)};function UN(t,e){var n;t.context.id&&t.context.id.minify!=null&&(n=t.context.id.minify);var r=t.context.classNamePrefix||"";t.name&&!n&&(r+=t.name.replace(/\s/g,"-")+"-");var i="";return t.name&&(i=t.name+", "),i+=typeof t.styles=="function"?"Themed":"Unthemed",hn({},t.sheetOptions,{index:t.index,meta:i,classNamePrefix:r,link:e,generateId:t.sheetOptions&&t.sheetOptions.generateId?t.sheetOptions.generateId:t.context.generateId})}var GN=function(e){if(!e.context.disableStylesGeneration){var n=g0(e.context,e.index),r=n.get(e.theme);if(r)return r;var i=e.context.jss||zN,o=VN(e),s=eC(o),l=i.createStyleSheet(o,UN(e,s!==null));return HN(l,{dynamicStyles:s,styles:o}),n.add(e.theme,l),l}},qN=function(e,n){for(var r in n)e.deleteRule(n[r])},KN=function(e,n,r){for(var i in r)n.updateOne(r[i],e)},YN=function(e,n){var r=fC(e);if(r){var i={};for(var o in r.dynamicStyles)for(var s=e.rules.index.length,l=e.addRule(o,r.dynamicStyles[o]),a=s;a<e.rules.index.length;a++){var u=e.rules.index[a];e.updateOne(u,n),i[l===u?o:u.key]=u}return i}},QN=function(e,n){if(!n)return e.classes;var r=fC(e);if(!r)return e.classes;var i={};for(var o in r.styles)i[o]=e.classes[o],o in n&&(i[o]+=" "+e.classes[n[o].key]);return i};function f1(t){return t?V.useEffect:dt.useInsertionEffect||V.useLayoutEffect}var Jg={},Mn=function(e,n){n===void 0&&(n={});var r=n,i=r.index,o=i===void 0?WN():i,s=r.theming,l=r.name,a=Fx(r,["index","theming","name"]),u=s&&s.context||qx,c=function(p){return typeof e=="function"&&(p||V.useContext(u))||Jg},h={};return function(p){var d=V.useRef(!0),g=V.useContext(jN),m=c(p&&p.theme),v=V.useMemo(function(){var _=GN({context:g,styles:e,name:l,theme:m,index:o,sheetOptions:a});return _&&g.isSSR&&h1({index:o,context:g,sheet:_,theme:m}),[_,_?YN(_,p):null]},[g,m]),b=v[0],C=v[1];f1(g.isSSR)(function(){b&&C&&!d.current&&KN(p,b,C)},[p]),f1(g.isSSR)(function(){return b&&h1({index:o,context:g,sheet:b,theme:m}),function(){b&&(BN({index:o,context:g,sheet:b,theme:m}),C&&qN(b,C))}},[b]);var x=V.useMemo(function(){return b&&C?QN(b,C):h},[b,C]);return V.useDebugValue(x),V.useDebugValue(m===Jg?"No theme":m),V.useEffect(function(){d.current=!1}),x}};function He(t){const e=V.useRef(t);return e.current=t,V.useMemo(()=>function(){return e.current.apply(this,arguments)},[])}function ll(t,e,n){t.current&&e(t.current)}var $l={},m0={},dC={exports:{}};(function(t,e){(function(){var n="ace",r=function(){return this}();!r&&typeof window<"u"&&(r=window);var i=function(c,h,f){if(typeof c!="string"){i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(f=h),i.modules[c]||(i.payloads[c]=f,i.modules[c]=null)};i.modules={},i.payloads={};var o=function(c,h,f){if(typeof h=="string"){var p=a(c,h);if(p!=null)return f&&f(),p}else if(Object.prototype.toString.call(h)==="[object Array]"){for(var d=[],g=0,m=h.length;g<m;++g){var v=a(c,h[g]);if(v==null&&s.original)return;d.push(v)}return f&&f.apply(null,d)||!0}},s=function(c,h){var f=o("",c,h);return f==null&&s.original?s.original.apply(this,arguments):f},l=function(c,h){if(h.indexOf("!")!==-1){var f=h.split("!");return l(c,f[0])+"!"+l(c,f[1])}if(h.charAt(0)=="."){var p=c.split("/").slice(0,-1).join("/");for(h=p+"/"+h;h.indexOf(".")!==-1&&d!=h;){var d=h;h=h.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return h},a=function(c,h){h=l(c,h);var f=i.modules[h];if(!f){if(f=i.payloads[h],typeof f=="function"){var p={},d={id:h,uri:"",exports:p,packaged:!0},g=function(v,b){return o(h,v,b)},m=f(g,p,d);p=m||d.exports,i.modules[h]=p,delete i.payloads[h]}f=i.modules[h]=p||f}return f};function u(c){var h=r;r[c]||(r[c]={}),h=r[c],(!h.define||!h.define.packaged)&&(i.original=h.define,h.define=i,h.define.packaged=!0),(!h.require||!h.require.packaged)&&(s.original=h.require,h.require=s,h.require.packaged=!0)}u(n)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,r,i){function o(s,l,a){Object.defineProperty(s,l,{value:a,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||o(String.prototype,"startsWith",function(s,l){return l=l||0,this.lastIndexOf(s,l)===l}),String.prototype.endsWith||o(String.prototype,"endsWith",function(s,l){var a=this;(l===void 0||l>a.length)&&(l=a.length),l-=s.length;var u=a.indexOf(s,l);return u!==-1&&u===l}),String.prototype.repeat||o(String.prototype,"repeat",function(s){for(var l="",a=this;s>0;)s&1&&(l+=a),(s>>=1)&&(a+=a);return l}),String.prototype.includes||o(String.prototype,"includes",function(s,l){return this.indexOf(s,l)!=-1}),Object.assign||(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(s),a=1;a<arguments.length;a++){var u=arguments[a];u!=null&&Object.keys(u).forEach(function(c){l[c]=u[c]})}return l}),Object.values||(Object.values=function(s){return Object.keys(s).map(function(l){return s[l]})}),Array.prototype.find||o(Array.prototype,"find",function(s){for(var l=this.length,a=arguments[1],u=0;u<l;u++){var c=this[u];if(s.call(a,c,u,this))return c}}),Array.prototype.findIndex||o(Array.prototype,"findIndex",function(s){for(var l=this.length,a=arguments[1],u=0;u<l;u++){var c=this[u];if(s.call(a,c,u,this))return u}}),Array.prototype.includes||o(Array.prototype,"includes",function(s,l){return this.indexOf(s,l)!=-1}),Array.prototype.fill||o(Array.prototype,"fill",function(s){for(var l=this,a=l.length>>>0,u=arguments[1],c=u>>0,h=c<0?Math.max(a+c,0):Math.min(c,a),f=arguments[2],p=f===void 0?a:f>>0,d=p<0?Math.max(a+p,0):Math.min(p,a);h<d;)l[h]=s,h++;return l}),Array.of||o(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,r,i){n("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,r,i){r.deepCopy=function o(s){if(typeof s!="object"||!s)return s;var l;if(Array.isArray(s)){l=[];for(var a=0;a<s.length;a++)l[a]=o(s[a]);return l}if(Object.prototype.toString.call(s)!=="[object Object]")return s;l={};for(var a in s)l[a]=o(s[a]);return l}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){r.last=function(l){return l[l.length-1]},r.stringReverse=function(l){return l.split("").reverse().join("")},r.stringRepeat=function(l,a){for(var u="";a>0;)a&1&&(u+=l),(a>>=1)&&(l+=l);return u};var o=/^\s\s*/,s=/\s\s*$/;r.stringTrimLeft=function(l){return l.replace(o,"")},r.stringTrimRight=function(l){return l.replace(s,"")},r.copyObject=function(l){var a={};for(var u in l)a[u]=l[u];return a},r.copyArray=function(l){for(var a=[],u=0,c=l.length;u<c;u++)l[u]&&typeof l[u]=="object"?a[u]=this.copyObject(l[u]):a[u]=l[u];return a},r.deepCopy=n("./deep_copy").deepCopy,r.arrayToMap=function(l){for(var a={},u=0;u<l.length;u++)a[l[u]]=1;return a},r.createMap=function(l){var a=Object.create(null);for(var u in l)a[u]=l[u];return a},r.arrayRemove=function(l,a){for(var u=0;u<=l.length;u++)a===l[u]&&l.splice(u,1)},r.escapeRegExp=function(l){return l.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(l){return(""+l).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(l,a){var u=[];return l.replace(a,function(c){u.push({offset:arguments[arguments.length-2],length:c.length})}),u},r.deferredCall=function(l){var a=null,u=function(){a=null,l()},c=function(h){return c.cancel(),a=setTimeout(u,h||0),c};return c.schedule=c,c.call=function(){return this.cancel(),l(),c},c.cancel=function(){return clearTimeout(a),a=null,c},c.isPending=function(){return a},c},r.delayedCall=function(l,a){var u=null,c=function(){u=null,l()},h=function(f){u==null&&(u=setTimeout(c,f||a))};return h.delay=function(f){u&&clearTimeout(u),u=setTimeout(c,f||a)},h.schedule=h,h.call=function(){this.cancel(),l()},h.cancel=function(){u&&clearTimeout(u),u=null},h.isPending=function(){return u},h},r.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},r.skipEmptyMatch=function(l,a,u){return u&&l.codePointAt(a)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,r,i){r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var o=typeof navigator=="object"?navigator:{},s=(/mac|win|linux/i.exec(o.platform)||["other"])[0].toLowerCase(),l=o.userAgent||"",a=o.appName||"";r.isWin=s=="win",r.isMac=s=="mac",r.isLinux=s=="linux",r.isIE=a=="Microsoft Internet Explorer"||a.indexOf("MSAppHost")>=0?parseFloat((l.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((l.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=l.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(l.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(l.split(" Chrome/")[1])||void 0,r.isSafari=parseFloat(l.split(" Safari/")[1])&&!r.isChrome||void 0,r.isEdge=parseFloat(l.split(" Edge/")[1])||void 0,r.isAIR=l.indexOf("AdobeAIR")>=0,r.isAndroid=l.indexOf("Android")>=0,r.isChromeOS=l.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(l)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,r,i){var o=n("./useragent"),s="http://www.w3.org/1999/xhtml";r.buildDom=function f(p,d,g){if(typeof p=="string"&&p){var m=document.createTextNode(p);return d&&d.appendChild(m),m}if(!Array.isArray(p))return p&&p.appendChild&&d&&d.appendChild(p),p;if(typeof p[0]!="string"||!p[0]){for(var v=[],b=0;b<p.length;b++){var C=f(p[b],d,g);C&&v.push(C)}return v}var x=document.createElement(p[0]),_=p[1],w=1;_&&typeof _=="object"&&!Array.isArray(_)&&(w=2);for(var b=w;b<p.length;b++)f(p[b],x,g);return w==2&&Object.keys(_).forEach(function(y){var S=_[y];y==="class"?x.className=Array.isArray(S)?S.join(" "):S:typeof S=="function"||y=="value"||y[0]=="$"?x[y]=S:y==="ref"?g&&(g[S]=x):y==="style"?typeof S=="string"&&(x.style.cssText=S):S!=null&&x.setAttribute(y,S)}),d&&d.appendChild(x),x},r.getDocumentHead=function(f){return f||(f=document),f.head||f.getElementsByTagName("head")[0]||f.documentElement},r.createElement=function(f,p){return document.createElementNS?document.createElementNS(p||s,f):document.createElement(f)},r.removeChildren=function(f){f.innerHTML=""},r.createTextNode=function(f,p){var d=p?p.ownerDocument:document;return d.createTextNode(f)},r.createFragment=function(f){var p=f?f.ownerDocument:document;return p.createDocumentFragment()},r.hasCssClass=function(f,p){var d=(f.className+"").split(/\s+/g);return d.indexOf(p)!==-1},r.addCssClass=function(f,p){r.hasCssClass(f,p)||(f.className+=" "+p)},r.removeCssClass=function(f,p){for(var d=f.className.split(/\s+/g);;){var g=d.indexOf(p);if(g==-1)break;d.splice(g,1)}f.className=d.join(" ")},r.toggleCssClass=function(f,p){for(var d=f.className.split(/\s+/g),g=!0;;){var m=d.indexOf(p);if(m==-1)break;g=!1,d.splice(m,1)}return g&&d.push(p),f.className=d.join(" "),g},r.setCssClass=function(f,p,d){d?r.addCssClass(f,p):r.removeCssClass(f,p)},r.hasCssString=function(f,p){var d=0,g;if(p=p||document,g=p.querySelectorAll("style")){for(;d<g.length;)if(g[d++].id===f)return!0}},r.removeElementById=function(f,p){p=p||document,p.getElementById(f)&&p.getElementById(f).remove()};var l,a=[];r.useStrictCSP=function(f){l=f,f==!1?u():a||(a=[])};function u(){var f=a;a=null,f&&f.forEach(function(p){c(p[0],p[1])})}function c(f,p,d){if(!(typeof document>"u")){if(a){if(d)u();else if(d===!1)return a.push([f,p])}if(!l){var g=d;!d||!d.getRootNode?g=document:(g=d.getRootNode(),(!g||g==d)&&(g=document));var m=g.ownerDocument||g;if(p&&r.hasCssString(p,g))return null;p&&(f+=`
/*# sourceURL=ace/css/`+p+" */");var v=r.createElement("style");v.appendChild(m.createTextNode(f)),p&&(v.id=p),g==m&&(g=r.getDocumentHead(m)),g.insertBefore(v,g.firstChild)}}}if(r.importCssString=c,r.importCssStylsheet=function(f,p){r.buildDom(["link",{rel:"stylesheet",href:f}],r.getDocumentHead(p))},r.scrollbarWidth=function(f){var p=r.createElement("ace_inner");p.style.width="100%",p.style.minWidth="0px",p.style.height="200px",p.style.display="block";var d=r.createElement("ace_outer"),g=d.style;g.position="absolute",g.left="-10000px",g.overflow="hidden",g.width="200px",g.minWidth="0px",g.height="150px",g.display="block",d.appendChild(p);var m=f&&f.documentElement||document&&document.documentElement;if(!m)return 0;m.appendChild(d);var v=p.offsetWidth;g.overflow="scroll";var b=p.offsetWidth;return v===b&&(b=d.clientWidth),m.removeChild(d),v-b},r.computedStyle=function(f,p){return window.getComputedStyle(f,"")||{}},r.setStyle=function(f,p,d){f[p]!==d&&(f[p]=d)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=o.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,o.isChromeOS&&(r.HI_DPI=!1),typeof document<"u"){var h=document.createElement("div");r.HI_DPI&&h.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!o.isEdge&&typeof h.style.animationName<"u"&&(r.HAS_CSS_ANIMATION=!0),h=null}r.HAS_CSS_TRANSFORMS?r.translate=function(f,p,d){f.style.transform="translate("+Math.round(p)+"px, "+Math.round(d)+"px)"}:r.translate=function(f,p,d){f.style.top=Math.round(d)+"px",f.style.left=Math.round(p)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,r,i){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var o=n("./dom");r.get=function(s,l){var a=new XMLHttpRequest;a.open("GET",s,!0),a.onreadystatechange=function(){a.readyState===4&&l(a.responseText)},a.send(null)},r.loadScript=function(s,l){var a=o.getDocumentHead(),u=document.createElement("script");u.src=s,a.appendChild(u),u.onload=u.onreadystatechange=function(c,h){(h||!u.readyState||u.readyState=="loaded"||u.readyState=="complete")&&(u=u.onload=u.onreadystatechange=null,h||l())}},r.qualifyURL=function(s){var l=document.createElement("a");return l.href=s,l.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(n,r,i){r.inherits=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(o,s){for(var l in s)o[l]=s[l];return o},r.implement=function(o,s){r.mixin(o,s)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,r,i){var o={},s=function(){this.propagationStopped=!0},l=function(){this.defaultPrevented=!0};o._emit=o._dispatchEvent=function(a,u){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[a]||[],h=this._defaultHandlers[a];if(!(!c.length&&!h)){(typeof u!="object"||!u)&&(u={}),u.type||(u.type=a),u.stopPropagation||(u.stopPropagation=s),u.preventDefault||(u.preventDefault=l),c=c.slice();for(var f=0;f<c.length&&(c[f](u,this),!u.propagationStopped);f++);if(h&&!u.defaultPrevented)return h(u,this)}},o._signal=function(a,u){var c=(this._eventRegistry||{})[a];if(c){c=c.slice();for(var h=0;h<c.length;h++)c[h](u,this)}},o.once=function(a,u){var c=this;if(this.on(a,function h(){c.off(a,h),u.apply(null,arguments)}),!u)return new Promise(function(h){u=h})},o.setDefaultHandler=function(a,u){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[a]){var h=c[a],f=c._disabled_[a];f||(c._disabled_[a]=f=[]),f.push(h);var p=f.indexOf(u);p!=-1&&f.splice(p,1)}c[a]=u},o.removeDefaultHandler=function(a,u){var c=this._defaultHandlers;if(c){var h=c._disabled_[a];if(c[a]==u)h&&this.setDefaultHandler(a,h.pop());else if(h){var f=h.indexOf(u);f!=-1&&h.splice(f,1)}}},o.on=o.addEventListener=function(a,u,c){this._eventRegistry=this._eventRegistry||{};var h=this._eventRegistry[a];return h||(h=this._eventRegistry[a]=[]),h.indexOf(u)==-1&&h[c?"unshift":"push"](u),u},o.off=o.removeListener=o.removeEventListener=function(a,u){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(c){var h=c.indexOf(u);h!==-1&&c.splice(h,1)}},o.removeAllListeners=function(a){a||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[a]=void 0),this._defaultHandlers&&(this._defaultHandlers[a]=void 0)},r.EventEmitter=o}),ace.define("ace/lib/report_error",["require","exports","module"],function(n,r,i){r.reportError=function(s,l){var a=new Error(s);a.data=l,typeof console=="object"&&console.error&&console.error(a),setTimeout(function(){throw a})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(n,r,i){var o={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};r.defaultEnglishMessages=o}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(n,r,i){"no use strict";var o=n("./oop"),s=n("./event_emitter").EventEmitter,l=n("./report_error").reportError,a=n("./default_english_messages").defaultEnglishMessages,u={setOptions:function(d){Object.keys(d).forEach(function(g){this.setOption(g,d[g])},this)},getOptions:function(d){var g={};if(d)Array.isArray(d)||(g=d,d=Object.keys(g));else{var m=this.$options;d=Object.keys(m).filter(function(v){return!m[v].hidden})}return d.forEach(function(v){g[v]=this.getOption(v)},this),g},setOption:function(d,g){if(this["$"+d]!==g){var m=this.$options[d];if(!m)return c('misspelled option "'+d+'"');if(m.forwardTo)return this[m.forwardTo]&&this[m.forwardTo].setOption(d,g);m.handlesSet||(this["$"+d]=g),m&&m.set&&m.set.call(this,g)}},getOption:function(d){var g=this.$options[d];return g?g.forwardTo?this[g.forwardTo]&&this[g.forwardTo].getOption(d):g&&g.get?g.get.call(this):this["$"+d]:c('misspelled option "'+d+'"')}};function c(d){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var h,f,p=function(){function d(){this.$defaultOptions={},h=a,f="dollarSigns"}return d.prototype.defineOptions=function(g,m,v){return g.$options||(this.$defaultOptions[m]=g.$options={}),Object.keys(v).forEach(function(b){var C=v[b];typeof C=="string"&&(C={forwardTo:C}),C.name||(C.name=b),g.$options[C.name]=C,"initialValue"in C&&(g["$"+C.name]=C.initialValue)}),o.implement(g,u),this},d.prototype.resetOptions=function(g){Object.keys(g.$options).forEach(function(m){var v=g.$options[m];"value"in v&&g.setOption(m,v.value)})},d.prototype.setDefaultValue=function(g,m,v){if(!g){for(g in this.$defaultOptions)if(this.$defaultOptions[g][m])break;if(!this.$defaultOptions[g][m])return!1}var b=this.$defaultOptions[g]||(this.$defaultOptions[g]={});b[m]&&(b.forwardTo?this.setDefaultValue(b.forwardTo,m,v):b[m].value=v)},d.prototype.setDefaultValues=function(g,m){Object.keys(m).forEach(function(v){this.setDefaultValue(g,v,m[v])},this)},d.prototype.setMessages=function(g,m){h=g,m&&m.placeholders&&(f=m.placeholders)},d.prototype.nls=function(g,m,v){h[g]||(c("No message found for the key '"+g+"' in the provided messages, trying to find a translation for the default string '"+m+"'."),h[m]||c("No message found for the default string '"+m+"' in the provided messages. Falling back to the default English message."));var b=h[g]||h[m]||m;return v&&(f==="dollarSigns"&&(b=b.replace(/\$(\$|[\d]+)/g,function(C,x){return x=="$"?"$":v[x]})),f==="curlyBrackets"&&(b=b.replace(/\{([^\}]+)\}/g,function(C,x){return v[x]}))),b},d}();p.prototype.warn=c,p.prototype.reportError=l,o.implement(p.prototype,s),r.AppConfig=p}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-tm",r.cssText=n("./textmate-css"),r.$id="ace/theme/textmate";var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,r,i){"no use strict";var o=n("./lib/lang"),s=n("./lib/net"),l=n("./lib/dom"),a=n("./lib/app_config").AppConfig;i.exports=r=new a;var u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(p){if(!u.hasOwnProperty(p))throw new Error("Unknown config key: "+p);return u[p]},r.set=function(p,d){if(u.hasOwnProperty(p))u[p]=d;else if(this.setDefaultValue("",p,d)==!1)throw new Error("Unknown config key: "+p);p=="useStrictCSP"&&l.useStrictCSP(d)},r.all=function(){return o.copyObject(u)},r.$modes={},r.moduleUrl=function(p,d){if(u.$moduleUrls[p])return u.$moduleUrls[p];var g=p.split("/");d=d||g[g.length-2]||"";var m=d=="snippets"?"/":"-",v=g[g.length-1];if(d=="worker"&&m=="-"){var b=new RegExp("^"+d+"[\\-_]|[\\-_]"+d+"$","g");v=v.replace(b,"")}(!v||v==d)&&g.length>1&&(v=g[g.length-2]);var C=u[d+"Path"];return C==null?C=u.basePath:m=="/"&&(d=m=""),C&&C.slice(-1)!="/"&&(C+="/"),C+d+m+v+this.get("suffix")},r.setModuleUrl=function(p,d){return u.$moduleUrls[p]=d};var c=function(p,d){if(p==="ace/theme/textmate"||p==="./theme/textmate")return d(null,n("./theme/textmate"));if(h)return h(p,d);console.error("loader is not configured")},h;r.setLoader=function(p){h=p},r.dynamicModules=Object.create(null),r.$loading={},r.$loaded={},r.loadModule=function(p,d){var g;if(Array.isArray(p))var m=p[0],v=p[1];else if(typeof p=="string")var v=p;var b=function(C){if(C&&!r.$loading[v])return d&&d(C);if(r.$loading[v]||(r.$loading[v]=[]),r.$loading[v].push(d),!(r.$loading[v].length>1)){var x=function(){c(v,function(_,w){w&&(r.$loaded[v]=w),r._emit("load.module",{name:v,module:w});var y=r.$loading[v];r.$loading[v]=null,y.forEach(function(S){S&&S(w)})})};if(!r.get("packaged"))return x();s.loadScript(r.moduleUrl(v,m),x),f()}};if(r.dynamicModules[v])r.dynamicModules[v]().then(function(C){C.default?b(C.default):b(C)});else{try{g=this.$require(v)}catch{}b(g||r.$loaded[v])}},r.$require=function(p){if(typeof i.require=="function"){var d="require";return i[d](p)}},r.setModuleLoader=function(p,d){r.dynamicModules[p]=d};var f=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),f=function(){})};r.version="1.36.4"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,r,i){n("./lib/fixoldbrowsers");var o=n("./config");o.setLoader(function(u,c){n([u],function(h){c(null,h)})});var s=function(){return this||typeof window<"u"&&window}();i.exports=function(u){o.init=l,o.$require=n,u.require=n},l(!0);function l(u){if(!(!s||!s.document)){o.set("packaged",u||n.packaged||i.packaged||s.define&&(void 0).packaged);var c={},h="",f=document.currentScript||document._currentScript,p=f&&f.ownerDocument||document;f&&f.src&&(h=f.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var d=p.getElementsByTagName("script"),g=0;g<d.length;g++){var m=d[g],v=m.src||m.getAttribute("src");if(v){for(var b=m.attributes,C=0,x=b.length;C<x;C++){var _=b[C];_.name.indexOf("data-ace-")===0&&(c[a(_.name.replace(/^data-ace-/,""))]=_.value)}var w=v.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);w&&(h=w[1])}}h&&(c.base=c.base||h,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var y in c)typeof c[y]<"u"&&o.set(y,c[y])}}function a(u){return u.replace(/-(.)/g,function(c,h){return h.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(n,r,i){var o=function(){function s(l,a,u,c){this.start={row:l,column:a},this.end={row:u,column:c}}return s.prototype.isEqual=function(l){return this.start.row===l.start.row&&this.end.row===l.end.row&&this.start.column===l.start.column&&this.end.column===l.end.column},s.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},s.prototype.contains=function(l,a){return this.compare(l,a)==0},s.prototype.compareRange=function(l){var a,u=l.end,c=l.start;return a=this.compare(u.row,u.column),a==1?(a=this.compare(c.row,c.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(c.row,c.column),a==-1?-1:a==1?42:0)},s.prototype.comparePoint=function(l){return this.compare(l.row,l.column)},s.prototype.containsRange=function(l){return this.comparePoint(l.start)==0&&this.comparePoint(l.end)==0},s.prototype.intersects=function(l){var a=this.compareRange(l);return a==-1||a==0||a==1},s.prototype.isEnd=function(l,a){return this.end.row==l&&this.end.column==a},s.prototype.isStart=function(l,a){return this.start.row==l&&this.start.column==a},s.prototype.setStart=function(l,a){typeof l=="object"?(this.start.column=l.column,this.start.row=l.row):(this.start.row=l,this.start.column=a)},s.prototype.setEnd=function(l,a){typeof l=="object"?(this.end.column=l.column,this.end.row=l.row):(this.end.row=l,this.end.column=a)},s.prototype.inside=function(l,a){return this.compare(l,a)==0?!(this.isEnd(l,a)||this.isStart(l,a)):!1},s.prototype.insideStart=function(l,a){return this.compare(l,a)==0?!this.isEnd(l,a):!1},s.prototype.insideEnd=function(l,a){return this.compare(l,a)==0?!this.isStart(l,a):!1},s.prototype.compare=function(l,a){return!this.isMultiLine()&&l===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:l<this.start.row?-1:l>this.end.row?1:this.start.row===l?a>=this.start.column?0:-1:this.end.row===l?a<=this.end.column?0:1:0},s.prototype.compareStart=function(l,a){return this.start.row==l&&this.start.column==a?-1:this.compare(l,a)},s.prototype.compareEnd=function(l,a){return this.end.row==l&&this.end.column==a?1:this.compare(l,a)},s.prototype.compareInside=function(l,a){return this.end.row==l&&this.end.column==a?1:this.start.row==l&&this.start.column==a?-1:this.compare(l,a)},s.prototype.clipRows=function(l,a){if(this.end.row>a)var u={row:a+1,column:0};else if(this.end.row<l)var u={row:l,column:0};if(this.start.row>a)var c={row:a+1,column:0};else if(this.start.row<l)var c={row:l,column:0};return s.fromPoints(c||this.start,u||this.end)},s.prototype.extend=function(l,a){var u=this.compare(l,a);if(u==0)return this;if(u==-1)var c={row:l,column:a};else var h={row:l,column:a};return s.fromPoints(c||this.start,h||this.end)},s.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},s.prototype.isMultiLine=function(){return this.start.row!==this.end.row},s.prototype.clone=function(){return s.fromPoints(this.start,this.end)},s.prototype.collapseRows=function(){return this.end.column==0?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)},s.prototype.toScreenRange=function(l){var a=l.documentToScreenPosition(this.start),u=l.documentToScreenPosition(this.end);return new s(a.row,a.column,u.row,u.column)},s.prototype.moveBy=function(l,a){this.start.row+=l,this.start.column+=a,this.end.row+=l,this.end.column+=a},s}();o.fromPoints=function(s,l){return new o(s.row,s.column,l.row,l.column)},o.comparePoints=function(s,l){return s.row-l.row||s.column-l.column},r.Range=o}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,r,i){for(var o=n("./oop"),s={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},l={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},a=0;a<10;a++)l["Digit"+a]=48+a,l["Numpad"+a]=96+a,s.PRINTABLE_KEYS[48+a]=""+a,s.FUNCTION_KEYS[96+a]="Numpad"+a;for(var a=65;a<91;a++){var u=String.fromCharCode(a+32);l["Key"+u.toUpperCase()]=a,s.PRINTABLE_KEYS[a]=u}for(var a=1;a<13;a++)l["F"+a]=111+a,s.FUNCTION_KEYS[111+a]="F"+a;var c={Shift:16,Control:17,Alt:18,Meta:224};for(var h in c)l[h]=l[h+"Left"]=l[h+"Right"]=c[h];r.$codeToKeyCode=l,s.PRINTABLE_KEYS[173]="-";for(var f in s.FUNCTION_KEYS){var p=s.FUNCTION_KEYS[f].toLowerCase();s[p]=parseInt(f,10)}for(var f in s.PRINTABLE_KEYS){var p=s.PRINTABLE_KEYS[f].toLowerCase();s[p]=parseInt(f,10)}o.mixin(s,s.MODIFIER_KEYS),o.mixin(s,s.PRINTABLE_KEYS),o.mixin(s,s.FUNCTION_KEYS),s.enter=s.return,s.escape=s.esc,s.del=s.delete,function(){for(var d=["cmd","ctrl","alt","shift"],g=Math.pow(2,d.length);g--;)s.KEY_MODS[g]=d.filter(function(m){return g&s.KEY_MODS[m]}).join("-")+"-"}(),s.KEY_MODS[0]="",s.KEY_MODS[-1]="input-",o.mixin(r,s),r.default=r,r.keyCodeToString=function(d){var g=s[d];return typeof g!="string"&&(g=String.fromCharCode(d)),g.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var o=n("./keys"),s=n("./useragent"),l=null,a=0,u;function c(){u=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return u={passive:!1},!0}})}catch{}}function h(){return u==null&&c(),u}function f(C,x,_){this.elem=C,this.type=x,this.callback=_}f.prototype.destroy=function(){d(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var p=r.addListener=function(C,x,_,w){C.addEventListener(x,_,h()),w&&w.$toDestroy.push(new f(C,x,_))},d=r.removeListener=function(C,x,_){C.removeEventListener(x,_,h())};r.stopEvent=function(C){return r.stopPropagation(C),r.preventDefault(C),!1},r.stopPropagation=function(C){C.stopPropagation&&C.stopPropagation()},r.preventDefault=function(C){C.preventDefault&&C.preventDefault()},r.getButton=function(C){return C.type=="dblclick"?0:C.type=="contextmenu"||s.isMac&&C.ctrlKey&&!C.altKey&&!C.shiftKey?2:C.button},r.capture=function(C,x,_){var w=C&&C.ownerDocument||document;function y(S){x&&x(S),_&&_(S),d(w,"mousemove",x),d(w,"mouseup",y),d(w,"dragstart",y)}return p(w,"mousemove",x),p(w,"mouseup",y),p(w,"dragstart",y),y},r.addMouseWheelListener=function(C,x,_){p(C,"wheel",function(w){var y=.15,S=w.deltaX||0,A=w.deltaY||0;switch(w.deltaMode){case w.DOM_DELTA_PIXEL:w.wheelX=S*y,w.wheelY=A*y;break;case w.DOM_DELTA_LINE:var M=15;w.wheelX=S*M,w.wheelY=A*M;break;case w.DOM_DELTA_PAGE:var R=150;w.wheelX=S*R,w.wheelY=A*R;break}x(w)},_)},r.addMultiMouseDownListener=function(C,x,_,w,y){var S=0,A,M,R,k={2:"dblclick",3:"tripleclick",4:"quadclick"};function $(E){if(r.getButton(E)!==0?S=0:E.detail>1?(S++,S>4&&(S=1)):S=1,s.isIE){var L=Math.abs(E.clientX-A)>5||Math.abs(E.clientY-M)>5;(!R||L)&&(S=1),R&&clearTimeout(R),R=setTimeout(function(){R=null},x[S-1]||600),S==1&&(A=E.clientX,M=E.clientY)}if(E._clicks=S,_[w]("mousedown",E),S>4)S=0;else if(S>1)return _[w](k[S],E)}Array.isArray(C)||(C=[C]),C.forEach(function(E){p(E,"mousedown",$,y)})};function g(C){return 0|(C.ctrlKey?1:0)|(C.altKey?2:0)|(C.shiftKey?4:0)|(C.metaKey?8:0)}r.getModifierString=function(C){return o.KEY_MODS[g(C)]};function m(C,x,_){var w=g(x);if(!_&&x.code&&(_=o.$codeToKeyCode[x.code]||_),!s.isMac&&l){if(x.getModifierState&&(x.getModifierState("OS")||x.getModifierState("Win"))&&(w|=8),l.altGr)if((3&w)!=3)l.altGr=0;else return;if(_===18||_===17){var y=x.location;if(_===17&&y===1)l[_]==1&&(a=x.timeStamp);else if(_===18&&w===3&&y===2){var S=x.timeStamp-a;S<50&&(l.altGr=!0)}}}if(_ in o.MODIFIER_KEYS&&(_=-1),!(!w&&_===13&&x.location===3&&(C(x,w,-_),x.defaultPrevented))){if(s.isChromeOS&&w&8){if(C(x,w,_),x.defaultPrevented)return;w&=-9}return!w&&!(_ in o.FUNCTION_KEYS)&&!(_ in o.PRINTABLE_KEYS)?!1:C(x,w,_)}}r.addCommandKeyListener=function(C,x,_){var w=null;p(C,"keydown",function(y){l[y.keyCode]=(l[y.keyCode]||0)+1;var S=m(x,y,y.keyCode);return w=y.defaultPrevented,S},_),p(C,"keypress",function(y){w&&(y.ctrlKey||y.altKey||y.shiftKey||y.metaKey)&&(r.stopEvent(y),w=null)},_),p(C,"keyup",function(y){l[y.keyCode]=null},_),l||(v(),p(window,"focus",v))};function v(){l=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!s.isOldIE){var b=1;r.nextTick=function(C,x){x=x||window;var _="zero-timeout-message-"+b++,w=function(y){y.data==_&&(r.stopPropagation(y),d(x,"message",w),C())};p(x,"message",w),x.postMessage(_,"*")}}r.$idleBlocked=!1,r.onIdle=function(C,x){return setTimeout(function _(){r.$idleBlocked?setTimeout(_,100):C()},x)},r.$idleBlockId=null,r.blockIdle=function(C){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},C||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(C){setTimeout(C,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(n,r,i){var o;i.exports={lineMode:!1,pasteCancelled:function(){return o&&o>Date.now()-50?!0:o=!1},cancel:function(){o=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,r,i){var o=n("../lib/event"),s=n("../config").nls,l=n("../lib/useragent"),a=n("../lib/dom"),u=n("../lib/lang"),c=n("../clipboard"),h=l.isChrome<18,f=l.isIE,p=l.isChrome>63,d=400,g=n("../lib/keys"),m=g.KEY_MODS,v=l.isIOS,b=v?/\s/:/\n/,C=l.isMobile,x;x=function(_,w){var y=a.createElement("textarea");y.className="ace_text-input",y.setAttribute("wrap","off"),y.setAttribute("autocorrect","off"),y.setAttribute("autocapitalize","off"),y.setAttribute("spellcheck","false"),y.style.opacity="0",_.insertBefore(y,_.firstChild);var S=!1,A=!1,M=!1,R=!1,k="";C||(y.style.fontSize="1px");var $=!1,E=!1,L="",P=0,I=0,D=0,W=Number.MAX_SAFE_INTEGER,z=Number.MIN_SAFE_INTEGER,G=0;try{var Z=document.activeElement===y}catch{}this.setNumberOfExtraLines=function(de){if(W=Number.MAX_SAFE_INTEGER,z=Number.MIN_SAFE_INTEGER,de<0){G=0;return}G=de},this.setAriaLabel=function(){var de="";if(w.$textInputAriaLabel&&(de+="".concat(w.$textInputAriaLabel,", ")),w.session){var Le=w.session.selection.cursor.row;de+=s("text-input.aria-label","Cursor at row $0",[Le+1])}y.setAttribute("aria-label",de)},this.setAriaOptions=function(de){de.activeDescendant?(y.setAttribute("aria-haspopup","true"),y.setAttribute("aria-autocomplete",de.inline?"both":"list"),y.setAttribute("aria-activedescendant",de.activeDescendant)):(y.setAttribute("aria-haspopup","false"),y.setAttribute("aria-autocomplete","both"),y.removeAttribute("aria-activedescendant")),de.role&&y.setAttribute("role",de.role),de.setLabel&&(y.setAttribute("aria-roledescription",s("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),o.addListener(y,"blur",function(de){E||(w.onBlur(de),Z=!1)},w),o.addListener(y,"focus",function(de){if(!E){if(Z=!0,l.isEdge)try{if(!document.hasFocus())return}catch{}w.onFocus(de),l.isEdge?setTimeout(X):X()}},w),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:w.renderer.enableKeyboardAccessibility}),k||p||this.$focusScroll=="browser")return y.focus({preventScroll:!0});var de=y.style.top;y.style.position="fixed",y.style.top="0px";try{var Le=y.getBoundingClientRect().top!=0}catch{return}var Oe=[];if(Le)for(var at=y.parentElement;at&&at.nodeType==1;)Oe.push(at),at.setAttribute("ace_nocontext","true"),!at.parentElement&&at.getRootNode?at=at.getRootNode().host:at=at.parentElement;y.focus({preventScroll:!0}),Le&&Oe.forEach(function(Ke){Ke.removeAttribute("ace_nocontext")}),setTimeout(function(){y.style.position="",y.style.top=="0px"&&(y.style.top=de)},0)},this.blur=function(){y.blur()},this.isFocused=function(){return Z},w.on("beforeEndOperation",function(){var de=w.curOp,Le=de&&de.command&&de.command.name;if(Le!="insertstring"){var Oe=Le&&(de.docChanged||de.selectionChanged);M&&Oe&&(L=y.value="",qe()),X()}}),w.on("changeSelection",this.setAriaLabel);var q=function(de,Le){for(var Oe=Le,at=1;at<=de-W&&at<2*G+1;at++)Oe+=w.session.getLine(de-at).length+1;return Oe},X=v?function(de){if(!(!Z||S&&!de||R)){de||(de="");var Le=`
 ab`+de+`cde fg
`;Le!=y.value&&(y.value=L=Le);var Oe=4,at=4+(de.length||(w.selection.isEmpty()?0:1));(P!=Oe||I!=at)&&y.setSelectionRange(Oe,at),P=Oe,I=at}}:function(){if(!(M||R)&&!(!Z&&!ie)){M=!0;var de=0,Le=0,Oe="";if(w.session){var at=w.selection,Ke=at.getRange(),Se=at.cursor.row;Se===z+1?(W=z+1,z=W+2*G):Se===W-1?(z=W-1,W=z-2*G):(Se<W-1||Se>z+1)&&(W=Se>G?Se-G:0,z=Se>G?Se+G:2*G);for(var Be=[],ze=W;ze<=z;ze++)Be.push(w.session.getLine(ze));if(Oe=Be.join(`
`),de=q(Ke.start.row,Ke.start.column),Le=q(Ke.end.row,Ke.end.column),Ke.start.row<W){var Ye=w.session.getLine(W-1);de=Ke.start.row<W-1?0:de,Le+=Ye.length+1,Oe=Ye+`
`+Oe}else if(Ke.end.row>z){var rt=w.session.getLine(z+1);Le=Ke.end.row>z+1?rt.length:Ke.end.column,Le+=Oe.length+1,Oe=Oe+`
`+rt}else C&&Se>0&&(Oe=`
`+Oe,Le+=1,de+=1);Oe.length>d&&(de<d&&Le<d?Oe=Oe.slice(0,d):(Oe=`
`,de==Le?de=Le=0:(de=0,Le=1)));var ln=Oe+`

`;ln!=L&&(y.value=L=ln,P=I=ln.length)}if(ie&&(P=y.selectionStart,I=y.selectionEnd),I!=Le||P!=de||y.selectionEnd!=I)try{y.setSelectionRange(de,Le),P=de,I=Le}catch{}M=!1}};this.resetSelection=X,Z&&w.onFocus();var Y=function(de){return de.selectionStart===0&&de.selectionEnd>=L.length&&de.value===L&&L&&de.selectionEnd!==I},ee=function(de){M||(S?S=!1:Y(y)?(w.selectAll(),X()):C&&y.selectionStart!=P&&X())},re=null;this.setInputHandler=function(de){re=de},this.getInputHandler=function(){return re};var ie=!1,ue=function(de,Le){if(ie&&(ie=!1),A)return X(),de&&w.onPaste(de),A=!1,"";for(var Oe=y.selectionStart,at=y.selectionEnd,Ke=P,Se=L.length-I,Be=de,ze=de.length-Oe,Ye=de.length-at,rt=0;Ke>0&&L[rt]==de[rt];)rt++,Ke--;for(Be=Be.slice(rt),rt=1;Se>0&&L.length-rt>P-1&&L[L.length-rt]==de[de.length-rt];)rt++,Se--;ze-=rt-1,Ye-=rt-1;var ln=Be.length-rt+1;if(ln<0&&(Ke=-ln,ln=0),Be=Be.slice(0,ln),!Le&&!Be&&!ze&&!Ke&&!Se&&!Ye)return"";R=!0;var ir=!1;return l.isAndroid&&Be==". "&&(Be="  ",ir=!0),Be&&!Ke&&!Se&&!ze&&!Ye||$?w.onTextInput(Be):w.onTextInput(Be,{extendLeft:Ke,extendRight:Se,restoreStart:ze,restoreEnd:Ye}),R=!1,L=de,P=Oe,I=at,D=Ye,ir?`
`:Be},he=function(de){if(M)return st();if(de&&de.inputType){if(de.inputType=="historyUndo")return w.execCommand("undo");if(de.inputType=="historyRedo")return w.execCommand("redo")}var Le=y.value,Oe=ue(Le,!0);(Le.length>d+100||b.test(Oe)||C&&P<1&&P==I)&&X()},_e=function(de,Le,Oe){var at=de.clipboardData||window.clipboardData;if(!(!at||h)){var Ke=f||Oe?"Text":"text/plain";try{return Le?at.setData(Ke,Le)!==!1:at.getData(Ke)}catch(Se){if(!Oe)return _e(Se,Le,!0)}}},Te=function(de,Le){var Oe=w.getCopyText();if(!Oe)return o.preventDefault(de);_e(de,Oe)?(v&&(X(Oe),S=Oe,setTimeout(function(){S=!1},10)),Le?w.onCut():w.onCopy(),o.preventDefault(de)):(S=!0,y.value=Oe,y.select(),setTimeout(function(){S=!1,X(),Le?w.onCut():w.onCopy()}))},tt=function(de){Te(de,!0)},ot=function(de){Te(de,!1)},we=function(de){var Le=_e(de);c.pasteCancelled()||(typeof Le=="string"?(Le&&w.onPaste(Le,de),l.isIE&&setTimeout(X),o.preventDefault(de)):(y.value="",A=!0))};o.addCommandKeyListener(y,function(de,Le,Oe){if(!M)return w.onCommandKey(de,Le,Oe)},w),o.addListener(y,"select",ee,w),o.addListener(y,"input",he,w),o.addListener(y,"cut",tt,w),o.addListener(y,"copy",ot,w),o.addListener(y,"paste",we,w),(!("oncut"in y)||!("oncopy"in y)||!("onpaste"in y))&&o.addListener(_,"keydown",function(de){if(!(l.isMac&&!de.metaKey||!de.ctrlKey))switch(de.keyCode){case 67:ot(de);break;case 86:we(de);break;case 88:tt(de);break}},w);var Ae=function(de){if(!(M||!w.onCompositionStart||w.$readOnly)&&(M={},!$)){de.data&&(M.useTextareaForIME=!1),setTimeout(st,0),w._signal("compositionStart"),w.on("mousedown",Ue);var Le=w.getSelectionRange();Le.end.row=Le.start.row,Le.end.column=Le.start.column,M.markerRange=Le,M.selectionStart=P,w.onCompositionStart(M),M.useTextareaForIME?(L=y.value="",P=0,I=0):(y.msGetInputContext&&(M.context=y.msGetInputContext()),y.getInputContext&&(M.context=y.getInputContext()))}},st=function(){if(!(!M||!w.onCompositionUpdate||w.$readOnly)){if($)return Ue();if(M.useTextareaForIME)w.onCompositionUpdate(y.value);else{var de=y.value;ue(de),M.markerRange&&(M.context&&(M.markerRange.start.column=M.selectionStart=M.context.compositionStartOffset),M.markerRange.end.column=M.markerRange.start.column+I-M.selectionStart+D)}}},qe=function(de){!w.onCompositionEnd||w.$readOnly||(M=!1,w.onCompositionEnd(),w.off("mousedown",Ue),de&&he())};function Ue(){E=!0,y.blur(),y.focus(),E=!1}var _t=u.delayedCall(st,50).schedule.bind(null,null);function Jt(de){de.keyCode==27&&y.value.length<y.selectionStart&&(M||(L=y.value),P=I=-1,X()),_t()}o.addListener(y,"compositionstart",Ae,w),o.addListener(y,"compositionupdate",st,w),o.addListener(y,"keyup",Jt,w),o.addListener(y,"keydown",_t,w),o.addListener(y,"compositionend",qe,w),this.getElement=function(){return y},this.setCommandMode=function(de){$=de,y.readOnly=!1},this.setReadOnly=function(de){$||(y.readOnly=de)},this.setCopyWithEmptySelection=function(de){},this.onContextMenu=function(de){ie=!0,X(),w._emit("nativecontextmenu",{target:w,domEvent:de}),this.moveToMouse(de,!0)},this.moveToMouse=function(de,Le){k||(k=y.style.cssText),y.style.cssText=(Le?"z-index:100000;":"")+(l.isIE?"opacity:0.1;":"")+"text-indent: -"+(P+I)*w.renderer.characterWidth*.5+"px;";var Oe=w.container.getBoundingClientRect(),at=a.computedStyle(w.container),Ke=Oe.top+(parseInt(at.borderTopWidth)||0),Se=Oe.left+(parseInt(Oe.borderLeftWidth)||0),Be=Oe.bottom-Ke-y.clientHeight-2,ze=function(Ye){a.translate(y,Ye.clientX-Se-2,Math.min(Ye.clientY-Ke-2,Be))};ze(de),de.type=="mousedown"&&(w.renderer.$isMousePressed=!0,clearTimeout(At),l.isWin&&o.capture(w.container,ze,an))},this.onContextMenuClose=an;var At;function an(){clearTimeout(At),At=setTimeout(function(){k&&(y.style.cssText=k,k=""),w.renderer.$isMousePressed=!1,w.renderer.$keepTextAreaAtCursor&&w.renderer.$moveTextAreaToCursor()},0)}var yn=function(de){w.textInput.onContextMenu(de),an()};o.addListener(y,"mouseup",yn,w),o.addListener(y,"mousedown",function(de){de.preventDefault(),an()},w),o.addListener(w.renderer.scroller,"contextmenu",yn,w),o.addListener(y,"contextmenu",yn,w),v&&Re(_,w,y);function Re(de,Le,Oe){var at=null,Ke=!1;Oe.addEventListener("keydown",function(Be){at&&clearTimeout(at),Ke=!0},!0),Oe.addEventListener("keyup",function(Be){at=setTimeout(function(){Ke=!1},100)},!0);var Se=function(Be){if(document.activeElement===Oe&&!(Ke||M||Le.$mouseHandler.isMousePressed)&&!S){var ze=Oe.selectionStart,Ye=Oe.selectionEnd,rt=null,ln=0;if(ze==0?rt=g.up:ze==1?rt=g.home:Ye>I&&L[Ye]==`
`?rt=g.end:ze<P&&L[ze-1]==" "?(rt=g.left,ln=m.option):ze<P||ze==P&&I!=P&&ze==Ye?rt=g.left:Ye>I&&L.slice(0,Ye).split(`
`).length>2?rt=g.down:Ye>I&&L[Ye-1]==" "?(rt=g.right,ln=m.option):(Ye>I||Ye==I&&I!=P&&ze==Ye)&&(rt=g.right),ze!==Ye&&(ln|=m.shift),rt){var ir=Le.onCommandKey({},ln,rt);if(!ir&&Le.commands){rt=g.keyCodeToString(rt);var oo=Le.commands.findKeyCommand(ln,rt);oo&&Le.execCommand(oo)}P=ze,I=Ye,X("")}}};document.addEventListener("selectionchange",Se),Le.on("destroy",function(){document.removeEventListener("selectionchange",Se)})}this.destroy=function(){y.parentElement&&y.parentElement.removeChild(y)}},r.TextInput=x,r.$setUserAgentForTests=function(_,w){C=_,v=w}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,r,i){var o=n("../lib/useragent"),s=0,l=550,a=function(){function h(f){f.$clickSelection=null;var p=f.editor;p.setDefaultHandler("mousedown",this.onMouseDown.bind(f)),p.setDefaultHandler("dblclick",this.onDoubleClick.bind(f)),p.setDefaultHandler("tripleclick",this.onTripleClick.bind(f)),p.setDefaultHandler("quadclick",this.onQuadClick.bind(f)),p.setDefaultHandler("mousewheel",this.onMouseWheel.bind(f));var d=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];d.forEach(function(g){f[g]=this[g]},this),f.selectByLines=this.extendSelectionBy.bind(f,"getLineRange"),f.selectByWords=this.extendSelectionBy.bind(f,"getWordRange")}return h.prototype.onMouseDown=function(f){var p=f.inSelection(),d=f.getDocumentPosition();this.mousedownEvent=f;var g=this.editor,m=f.getButton();if(m!==0){var v=g.getSelectionRange(),b=v.isEmpty();(b||m==1)&&g.selection.moveToPosition(d),m==2&&(g.textInput.onContextMenu(f.domEvent),o.isMozilla||f.preventDefault());return}if(this.mousedownEvent.time=Date.now(),p&&!g.isFocused()&&(g.focus(),this.$focusTimeout&&!this.$clickSelection&&!g.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(f);return}return this.captureMouse(f),this.startSelect(d,f.domEvent._clicks>1),f.preventDefault()},h.prototype.startSelect=function(f,p){f=f||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var d=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?d.selection.selectToPosition(f):p||d.selection.moveToPosition(f),p||this.select(),d.setStyle("ace_selecting"),this.setState("select"))},h.prototype.select=function(){var f,p=this.editor,d=p.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var g=this.$clickSelection.comparePoint(d);if(g==-1)f=this.$clickSelection.end;else if(g==1)f=this.$clickSelection.start;else{var m=c(this.$clickSelection,d);d=m.cursor,f=m.anchor}p.selection.setSelectionAnchor(f.row,f.column)}p.selection.selectToPosition(d),p.renderer.scrollCursorIntoView()},h.prototype.extendSelectionBy=function(f){var p,d=this.editor,g=d.renderer.screenToTextCoordinates(this.x,this.y),m=d.selection[f](g.row,g.column);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(m.start),b=this.$clickSelection.comparePoint(m.end);if(v==-1&&b<=0)p=this.$clickSelection.end,(m.end.row!=g.row||m.end.column!=g.column)&&(g=m.start);else if(b==1&&v>=0)p=this.$clickSelection.start,(m.start.row!=g.row||m.start.column!=g.column)&&(g=m.end);else if(v==-1&&b==1)g=m.end,p=m.start;else{var C=c(this.$clickSelection,g);g=C.cursor,p=C.anchor}d.selection.setSelectionAnchor(p.row,p.column)}d.selection.selectToPosition(g),d.renderer.scrollCursorIntoView()},h.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},h.prototype.focusWait=function(){var f=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),p=Date.now();(f>s||p-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},h.prototype.onDoubleClick=function(f){var p=f.getDocumentPosition(),d=this.editor,g=d.session,m=g.getBracketRange(p);m?(m.isEmpty()&&(m.start.column--,m.end.column++),this.setState("select")):(m=d.selection.getWordRange(p.row,p.column),this.setState("selectByWords")),this.$clickSelection=m,this.select()},h.prototype.onTripleClick=function(f){var p=f.getDocumentPosition(),d=this.editor;this.setState("selectByLines");var g=d.getSelectionRange();g.isMultiLine()&&g.contains(p.row,p.column)?(this.$clickSelection=d.selection.getLineRange(g.start.row),this.$clickSelection.end=d.selection.getLineRange(g.end.row).end):this.$clickSelection=d.selection.getLineRange(p.row),this.select()},h.prototype.onQuadClick=function(f){var p=this.editor;p.selectAll(),this.$clickSelection=p.getSelectionRange(),this.setState("selectAll")},h.prototype.onMouseWheel=function(f){if(!f.getAccelKey()){f.getShiftKey()&&f.wheelY&&!f.wheelX&&(f.wheelX=f.wheelY,f.wheelY=0);var p=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var d=this.$lastScroll,g=f.domEvent.timeStamp,m=g-d.t,v=m?f.wheelX/m:d.vx,b=m?f.wheelY/m:d.vy;m<l&&(v=(v+d.vx)/2,b=(b+d.vy)/2);var C=Math.abs(v/b),x=!1;if(C>=1&&p.renderer.isScrollableBy(f.wheelX*f.speed,0)&&(x=!0),C<=1&&p.renderer.isScrollableBy(0,f.wheelY*f.speed)&&(x=!0),x)d.allowed=g;else if(g-d.allowed<l){var _=Math.abs(v)<=1.5*Math.abs(d.vx)&&Math.abs(b)<=1.5*Math.abs(d.vy);_?(x=!0,d.allowed=g):d.allowed=0}if(d.t=g,d.vx=v,d.vy=b,x)return p.renderer.scrollBy(f.wheelX*f.speed,f.wheelY*f.speed),f.stop()}},h}();a.prototype.selectEnd=a.prototype.selectByLinesEnd,a.prototype.selectAllEnd=a.prototype.selectByLinesEnd,a.prototype.selectByWordsEnd=a.prototype.selectByLinesEnd,r.DefaultHandlers=a;function u(h,f,p,d){return Math.sqrt(Math.pow(p-h,2)+Math.pow(d-f,2))}function c(h,f){if(h.start.row==h.end.row)var p=2*f.column-h.start.column-h.end.column;else if(h.start.row==h.end.row-1&&!h.start.column&&!h.end.column)var p=f.column-4;else var p=2*f.row-h.start.row-h.end.row;return p<0?{cursor:h.start,anchor:h.end}:{cursor:h.end,anchor:h.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(n,r,i){r.preventParentScroll=function(s){s.stopPropagation();var l=s.currentTarget,a=l.scrollHeight>l.clientHeight;a||s.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,r,i){var o=this&&this.__extends||function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&(b[x]=C[x])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),s=this&&this.__values||function(g){var m=typeof Symbol=="function"&&Symbol.iterator,v=m&&g[m],b=0;if(v)return v.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&b>=g.length&&(g=void 0),{value:g&&g[b++],done:!g}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},l=n("./lib/dom");n("./lib/event");var a=n("./range").Range,u=n("./lib/scroll").preventParentScroll,c="ace_tooltip",h=function(){function g(m){this.isOpen=!1,this.$element=null,this.$parentNode=m}return g.prototype.$init=function(){return this.$element=l.createElement("div"),this.$element.className=c,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},g.prototype.getElement=function(){return this.$element||this.$init()},g.prototype.setText=function(m){this.getElement().textContent=m},g.prototype.setHtml=function(m){this.getElement().innerHTML=m},g.prototype.setPosition=function(m,v){this.getElement().style.left=m+"px",this.getElement().style.top=v+"px"},g.prototype.setClassName=function(m){l.addCssClass(this.getElement(),m)},g.prototype.setTheme=function(m){this.$element.className=c+" "+(m.isDark?"ace_dark ":"")+(m.cssClass||"")},g.prototype.show=function(m,v,b){m!=null&&this.setText(m),v!=null&&b!=null&&this.setPosition(v,b),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},g.prototype.hide=function(m){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=c,this.isOpen=!1)},g.prototype.getHeight=function(){return this.getElement().offsetHeight},g.prototype.getWidth=function(){return this.getElement().offsetWidth},g.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},g}(),f=function(){function g(){this.popups=[]}return g.prototype.addPopup=function(m){this.popups.push(m),this.updatePopups()},g.prototype.removePopup=function(m){var v=this.popups.indexOf(m);v!==-1&&(this.popups.splice(v,1),this.updatePopups())},g.prototype.updatePopups=function(){var m,v,b,C;this.popups.sort(function(k,$){return $.priority-k.priority});var x=[];try{for(var _=s(this.popups),w=_.next();!w.done;w=_.next()){var y=w.value,S=!0;try{for(var A=(b=void 0,s(x)),M=A.next();!M.done;M=A.next()){var R=M.value;if(this.doPopupsOverlap(R,y)){S=!1;break}}}catch(k){b={error:k}}finally{try{M&&!M.done&&(C=A.return)&&C.call(A)}finally{if(b)throw b.error}}S?x.push(y):y.hide()}}catch(k){m={error:k}}finally{try{w&&!w.done&&(v=_.return)&&v.call(_)}finally{if(m)throw m.error}}},g.prototype.doPopupsOverlap=function(m,v){var b=m.getElement().getBoundingClientRect(),C=v.getElement().getBoundingClientRect();return b.left<C.right&&b.right>C.left&&b.top<C.bottom&&b.bottom>C.top},g}(),p=new f;r.popupManager=p,r.Tooltip=h;var d=function(g){o(m,g);function m(v){v===void 0&&(v=document.body);var b=g.call(this,v)||this;b.timeout=void 0,b.lastT=0,b.idleTime=350,b.lastEvent=void 0,b.onMouseOut=b.onMouseOut.bind(b),b.onMouseMove=b.onMouseMove.bind(b),b.waitForHover=b.waitForHover.bind(b),b.hide=b.hide.bind(b);var C=b.getElement();return C.style.whiteSpace="pre-wrap",C.style.pointerEvents="auto",C.addEventListener("mouseout",b.onMouseOut),C.tabIndex=-1,C.addEventListener("blur",(function(){C.contains(document.activeElement)||this.hide()}).bind(b)),C.addEventListener("wheel",u),b}return m.prototype.addToEditor=function(v){v.on("mousemove",this.onMouseMove),v.on("mousedown",this.hide),v.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},m.prototype.removeFromEditor=function(v){v.off("mousemove",this.onMouseMove),v.off("mousedown",this.hide),v.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},m.prototype.onMouseMove=function(v,b){this.lastEvent=v,this.lastT=Date.now();var C=b.$mouseHandler.isMousePressed;if(this.isOpen){var x=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(x.row,x.column)||C||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||C||(this.lastEvent=v,this.timeout=setTimeout(this.waitForHover,this.idleTime))},m.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var v=Date.now()-this.lastT;if(this.idleTime-v>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-v);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},m.prototype.isOutsideOfText=function(v){var b=v.editor,C=v.getDocumentPosition(),x=b.session.getLine(C.row);if(C.column==x.length){var _=b.renderer.pixelToScreenCoordinates(v.clientX,v.clientY),w=b.session.documentToScreenPosition(C.row,C.column);if(w.column!=_.column||w.row!=_.row)return!0}return!1},m.prototype.setDataProvider=function(v){this.$gatherData=v},m.prototype.showForRange=function(v,b,C,x){var _=10;if(!(x&&x!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var w=v.renderer;this.isOpen||(p.addPopup(this),this.$registerCloseEvents(),this.setTheme(w.theme)),this.isOpen=!0,this.addMarker(b,v.session),this.range=a.fromPoints(b.start,b.end);var y=w.textToScreenCoordinates(b.start.row,b.start.column),S=w.scroller.getBoundingClientRect();y.pageX<S.left&&(y.pageX=S.left);var A=this.getElement();A.innerHTML="",A.appendChild(C),A.style.maxHeight="",A.style.display="block";var M=A.clientHeight,R=A.clientWidth,k=window.innerHeight-y.pageY-w.lineHeight,$=!0;y.pageY-M<0&&y.pageY<k&&($=!1),A.style.maxHeight=($?y.pageY:k)-_+"px",A.style.top=$?"":y.pageY+w.lineHeight+"px",A.style.bottom=$?window.innerHeight-y.pageY+"px":"",A.style.left=Math.min(y.pageX,window.innerWidth-R-_)+"px"}},m.prototype.addMarker=function(v,b){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=b,this.marker=b&&b.addMarker(v,"ace_highlight-marker","text")},m.prototype.hide=function(v){!v&&document.activeElement==this.getElement()||v&&v.target&&(v.type!="keydown"||v.ctrlKey||v.metaKey)&&this.$element.contains(v.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,p.removePopup(this)))},m.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},m.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},m.prototype.onMouseOut=function(v){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!v.relatedTarget||this.getElement().contains(v.relatedTarget)||v&&v.currentTarget.contains(v.relatedTarget)||v.relatedTarget.classList.contains("ace_content")||this.hide())},m}(h);r.HoverTooltip=d}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(n,r,i){var o=this&&this.__extends||function(){var p=function(d,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])},p(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(d,g);function m(){this.constructor=d}d.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),s=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&p[d],m=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&m>=p.length&&(p=void 0),{value:p&&p[m++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},l=n("../lib/dom"),a=n("../lib/event"),u=n("../tooltip").Tooltip,c=n("../config").nls;n("../lib/lang");function h(p){var d=p.editor,g=d.renderer.$gutterLayer,m=new f(d);p.editor.setDefaultHandler("guttermousedown",function(w){if(!(!d.isFocused()||w.getButton()!=0)){var y=g.getRegion(w);if(y!="foldWidgets"){var S=w.getDocumentPosition().row,A=d.session.selection;if(w.getShiftKey())A.selectTo(S,0);else{if(w.domEvent.detail==2)return d.selectAll(),w.preventDefault();p.$clickSelection=d.selection.getLineRange(S)}return p.setState("selectByLines"),p.captureMouse(w),w.preventDefault()}}});var v,b;function C(){var w=b.getDocumentPosition().row,y=d.session.getLength();if(w==y){var S=d.renderer.pixelToScreenCoordinates(0,b.y).row,A=b.$pos;if(S>d.session.documentToScreenRow(A.row,A.column))return x()}if(m.showTooltip(w),!!m.isOpen)if(d.on("mousewheel",x),p.$tooltipFollowsMouse)_(b);else{var M=b.getGutterRow(),R=g.$lines.get(M);if(R){var k=R.element.querySelector(".ace_gutter_annotation"),$=k.getBoundingClientRect(),E=m.getElement().style;E.left=$.right+"px",E.top=$.bottom+"px"}else _(b)}}function x(){v&&(v=clearTimeout(v)),m.isOpen&&(m.hideTooltip(),d.off("mousewheel",x))}function _(w){m.setPosition(w.x,w.y)}p.editor.setDefaultHandler("guttermousemove",function(w){var y=w.domEvent.target||w.domEvent.srcElement;if(l.hasCssClass(y,"ace_fold-widget"))return x();m.isOpen&&p.$tooltipFollowsMouse&&_(w),b=w,!v&&(v=setTimeout(function(){v=null,b&&!p.isMousePressed?C():x()},50))}),a.addListener(d.renderer.$gutter,"mouseout",function(w){b=null,!(!m.isOpen||v)&&(v=setTimeout(function(){v=null,x()},50))},d),d.on("changeSession",x),d.on("input",x)}r.GutterHandler=h;var f=function(p){o(d,p);function d(g){var m=p.call(this,g.container)||this;return m.editor=g,m}return d.prototype.setPosition=function(g,m){var v=window.innerWidth||document.documentElement.clientWidth,b=window.innerHeight||document.documentElement.clientHeight,C=this.getWidth(),x=this.getHeight();g+=15,m+=15,g+C>v&&(g-=g+C-v),m+x>b&&(m-=20+x),u.prototype.setPosition.call(this,g,m)},Object.defineProperty(d,"annotationLabels",{get:function(){return{error:{singular:c("gutter-tooltip.aria-label.error.singular","error"),plural:c("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:c("gutter-tooltip.aria-label.security.singular","security finding"),plural:c("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:c("gutter-tooltip.aria-label.warning.singular","warning"),plural:c("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:c("gutter-tooltip.aria-label.info.singular","information message"),plural:c("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:c("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:c("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),d.prototype.showTooltip=function(g){var m,v=this.editor.renderer.$gutterLayer,b=v.$annotations[g],C;b?C={displayText:Array.from(b.displayText),type:Array.from(b.type)}:C={displayText:[],type:[]};var x=v.session.getFoldLine(g);if(x&&v.$showFoldedAnnotations){for(var _={error:[],security:[],warning:[],info:[],hint:[]},w={error:1,security:2,warning:3,info:4,hint:5},y,S=g+1;S<=x.end.row;S++)if(v.$annotations[S])for(var A=0;A<v.$annotations[S].text.length;A++){var M=v.$annotations[S].type[A];_[M].push(v.$annotations[S].text[A]),(!y||w[M]<w[y])&&(y=M)}if(["error","security","warning"].includes(y)){var R="".concat(d.annotationsToSummaryString(_)," in folded code.");C.displayText.push(R),C.type.push(y+"_fold")}}if(C.displayText.length===0)return this.hide();for(var k={error:[],security:[],warning:[],info:[],hint:[]},$=v.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",S=0;S<C.displayText.length;S++){var E=l.createElement("span"),L=l.createElement("span");(m=L.classList).add.apply(m,["ace_".concat(C.type[S]),$]),L.setAttribute("aria-label","".concat(d.annotationLabels[C.type[S].replace("_fold","")].singular)),L.setAttribute("role","img"),L.appendChild(l.createTextNode(" ")),E.appendChild(L),E.appendChild(l.createTextNode(C.displayText[S])),E.appendChild(l.createElement("br")),k[C.type[S].replace("_fold","")].push(E)}var P=this.getElement();l.removeChildren(P),k.error.forEach(function(I){return P.appendChild(I)}),k.security.forEach(function(I){return P.appendChild(I)}),k.warning.forEach(function(I){return P.appendChild(I)}),k.info.forEach(function(I){return P.appendChild(I)}),k.hint.forEach(function(I){return P.appendChild(I)}),P.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},d.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},d.annotationsToSummaryString=function(g){var m,v,b=[],C=["error","security","warning","info","hint"];try{for(var x=s(C),_=x.next();!_.done;_=x.next()){var w=_.value;if(g[w].length){var y=g[w].length===1?d.annotationLabels[w].singular:d.annotationLabels[w].plural;b.push("".concat(g[w].length," ").concat(y))}}}catch(S){m={error:S}}finally{try{_&&!_.done&&(v=x.return)&&v.call(x)}finally{if(m)throw m.error}}return b.join(", ")},d}(u);r.GutterTooltip=f}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var o=n("../lib/event"),s=n("../lib/useragent"),l=function(){function a(u,c){this.speed,this.wheelX,this.wheelY,this.domEvent=u,this.editor=c,this.x=this.clientX=u.clientX,this.y=this.clientY=u.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return a.prototype.stopPropagation=function(){o.stopPropagation(this.domEvent),this.propagationStopped=!0},a.prototype.preventDefault=function(){o.preventDefault(this.domEvent),this.defaultPrevented=!0},a.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},a.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},a.prototype.getGutterRow=function(){var u=this.getDocumentPosition().row,c=this.editor.session.documentToScreenRow(u,0),h=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return c-h},a.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var u=this.editor,c=u.getSelectionRange();if(c.isEmpty())this.$inSelection=!1;else{var h=this.getDocumentPosition();this.$inSelection=c.contains(h.row,h.column)}return this.$inSelection},a.prototype.getButton=function(){return o.getButton(this.domEvent)},a.prototype.getShiftKey=function(){return this.domEvent.shiftKey},a.prototype.getAccelKey=function(){return s.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},a}();r.MouseEvent=l}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/event"),l=n("../lib/useragent"),a=200,u=200,c=5;function h(p){var d=p.editor,g=o.createElement("div");g.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",g.textContent=" ";var m=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];m.forEach(function(q){p[q]=this[q]},this),d.on("mousedown",this.onMouseDown.bind(p));var v=d.container,b,C,x,_,w,y,S=0,A,M,R,k,$;this.onDragStart=function(q){if(this.cancelDrag||!v.draggable){var X=this;return setTimeout(function(){X.startSelect(),X.captureMouse(q)},0),q.preventDefault()}w=d.getSelectionRange();var Y=q.dataTransfer;Y.effectAllowed=d.getReadOnly()?"copy":"copyMove",d.container.appendChild(g),Y.setDragImage&&Y.setDragImage(g,0,0),setTimeout(function(){d.container.removeChild(g)}),Y.clearData(),Y.setData("Text",d.session.getTextRange()),M=!0,this.setState("drag")},this.onDragEnd=function(q){if(v.draggable=!1,M=!1,this.setState(null),!d.getReadOnly()){var X=q.dataTransfer.dropEffect;!A&&X=="move"&&d.session.remove(d.getSelectionRange()),d.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(q){if(!(d.getReadOnly()||!G(q.dataTransfer)))return C=q.clientX,x=q.clientY,b||I(),S++,q.dataTransfer.dropEffect=A=Z(q),s.preventDefault(q)},this.onDragOver=function(q){if(!(d.getReadOnly()||!G(q.dataTransfer)))return C=q.clientX,x=q.clientY,b||(I(),S++),W!==null&&(W=null),q.dataTransfer.dropEffect=A=Z(q),s.preventDefault(q)},this.onDragLeave=function(q){if(S--,S<=0&&b)return D(),A=null,s.preventDefault(q)},this.onDrop=function(q){if(y){var X=q.dataTransfer;if(M)switch(A){case"move":w.contains(y.row,y.column)?w={start:y,end:y}:w=d.moveText(w,y);break;case"copy":w=d.moveText(w,y,!0);break}else{var Y=X.getData("Text");w={start:y,end:d.session.insert(y,Y)},d.focus(),A=null}return D(),s.preventDefault(q)}},s.addListener(v,"dragstart",this.onDragStart.bind(p),d),s.addListener(v,"dragend",this.onDragEnd.bind(p),d),s.addListener(v,"dragenter",this.onDragEnter.bind(p),d),s.addListener(v,"dragover",this.onDragOver.bind(p),d),s.addListener(v,"dragleave",this.onDragLeave.bind(p),d),s.addListener(v,"drop",this.onDrop.bind(p),d);function E(q,X){var Y=Date.now(),ee=!X||q.row!=X.row,re=!X||q.column!=X.column;if(!k||ee||re)d.moveCursorToPosition(q),k=Y,$={x:C,y:x};else{var ie=f($.x,$.y,C,x);ie>c?k=null:Y-k>=u&&(d.renderer.scrollCursorIntoView(),k=null)}}function L(q,X){var Y=Date.now(),ee=d.renderer.layerConfig.lineHeight,re=d.renderer.layerConfig.characterWidth,ie=d.renderer.scroller.getBoundingClientRect(),ue={x:{left:C-ie.left,right:ie.right-C},y:{top:x-ie.top,bottom:ie.bottom-x}},he=Math.min(ue.x.left,ue.x.right),_e=Math.min(ue.y.top,ue.y.bottom),Te={row:q.row,column:q.column};he/re<=2&&(Te.column+=ue.x.left<ue.x.right?-3:2),_e/ee<=1&&(Te.row+=ue.y.top<ue.y.bottom?-1:1);var tt=q.row!=Te.row,ot=q.column!=Te.column,we=!X||q.row!=X.row;tt||ot&&!we?R?Y-R>=a&&d.renderer.scrollCursorIntoView(Te):R=Y:R=null}function P(){var q=y;y=d.renderer.screenToTextCoordinates(C,x),E(y,q),L(y,q)}function I(){w=d.selection.toOrientedRange(),b=d.session.addMarker(w,"ace_selection",d.getSelectionStyle()),d.clearSelection(),d.isFocused()&&d.renderer.$cursorLayer.setBlinking(!1),clearInterval(_),P(),_=setInterval(P,20),S=0,s.addListener(document,"mousemove",z)}function D(){clearInterval(_),d.session.removeMarker(b),b=null,d.selection.fromOrientedRange(w),d.isFocused()&&!M&&d.$resetCursorStyle(),w=null,y=null,S=0,R=null,k=null,s.removeListener(document,"mousemove",z)}var W=null;function z(){W==null&&(W=setTimeout(function(){W!=null&&b&&D()},20))}function G(q){var X=q.types;return!X||Array.prototype.some.call(X,function(Y){return Y=="text/plain"||Y=="Text"})}function Z(q){var X=["copy","copymove","all","uninitialized"],Y=["move","copymove","linkmove","all","uninitialized"],ee=l.isMac?q.altKey:q.ctrlKey,re="uninitialized";try{re=q.dataTransfer.effectAllowed.toLowerCase()}catch{}var ie="none";return ee&&X.indexOf(re)>=0?ie="copy":Y.indexOf(re)>=0?ie="move":X.indexOf(re)>=0&&(ie="copy"),ie}}(function(){this.dragWait=function(){var p=Date.now()-this.mousedownEvent.time;p>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var p=this.editor.container;p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(p){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var p=this.editor,d=p.container;d.draggable=!0,p.renderer.$cursorLayer.setBlinking(!1),p.setStyle("ace_dragging");var g=l.isWin?"default":"move";p.renderer.setCursorStyle(g),this.setState("dragReady")},this.onMouseDrag=function(p){var d=this.editor.container;if(l.isIE&&this.state=="dragReady"){var g=f(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);g>3&&d.dragDrop()}if(this.state==="dragWait"){var g=f(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);g>0&&(d.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(p){if(this.$dragEnabled){this.mousedownEvent=p;var d=this.editor,g=p.inSelection(),m=p.getButton(),v=p.domEvent.detail||1;if(v===1&&m===0&&g){if(p.editor.inMultiSelectMode&&(p.getAccelKey()||p.getShiftKey()))return;this.mousedownEvent.time=Date.now();var b=p.domEvent.target||p.domEvent.srcElement;if("unselectable"in b&&(b.unselectable="on"),d.getDragDelay()){if(l.isWebKit){this.cancelDrag=!0;var C=d.container;C.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(p,this.onMouseDrag.bind(this)),p.defaultPrevented=!0}}}}).call(h.prototype);function f(p,d,g,m){return Math.sqrt(Math.pow(g-p,2)+Math.pow(m-d,2))}r.DragdropHandler=h}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,r,i){var o=n("./mouse_event").MouseEvent,s=n("../lib/event"),l=n("../lib/dom");r.addTouchListeners=function(a,u){var c="scroll",h,f,p,d,g,m,v=0,b,C=0,x=0,_=0,w,y;function S(){var E=window.navigator&&window.navigator.clipboard,L=!1,P=function(){var W=u.getCopyText(),z=u.session.getUndoManager().hasUndo();y.replaceChild(l.buildDom(L?["span",!W&&I("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],W&&I("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],W&&I("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],E&&I("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],z&&I("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],I("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],I("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),y.firstChild)},I=function(W){return u.commands.canExecute(W,u)},D=function(W){var z=W.target.getAttribute("action");if(z=="more"||!L)return L=!L,P();z=="paste"?E.readText().then(function(G){u.execCommand(z,G)}):z&&((z=="cut"||z=="copy")&&(E?E.writeText(u.getCopyText()):document.execCommand("copy")),u.execCommand(z)),y.firstChild.style.display="none",L=!1,z!="openCommandPalette"&&u.focus()};y=l.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(W){c="menu",W.stopPropagation(),W.preventDefault(),u.textInput.focus()},ontouchend:function(W){W.stopPropagation(),W.preventDefault(),D(W)},onclick:D},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],u.container)}function A(){if(!u.getOption("enableMobileMenu")){y&&M();return}y||S();var E=u.selection.cursor,L=u.renderer.textToScreenCoordinates(E.row,E.column),P=u.renderer.textToScreenCoordinates(0,0).pageX,I=u.renderer.scrollLeft,D=u.container.getBoundingClientRect();y.style.top=L.pageY-D.top-3+"px",L.pageX-D.left<D.width-70?(y.style.left="",y.style.right="10px"):(y.style.right="",y.style.left=P+I-D.left+"px"),y.style.display="",y.firstChild.style.display="none",u.on("input",M)}function M(E){y&&(y.style.display="none"),u.off("input",M)}function R(){g=null,clearTimeout(g);var E=u.selection.getRange(),L=E.contains(b.row,b.column);(E.isEmpty()||!L)&&(u.selection.moveToPosition(b),u.selection.selectWord()),c="wait",A()}function k(){g=null,clearTimeout(g),u.selection.moveToPosition(b);var E=C>=2?u.selection.getLineRange(b.row):u.session.getBracketRange(b);E&&!E.isEmpty()?u.selection.setRange(E):u.selection.selectWord(),c="wait"}s.addListener(a,"contextmenu",function(E){if(w){var L=u.textInput.getElement();L.focus()}},u),s.addListener(a,"touchstart",function(E){var L=E.touches;if(g||L.length>1){clearTimeout(g),g=null,p=-1,c="zoom";return}w=u.$mouseHandler.isMousePressed=!0;var P=u.renderer.layerConfig.lineHeight,I=u.renderer.layerConfig.lineHeight,D=E.timeStamp;d=D;var W=L[0],z=W.clientX,G=W.clientY;Math.abs(h-z)+Math.abs(f-G)>P&&(p=-1),h=E.clientX=z,f=E.clientY=G,x=_=0;var Z=new o(E,u);if(b=Z.getDocumentPosition(),D-p<500&&L.length==1&&!v)C++,E.preventDefault(),E.button=0,k();else{C=0;var q=u.selection.cursor,X=u.selection.isEmpty()?q:u.selection.anchor,Y=u.renderer.$cursorLayer.getPixelPosition(q,!0),ee=u.renderer.$cursorLayer.getPixelPosition(X,!0),re=u.renderer.scroller.getBoundingClientRect(),ie=u.renderer.layerConfig.offset,ue=u.renderer.scrollLeft,he=function(tt,ot){return tt=tt/I,ot=ot/P-.75,tt*tt+ot*ot};if(E.clientX<re.left){c="zoom";return}var _e=he(E.clientX-re.left-Y.left+ue,E.clientY-re.top-Y.top+ie),Te=he(E.clientX-re.left-ee.left+ue,E.clientY-re.top-ee.top+ie);_e<3.5&&Te<3.5&&(c=_e>Te?"cursor":"anchor"),Te<3.5?c="anchor":_e<3.5?c="cursor":c="scroll",g=setTimeout(R,450)}p=D},u),s.addListener(a,"touchend",function(E){w=u.$mouseHandler.isMousePressed=!1,m&&clearInterval(m),c=="zoom"?(c="",v=0):g?(u.selection.moveToPosition(b),v=0,A()):c=="scroll"?($(),M()):A(),clearTimeout(g),g=null},u),s.addListener(a,"touchmove",function(E){g&&(clearTimeout(g),g=null);var L=E.touches;if(!(L.length>1||c=="zoom")){var P=L[0],I=h-P.clientX,D=f-P.clientY;if(c=="wait")if(I*I+D*D>4)c="cursor";else return E.preventDefault();h=P.clientX,f=P.clientY,E.clientX=P.clientX,E.clientY=P.clientY;var W=E.timeStamp,z=W-d;if(d=W,c=="scroll"){var G=new o(E,u);G.speed=1,G.wheelX=I,G.wheelY=D,10*Math.abs(I)<Math.abs(D)&&(I=0),10*Math.abs(D)<Math.abs(I)&&(D=0),z!=0&&(x=I/z,_=D/z),u._emit("mousewheel",G),G.propagationStopped||(x=_=0)}else{var Z=new o(E,u),q=Z.getDocumentPosition();c=="cursor"?u.selection.moveCursorToPosition(q):c=="anchor"&&u.selection.setSelectionAnchor(q.row,q.column),u.renderer.scrollCursorIntoView(q),E.preventDefault()}}},u);function $(){v+=60,m=setInterval(function(){v--<=0&&(clearInterval(m),m=null),Math.abs(x)<.01&&(x=0),Math.abs(_)<.01&&(_=0),v<20&&(x=.9*x),v<20&&(_=.9*_);var E=u.session.getScrollTop();u.renderer.scrollBy(10*x,10*_),E==u.session.getScrollTop()&&(v=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,r,i){var o=n("../lib/event"),s=n("../lib/useragent"),l=n("./default_handlers").DefaultHandlers,a=n("./default_gutter_handler").GutterHandler,u=n("./mouse_event").MouseEvent,c=n("./dragdrop_handler").DragdropHandler,h=n("./touch_handler").addTouchListeners,f=n("../config"),p=function(){function d(g){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var m=this;this.editor=g,new l(this),new a(this),new c(this);var v=function(x){var _=!document.hasFocus||!document.hasFocus()||!g.isFocused()&&document.activeElement==(g.textInput&&g.textInput.getElement());_&&window.focus(),g.focus(),setTimeout(function(){g.isFocused()||g.focus()})},b=g.renderer.getMouseEventTarget();o.addListener(b,"click",this.onMouseEvent.bind(this,"click"),g),o.addListener(b,"mousemove",this.onMouseMove.bind(this,"mousemove"),g),o.addMultiMouseDownListener([b,g.renderer.scrollBarV&&g.renderer.scrollBarV.inner,g.renderer.scrollBarH&&g.renderer.scrollBarH.inner,g.textInput&&g.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",g),o.addMouseWheelListener(g.container,this.onMouseWheel.bind(this,"mousewheel"),g),h(g.container,g);var C=g.renderer.$gutter;o.addListener(C,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),g),o.addListener(C,"click",this.onMouseEvent.bind(this,"gutterclick"),g),o.addListener(C,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),g),o.addListener(C,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),g),o.addListener(b,"mousedown",v,g),o.addListener(C,"mousedown",v,g),s.isIE&&g.renderer.scrollBarV&&(o.addListener(g.renderer.scrollBarV.element,"mousedown",v,g),o.addListener(g.renderer.scrollBarH.element,"mousedown",v,g)),g.on("mousemove",function(x){if(!(m.state||m.$dragDelay||!m.$dragEnabled)){var _=g.renderer.screenToTextCoordinates(x.x,x.y),w=g.session.selection.getRange(),y=g.renderer;!w.isEmpty()&&w.insideStart(_.row,_.column)?y.setCursorStyle("default"):y.setCursorStyle("")}},g)}return d.prototype.onMouseEvent=function(g,m){this.editor.session&&this.editor._emit(g,new u(m,this.editor))},d.prototype.onMouseMove=function(g,m){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!v||!v.length||this.editor._emit(g,new u(m,this.editor))},d.prototype.onMouseWheel=function(g,m){var v=new u(m,this.editor);v.speed=this.$scrollSpeed*2,v.wheelX=m.wheelX,v.wheelY=m.wheelY,this.editor._emit(g,v)},d.prototype.setState=function(g){this.state=g},d.prototype.captureMouse=function(g,m){this.x=g.x,this.y=g.y,this.isMousePressed=!0;var v=this.editor,b=this.editor.renderer;b.$isMousePressed=!0;var C=this,x=function(A){if(A){if(s.isWebKit&&!A.which&&C.releaseMouse)return C.releaseMouse();C.x=A.clientX,C.y=A.clientY,m&&m(A),C.mouseEvent=new u(A,C.editor),C.$mouseMoved=!0}},_=function(A){v.off("beforeEndOperation",y),clearInterval(S),v.session&&w(),C[C.state+"End"]&&C[C.state+"End"](A),C.state="",C.isMousePressed=b.$isMousePressed=!1,b.$keepTextAreaAtCursor&&b.$moveTextAreaToCursor(),C.$onCaptureMouseMove=C.releaseMouse=null,A&&C.onMouseEvent("mouseup",A),v.endOperation()},w=function(){C[C.state]&&C[C.state](),C.$mouseMoved=!1};if(s.isOldIE&&g.domEvent.type=="dblclick")return setTimeout(function(){_(g)});var y=function(A){C.releaseMouse&&v.curOp.command.name&&v.curOp.selectionChanged&&(C[C.state+"End"]&&C[C.state+"End"](),C.state="",C.releaseMouse())};v.on("beforeEndOperation",y),v.startOperation({command:{name:"mouse"}}),C.$onCaptureMouseMove=x,C.releaseMouse=o.capture(this.editor.container,x,_);var S=setInterval(w,20)},d.prototype.cancelContextMenu=function(){var g=(function(m){m&&m.domEvent&&m.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",g),m&&m.domEvent&&o.stopEvent(m.domEvent))}).bind(this);setTimeout(g,10),this.editor.on("nativecontextmenu",g)},d.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},d}();p.prototype.releaseMouse=null,f.defineOptions(p.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),r.MouseHandler=p}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("../lib/dom"),s=function(){function l(a){a.on("click",function(u){var c=u.getDocumentPosition(),h=a.session,f=h.getFoldAt(c.row,c.column,1);f&&(u.getAccelKey()?h.removeFold(f):h.expandFold(f),u.stop());var p=u.domEvent&&u.domEvent.target;p&&o.hasCssClass(p,"ace_inline_button")&&o.hasCssClass(p,"ace_toggle_wrap")&&(h.setOption("wrap",!h.getUseWrapMode()),a.renderer.scrollCursorIntoView())}),a.on("gutterclick",function(u){var c=a.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var h=u.getDocumentPosition().row,f=a.session;f.foldWidgets&&f.foldWidgets[h]&&a.session.onFoldWidgetClick(h,u),a.isFocused()||a.focus(),u.stop()}}),a.on("gutterdblclick",function(u){var c=a.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var h=u.getDocumentPosition().row,f=a.session,p=f.getParentFoldRangeData(h,!0),d=p.range||p.firstRange;if(d){h=d.start.row;var g=f.getFoldAt(h,f.getLine(h).length,1);g?f.removeFold(g):(f.addFold("...",d),a.renderer.scrollCursorIntoView({row:d.start.row,column:0}))}u.stop()}})}return l}();r.FoldHandler=s}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,r,i){var o=n("../lib/keys"),s=n("../lib/event"),l=function(){function a(u){this.$editor=u,this.$data={editor:u},this.$handlers=[],this.setDefaultHandler(u.commands)}return a.prototype.setDefaultHandler=function(u){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=u,this.addKeyboardHandler(u,0)},a.prototype.setKeyboardHandler=function(u){var c=this.$handlers;if(c[c.length-1]!=u){for(;c[c.length-1]&&c[c.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(c[c.length-1]);this.addKeyboardHandler(u,1)}},a.prototype.addKeyboardHandler=function(u,c){if(u){typeof u=="function"&&!u.handleKeyboard&&(u.handleKeyboard=u);var h=this.$handlers.indexOf(u);h!=-1&&this.$handlers.splice(h,1),c==null?this.$handlers.push(u):this.$handlers.splice(c,0,u),h==-1&&u.attach&&u.attach(this.$editor)}},a.prototype.removeKeyboardHandler=function(u){var c=this.$handlers.indexOf(u);return c==-1?!1:(this.$handlers.splice(c,1),u.detach&&u.detach(this.$editor),!0)},a.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},a.prototype.getStatusText=function(){var u=this.$data,c=u.editor;return this.$handlers.map(function(h){return h.getStatusText&&h.getStatusText(c,u)||""}).filter(Boolean).join(" ")},a.prototype.$callKeyboardHandlers=function(u,c,h,f){for(var p,d=!1,g=this.$editor.commands,m=this.$handlers.length;m--&&(p=this.$handlers[m].handleKeyboard(this.$data,u,c,h,f),!(!(!p||!p.command)&&(p.command=="null"?d=!0:d=g.exec(p.command,this.$editor,p.args,f),d&&f&&u!=-1&&p.passEvent!=!0&&p.command.passEvent!=!0&&s.stopEvent(f),d))););return!d&&u==-1&&(p={command:"insertstring"},d=g.exec("insertstring",this.$editor,c)),d&&this.$editor._signal&&this.$editor._signal("keyboardActivity",p),d},a.prototype.onCommandKey=function(u,c,h){var f=o.keyCodeToString(h);return this.$callKeyboardHandlers(c,f,h,u)},a.prototype.onTextInput=function(u){return this.$callKeyboardHandlers(-1,u)},a}();r.KeyBinding=l}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,r,i){var o=0,s=0,l=!1,a=!1,u=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f=0,p=1,d=0,g=1,m=2,v=3,b=4,C=5,x=6,_=7,w=8,y=9,S=10,A=11,M=12,R=13,k=14,$=15,E=16,L=17,P=18,I=[P,P,P,P,P,P,P,P,P,x,C,x,w,C,P,P,P,P,P,P,P,P,P,P,P,P,P,P,C,C,C,x,w,b,b,A,A,A,b,b,b,b,b,S,y,S,y,y,m,m,m,m,m,m,m,m,m,m,y,b,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,b,b,b,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,b,b,b,b,P,P,P,P,P,P,C,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,y,b,A,A,A,A,b,b,b,b,d,b,b,P,b,b,A,A,m,m,b,d,b,b,b,m,d,b,b,b,b,b],D=[w,w,w,w,w,w,w,w,w,w,w,P,P,P,d,g,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,w,C,R,k,$,E,L,y,A,A,A,A,A,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,y,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,w];function W(q,X,Y,ee){var re=o?h:c,ie=null,ue=null,he=null,_e=0,Te=null,tt=null,ot=-1,we=null,Ae=null,st=[];if(!ee)for(we=0,ee=[];we<Y;we++)ee[we]=Z(q[we]);for(s=o,l=!1,a=!1,u=!1,Ae=0;Ae<Y;Ae++){if(ie=_e,st[Ae]=ue=G(q,ee,st,Ae),_e=re[ie][ue],Te=_e&240,_e&=15,X[Ae]=he=re[_e][5],Te>0)if(Te==16){for(we=ot;we<Ae;we++)X[we]=1;ot=-1}else ot=-1;if(tt=re[_e][6],tt)ot==-1&&(ot=Ae);else if(ot>-1){for(we=ot;we<Ae;we++)X[we]=he;ot=-1}ee[Ae]==C&&(X[Ae]=0),s|=he}if(u){for(we=0;we<Y;we++)if(ee[we]==x){X[we]=o;for(var qe=we-1;qe>=0&&ee[qe]==w;qe--)X[qe]=o}}}function z(q,X,Y){if(!(s<q)){if(q==1&&o==p&&!a){Y.reverse();return}for(var ee=Y.length,re=0,ie,ue,he,_e;re<ee;){if(X[re]>=q){for(ie=re+1;ie<ee&&X[ie]>=q;)ie++;for(ue=re,he=ie-1;ue<he;ue++,he--)_e=Y[ue],Y[ue]=Y[he],Y[he]=_e;re=ie}re++}}}function G(q,X,Y,ee){var re=X[ee],ie,ue,he,_e;switch(re){case d:case g:l=!1;case b:case v:return re;case m:return l?v:m;case _:return l=!0,g;case w:return b;case y:return ee<1||ee+1>=X.length||(ie=Y[ee-1])!=m&&ie!=v||(ue=X[ee+1])!=m&&ue!=v?b:(l&&(ue=v),ue==ie?ue:b);case S:return ie=ee>0?Y[ee-1]:C,ie==m&&ee+1<X.length&&X[ee+1]==m?m:b;case A:if(ee>0&&Y[ee-1]==m)return m;if(l)return b;for(_e=ee+1,he=X.length;_e<he&&X[_e]==A;)_e++;return _e<he&&X[_e]==m?m:b;case M:for(he=X.length,_e=ee+1;_e<he&&X[_e]==M;)_e++;if(_e<he){var Te=q[ee],tt=Te>=1425&&Te<=2303||Te==64286;if(ie=X[_e],tt&&(ie==g||ie==_))return g}return ee<1||(ie=X[ee-1])==C?b:Y[ee-1];case C:return l=!1,a=!0,o;case x:return u=!0,b;case R:case k:case E:case L:case $:l=!1;case P:return b}}function Z(q){var X=q.charCodeAt(0),Y=X>>8;return Y==0?X>191?d:I[X]:Y==5?/[\u0591-\u05f4]/.test(q)?g:d:Y==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(q)?M:/[\u0660-\u0669\u066b-\u066c]/.test(q)?v:X==1642?A:/[\u06f0-\u06f9]/.test(q)?m:_:Y==32&&X<=8287?D[X&255]:Y==254&&X>=65136?_:b}r.L=d,r.R=g,r.EN=m,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="·",r.doBidiReorder=function(q,X,Y){if(q.length<2)return{};var ee=q.split(""),re=new Array(ee.length),ie=new Array(ee.length),ue=[];o=Y?p:f,W(ee,ue,ee.length,X);for(var he=0;he<re.length;re[he]=he,he++);z(2,ue,re),z(1,ue,re);for(var he=0;he<re.length-1;he++)X[he]===v?ue[he]=r.AN:ue[he]===g&&(X[he]>_&&X[he]<R||X[he]===b||X[he]===P)?ue[he]=r.ON_R:he>0&&ee[he-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(ee[he])&&(ue[he-1]=ue[he]=r.R_H,he++);ee[ee.length-1]===r.DOT&&(ue[ee.length-1]=r.B),ee[0]==="‫"&&(ue[0]=r.RLE);for(var he=0;he<re.length;he++)ie[he]=ue[re[he]];return{logicalFromVisual:re,bidiLevels:ie}},r.hasBidiCharacters=function(q,X){for(var Y=!1,ee=0;ee<q.length;ee++)X[ee]=Z(q.charAt(ee)),!Y&&(X[ee]==g||X[ee]==_||X[ee]==v)&&(Y=!0);return Y},r.getVisualFromLogicalIdx=function(q,X){for(var Y=0;Y<X.logicalFromVisual.length;Y++)if(X.logicalFromVisual[Y]==q)return Y;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,r,i){var o=n("./lib/bidiutil"),s=n("./lib/lang"),l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=function(){function u(c){this.session=c,this.bidiMap={},this.currentRow=null,this.bidiUtil=o,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=l.test(c.getValue())}return u.prototype.isBidiRow=function(c,h,f){return this.seenBidi?(c!==this.currentRow&&(this.currentRow=c,this.updateRowLine(h,f),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},u.prototype.onChange=function(c){this.seenBidi?this.currentRow=null:c.action=="insert"&&l.test(c.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},u.prototype.getDocumentRow=function(){var c=0,h=this.session.$screenRowCache;if(h.length){var f=this.session.$getRowCacheIndex(h,this.currentRow);f>=0&&(c=this.session.$docRowCache[f])}return c},u.prototype.getSplitIndex=function(){var c=0,h=this.session.$screenRowCache;if(h.length)for(var f,p=this.session.$getRowCacheIndex(h,this.currentRow);this.currentRow-c>0&&(f=this.session.$getRowCacheIndex(h,this.currentRow-c-1),f===p);)p=f,c++;else c=this.currentRow;return c},u.prototype.updateRowLine=function(c,h){c===void 0&&(c=this.getDocumentRow());var f=c===this.session.getLength()-1,p=f?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(c),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var d=this.session.$wrapData[c];d&&(h===void 0&&(h=this.getSplitIndex()),h>0&&d.length?(this.wrapIndent=d.indent,this.wrapOffset=this.wrapIndent*this.charWidths[o.L],this.line=h<d.length?this.line.substring(d[h-1],d[h]):this.line.substring(d[d.length-1])):this.line=this.line.substring(0,d[h]),h==d.length&&(this.line+=this.showInvisibles?p:o.DOT))}else this.line+=this.showInvisibles?p:o.DOT;var g=this.session,m=0,v;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(b,C){return b==="	"||g.isFullWidth(b.charCodeAt(0))?(v=b==="	"?g.getScreenTabSize(C+m):2,m+=v-1,s.stringRepeat(o.DOT,v)):b}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==o.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},u.prototype.updateBidiMap=function(){var c=[];o.hasBidiCharacters(this.line,c)||this.isRtlDir?this.bidiMap=o.doBidiReorder(this.line,c,this.isRtlDir):this.bidiMap={}},u.prototype.markAsDirty=function(){this.currentRow=null},u.prototype.updateCharacterWidths=function(c){if(this.characterWidth!==c.$characterSize.width){this.fontMetrics=c;var h=this.characterWidth=c.$characterSize.width,f=c.$measureCharWidth("ה");this.charWidths[o.L]=this.charWidths[o.EN]=this.charWidths[o.ON_R]=h,this.charWidths[o.R]=this.charWidths[o.AN]=f,this.charWidths[o.R_H]=f*.45,this.charWidths[o.B]=this.charWidths[o.RLE]=0,this.currentRow=null}},u.prototype.setShowInvisibles=function(c){this.showInvisibles=c,this.currentRow=null},u.prototype.setEolChar=function(c){this.EOL=c},u.prototype.setContentWidth=function(c){this.contentWidth=c},u.prototype.isRtlLine=function(c){return this.$isRtl?!0:c!=null?this.session.getLine(c).charAt(0)==this.RLE:this.isRtlDir},u.prototype.setRtlDirection=function(c,h){for(var f=c.getCursorPosition(),p=c.selection.getSelectionAnchor().row;p<=f.row;p++)!h&&c.session.getLine(p).charAt(0)===c.session.$bidiHandler.RLE?c.session.doc.removeInLine(p,0,1):h&&c.session.getLine(p).charAt(0)!==c.session.$bidiHandler.RLE&&c.session.doc.insert({column:0,row:p},c.session.$bidiHandler.RLE)},u.prototype.getPosLeft=function(c){c-=this.wrapIndent;var h=this.line.charAt(0)===this.RLE?1:0,f=c>h?this.session.getOverwrite()?c:c-1:h,p=o.getVisualFromLogicalIdx(f,this.bidiMap),d=this.bidiMap.bidiLevels,g=0;!this.session.getOverwrite()&&c<=h&&d[p]%2!==0&&p++;for(var m=0;m<p;m++)g+=this.charWidths[d[m]];return!this.session.getOverwrite()&&c>h&&d[p]%2===0&&(g+=this.charWidths[d[p]]),this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(g+=this.rtlLineOffset),g},u.prototype.getSelections=function(c,h){var f=this.bidiMap,p=f.bidiLevels,d,g=[],m=0,v=Math.min(c,h)-this.wrapIndent,b=Math.max(c,h)-this.wrapIndent,C=!1,x=!1,_=0;this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var w,y=0;y<p.length;y++)w=f.logicalFromVisual[y],d=p[y],C=w>=v&&w<b,C&&!x?_=m:!C&&x&&g.push({left:_,width:m-_}),m+=this.charWidths[d],x=C;if(C&&y===p.length&&g.push({left:_,width:m-_}),this.isRtlDir)for(var S=0;S<g.length;S++)g[S].left+=this.rtlLineOffset;return g},u.prototype.offsetToCol=function(f){this.isRtlDir&&(f-=this.rtlLineOffset);var h=0,f=Math.max(f,0),p=0,d=0,g=this.bidiMap.bidiLevels,m=this.charWidths[g[d]];for(this.wrapIndent&&(f-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);f>p+m/2;){if(p+=m,d===g.length-1){m=0;break}m=this.charWidths[g[++d]]}return d>0&&g[d-1]%2!==0&&g[d]%2===0?(f<p&&d--,h=this.bidiMap.logicalFromVisual[d]):d>0&&g[d-1]%2===0&&g[d]%2!==0?h=1+(f>p?this.bidiMap.logicalFromVisual[d]:this.bidiMap.logicalFromVisual[d-1]):this.isRtlDir&&d===g.length-1&&m===0&&g[d-1]%2===0||!this.isRtlDir&&d===0&&g[d]%2!==0?h=1+this.bidiMap.logicalFromVisual[d]:(d>0&&g[d-1]%2!==0&&m!==0&&d--,h=this.bidiMap.logicalFromVisual[d]),h===0&&this.isRtlDir&&h++,h+this.wrapIndent},u}();r.BidiHandler=a}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/lang"),l=n("./lib/event_emitter").EventEmitter,a=n("./range").Range,u=function(){function c(h){this.session=h,this.doc=h.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var f=this;this.cursor.on("change",function(p){f.$cursorChanged=!0,f.$silent||f._emit("changeCursor"),!f.$isEmpty&&!f.$silent&&f._emit("changeSelection"),!f.$keepDesiredColumnOnChange&&p.old.column!=p.value.column&&(f.$desiredColumn=null)}),this.anchor.on("change",function(){f.$anchorChanged=!0,!f.$isEmpty&&!f.$silent&&f._emit("changeSelection")})}return c.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},c.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},c.prototype.getCursor=function(){return this.lead.getPosition()},c.prototype.setAnchor=function(h,f){this.$isEmpty=!1,this.anchor.setPosition(h,f)},c.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},c.prototype.getSelectionLead=function(){return this.lead.getPosition()},c.prototype.isBackwards=function(){var h=this.anchor,f=this.lead;return h.row>f.row||h.row==f.row&&h.column>f.column},c.prototype.getRange=function(){var h=this.anchor,f=this.lead;return this.$isEmpty?a.fromPoints(f,f):this.isBackwards()?a.fromPoints(f,h):a.fromPoints(h,f)},c.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},c.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},c.prototype.setRange=function(h,f){var p=f?h.end:h.start,d=f?h.start:h.end;this.$setSelection(p.row,p.column,d.row,d.column)},c.prototype.$setSelection=function(h,f,p,d){if(!this.$silent){var g=this.$isEmpty,m=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(h,f),this.cursor.setPosition(p,d),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||g!=this.$isEmpty||m)&&this._emit("changeSelection")}},c.prototype.$moveSelection=function(h){var f=this.lead;this.$isEmpty&&this.setSelectionAnchor(f.row,f.column),h.call(this)},c.prototype.selectTo=function(h,f){this.$moveSelection(function(){this.moveCursorTo(h,f)})},c.prototype.selectToPosition=function(h){this.$moveSelection(function(){this.moveCursorToPosition(h)})},c.prototype.moveTo=function(h,f){this.clearSelection(),this.moveCursorTo(h,f)},c.prototype.moveToPosition=function(h){this.clearSelection(),this.moveCursorToPosition(h)},c.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},c.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},c.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},c.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},c.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},c.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},c.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},c.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},c.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},c.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},c.prototype.getWordRange=function(h,f){if(typeof f>"u"){var p=h||this.lead;h=p.row,f=p.column}return this.session.getWordRange(h,f)},c.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},c.prototype.selectAWord=function(){var h=this.getCursor(),f=this.session.getAWordRange(h.row,h.column);this.setSelectionRange(f)},c.prototype.getLineRange=function(h,f){var p=typeof h=="number"?h:this.lead.row,d,g=this.session.getFoldLine(p);return g?(p=g.start.row,d=g.end.row):d=p,f===!0?new a(p,0,d,this.session.getLine(d).length):new a(p,0,d+1,0)},c.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},c.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},c.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},c.prototype.wouldMoveIntoSoftTab=function(h,f,p){var d=h.column,g=h.column+f;return p<0&&(d=h.column-f,g=h.column),this.session.isTabStop(h)&&this.doc.getLine(h.row).slice(d,g).split(" ").length-1==f},c.prototype.moveCursorLeft=function(){var h=this.lead.getPosition(),f;if(f=this.session.getFoldAt(h.row,h.column,-1))this.moveCursorTo(f.start.row,f.start.column);else if(h.column===0)h.row>0&&this.moveCursorTo(h.row-1,this.doc.getLine(h.row-1).length);else{var p=this.session.getTabSize();this.wouldMoveIntoSoftTab(h,p,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-p):this.moveCursorBy(0,-1)}},c.prototype.moveCursorRight=function(){var h=this.lead.getPosition(),f;if(f=this.session.getFoldAt(h.row,h.column,1))this.moveCursorTo(f.end.row,f.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var p=this.session.getTabSize(),h=this.lead;this.wouldMoveIntoSoftTab(h,p,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,p):this.moveCursorBy(0,1)}},c.prototype.moveCursorLineStart=function(){var h=this.lead.row,f=this.lead.column,p=this.session.documentToScreenRow(h,f),d=this.session.screenToDocumentPosition(p,0),g=this.session.getDisplayLine(h,null,d.row,d.column),m=g.match(/^\s*/);m[0].length!=f&&!this.session.$useEmacsStyleLineStart&&(d.column+=m[0].length),this.moveCursorToPosition(d)},c.prototype.moveCursorLineEnd=function(){var h=this.lead,f=this.session.getDocumentLastRowColumnPosition(h.row,h.column);if(this.lead.column==f.column){var p=this.session.getLine(f.row);if(f.column==p.length){var d=p.search(/\s+$/);d>0&&(f.column=d)}}this.moveCursorTo(f.row,f.column)},c.prototype.moveCursorFileEnd=function(){var h=this.doc.getLength()-1,f=this.doc.getLine(h).length;this.moveCursorTo(h,f)},c.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},c.prototype.moveCursorLongWordRight=function(){var h=this.lead.row,f=this.lead.column,p=this.doc.getLine(h),d=p.substring(f);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var g=this.session.getFoldAt(h,f,1);if(g){this.moveCursorTo(g.end.row,g.end.column);return}if(this.session.nonTokenRe.exec(d)&&(f+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,d=p.substring(f)),f>=p.length){this.moveCursorTo(h,p.length),this.moveCursorRight(),h<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(d)&&(f+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,f)},c.prototype.moveCursorLongWordLeft=function(){var h=this.lead.row,f=this.lead.column,p;if(p=this.session.getFoldAt(h,f,-1)){this.moveCursorTo(p.start.row,p.start.column);return}var d=this.session.getFoldStringAt(h,f,-1);d==null&&(d=this.doc.getLine(h).substring(0,f));var g=s.stringReverse(d);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(g)&&(f-=this.session.nonTokenRe.lastIndex,g=g.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),f<=0){this.moveCursorTo(h,0),this.moveCursorLeft(),h>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(g)&&(f-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,f)},c.prototype.$shortWordEndIndex=function(h){var f=0,p,d=/\s/,g=this.session.tokenRe;if(g.lastIndex=0,this.session.tokenRe.exec(h))f=this.session.tokenRe.lastIndex;else{for(;(p=h[f])&&d.test(p);)f++;if(f<1){for(g.lastIndex=0;(p=h[f])&&!g.test(p);)if(g.lastIndex=0,f++,d.test(p))if(f>2){f--;break}else{for(;(p=h[f])&&d.test(p);)f++;if(f>2)break}}}return g.lastIndex=0,f},c.prototype.moveCursorShortWordRight=function(){var h=this.lead.row,f=this.lead.column,p=this.doc.getLine(h),d=p.substring(f),g=this.session.getFoldAt(h,f,1);if(g)return this.moveCursorTo(g.end.row,g.end.column);if(f==p.length){var m=this.doc.getLength();do h++,d=this.doc.getLine(h);while(h<m&&/^\s*$/.test(d));/^\s+/.test(d)||(d=""),f=0}var v=this.$shortWordEndIndex(d);this.moveCursorTo(h,f+v)},c.prototype.moveCursorShortWordLeft=function(){var h=this.lead.row,f=this.lead.column,p;if(p=this.session.getFoldAt(h,f,-1))return this.moveCursorTo(p.start.row,p.start.column);var d=this.session.getLine(h).substring(0,f);if(f===0){do h--,d=this.doc.getLine(h);while(h>0&&/^\s*$/.test(d));f=d.length,/\s+$/.test(d)||(d="")}var g=s.stringReverse(d),m=this.$shortWordEndIndex(g);return this.moveCursorTo(h,f-m)},c.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},c.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},c.prototype.moveCursorBy=function(h,f){var p=this.session.documentToScreenPosition(this.lead.row,this.lead.column),d;if(f===0&&(h!==0&&(this.session.$bidiHandler.isBidiRow(p.row,this.lead.row)?(d=this.session.$bidiHandler.getPosLeft(p.column),p.column=Math.round(d/this.session.$bidiHandler.charWidths[0])):d=p.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?p.column=this.$desiredColumn:this.$desiredColumn=p.column),h!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var g=this.session.lineWidgets[this.lead.row];h<0?h-=g.rowsAbove||0:h>0&&(h+=g.rowCount-(g.rowsAbove||0))}var m=this.session.screenToDocumentPosition(p.row+h,p.column,d);h!==0&&f===0&&m.row===this.lead.row&&(m.column,this.lead.column),this.moveCursorTo(m.row,m.column+f,f===0)},c.prototype.moveCursorToPosition=function(h){this.moveCursorTo(h.row,h.column)},c.prototype.moveCursorTo=function(h,f,p){var d=this.session.getFoldAt(h,f,1);d&&(h=d.start.row,f=d.start.column),this.$keepDesiredColumnOnChange=!0;var g=this.session.getLine(h);/[\uDC00-\uDFFF]/.test(g.charAt(f))&&g.charAt(f-1)&&(this.lead.row==h&&this.lead.column==f+1?f=f-1:f=f+1),this.lead.setPosition(h,f),this.$keepDesiredColumnOnChange=!1,p||(this.$desiredColumn=null)},c.prototype.moveCursorToScreen=function(h,f,p){var d=this.session.screenToDocumentPosition(h,f);this.moveCursorTo(d.row,d.column,p)},c.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},c.prototype.fromOrientedRange=function(h){this.setSelectionRange(h,h.cursor==h.start),this.$desiredColumn=h.desiredColumn||this.$desiredColumn},c.prototype.toOrientedRange=function(h){var f=this.getRange();return h?(h.start.column=f.start.column,h.start.row=f.start.row,h.end.column=f.end.column,h.end.row=f.end.row):h=f,h.cursor=this.isBackwards()?h.start:h.end,h.desiredColumn=this.$desiredColumn,h},c.prototype.getRangeOfMovements=function(h){var f=this.getCursor();try{h(this);var p=this.getCursor();return a.fromPoints(f,p)}catch{return a.fromPoints(f,f)}finally{this.moveCursorToPosition(f)}},c.prototype.toJSON=function(){if(this.rangeCount)var h=this.ranges.map(function(f){var p=f.clone();return p.isBackwards=f.cursor==f.start,p});else{var h=this.getRange();h.isBackwards=this.isBackwards()}return h},c.prototype.fromJSON=function(h){if(h.start==null)if(this.rangeList&&h.length>1){this.toSingleRange(h[0]);for(var f=h.length;f--;){var p=a.fromPoints(h[f].start,h[f].end);h[f].isBackwards&&(p.cursor=p.start),this.addRange(p,!0)}return}else h=h[0];this.rangeList&&this.toSingleRange(h),this.setSelectionRange(h,h.isBackwards)},c.prototype.isEqual=function(h){if((h.length||this.rangeCount)&&h.length!=this.rangeCount)return!1;if(!h.length||!this.ranges)return this.getRange().isEqual(h);for(var f=this.ranges.length;f--;)if(!this.ranges[f].isEqual(h[f]))return!1;return!0},c}();u.prototype.setSelectionAnchor=u.prototype.setAnchor,u.prototype.getSelectionAnchor=u.prototype.getAnchor,u.prototype.setSelectionRange=u.prototype.setRange,o.implement(u.prototype,l),r.Selection=u}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,r,i){var o=n("./lib/report_error").reportError,s=2e3,l=function(){function a(u){this.splitRegex,this.states=u,this.regExps={},this.matchMappings={};for(var c in this.states){for(var h=this.states[c],f=[],p=0,d=this.matchMappings[c]={defaultToken:"text"},g="g",m=[],v=0;v<h.length;v++){var b=h[v];if(b.defaultToken&&(d.defaultToken=b.defaultToken),b.caseInsensitive&&g.indexOf("i")===-1&&(g+="i"),b.unicode&&g.indexOf("u")===-1&&(g+="u"),b.regex!=null){b.regex instanceof RegExp&&(b.regex=b.regex.toString().slice(1,-1));var C=b.regex,x=new RegExp("(?:("+C+")|(.))").exec("a").length-2;Array.isArray(b.token)?b.token.length==1||x==1?b.token=b.token[0]:x-1!=b.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:b,groupCount:x-1}),b.token=b.token[0]):(b.tokenArray=b.token,b.token=null,b.onMatch=this.$arrayTokens):typeof b.token=="function"&&!b.onMatch&&(x>1?b.onMatch=this.$applyToken:b.onMatch=b.token),x>1&&(/\\\d/.test(b.regex)?C=b.regex.replace(/\\([0-9]+)/g,function(_,w){return"\\"+(parseInt(w,10)+p+1)}):(x=1,C=this.removeCapturingGroups(b.regex)),!b.splitRegex&&typeof b.token!="string"&&m.push(b)),d[p]=v,p+=x,f.push(C),b.onMatch||(b.onMatch=null)}}f.length||(d[0]=0,f.push("$")),m.forEach(function(_){_.splitRegex=this.createSplitterRegexp(_.regex,g)},this),this.regExps[c]=new RegExp("("+f.join(")|(")+")|($)",g)}}return a.prototype.$setMaxTokenCount=function(u){s=u|0},a.prototype.$applyToken=function(u){var c=this.splitRegex.exec(u).slice(1),h=this.token.apply(this,c);if(typeof h=="string")return[{type:h,value:u}];for(var f=[],p=0,d=h.length;p<d;p++)c[p]&&(f[f.length]={type:h[p],value:c[p]});return f},a.prototype.$arrayTokens=function(u){if(!u)return[];var c=this.splitRegex.exec(u);if(!c)return"text";for(var h=[],f=this.tokenArray,p=0,d=f.length;p<d;p++)c[p+1]&&(h[h.length]={type:f[p],value:c[p+1]});return h},a.prototype.removeCapturingGroups=function(u){var c=u.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(h,f){return f?"(?:":h});return c},a.prototype.createSplitterRegexp=function(u,c){if(u.indexOf("(?=")!=-1){var h=0,f=!1,p={};u.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(d,g,m,v,b,C){return f?f=b!="]":b?f=!0:v?(h==p.stack&&(p.end=C+1,p.stack=-1),h--):m&&(h++,m.length!=1&&(p.stack=h,p.start=C)),d}),p.end!=null&&/^\)*$/.test(u.substr(p.end))&&(u=u.substring(0,p.start)+u.substr(p.end))}return u.charAt(0)!="^"&&(u="^"+u),u.charAt(u.length-1)!="$"&&(u+="$"),new RegExp(u,(c||"").replace("g",""))},a.prototype.getLineTokens=function(u,c){if(c&&typeof c!="string"){var h=c.slice(0);c=h[0],c==="#tmp"&&(h.shift(),c=h.shift())}else var h=[];var f=c||"start",p=this.states[f];p||(f="start",p=this.states[f]);var d=this.matchMappings[f],g=this.regExps[f];g.lastIndex=0;for(var m,v=[],b=0,C=0,x={type:null,value:""};m=g.exec(u);){var _=d.defaultToken,w=null,y=m[0],S=g.lastIndex;if(S-y.length>b){var A=u.substring(b,S-y.length);x.type==_?x.value+=A:(x.type&&v.push(x),x={type:_,value:A})}for(var M=0;M<m.length-2;M++)if(m[M+1]!==void 0){w=p[d[M]],w.onMatch?_=w.onMatch(y,f,h,u):_=w.token,w.next&&(typeof w.next=="string"?f=w.next:f=w.next(f,h),p=this.states[f],p||(this.reportError("state doesn't exist",f),f="start",p=this.states[f]),d=this.matchMappings[f],b=S,g=this.regExps[f],g.lastIndex=S),w.consumeLineEnd&&(b=S);break}if(y){if(typeof _=="string")(!w||w.merge!==!1)&&x.type===_?x.value+=y:(x.type&&v.push(x),x={type:_,value:y});else if(_){x.type&&v.push(x),x={type:null,value:""};for(var M=0;M<_.length;M++)v.push(_[M])}}if(b==u.length)break;if(b=S,C++>s){for(C>2*u.length&&this.reportError("infinite loop with in ace tokenizer",{startState:c,line:u});b<u.length;)x.type&&v.push(x),x={value:u.substring(b,b+=500),type:"overflow"};f="start",h=[];break}}return x.type&&v.push(x),h.length>1&&h[0]!==f&&h.unshift("#tmp",f),{tokens:v,state:h.length?h:f}},a}();l.prototype.reportError=o,r.Tokenizer=l}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){var o=n("../lib/deep_copy").deepCopy,s;s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(u,c){if(!c){for(var h in u)this.$rules[h]=u[h];return}for(var h in u){for(var f=u[h],p=0;p<f.length;p++){var d=f[p];(d.next||d.onMatch)&&(typeof d.next=="string"&&d.next.indexOf(c)!==0&&(d.next=c+d.next),d.nextState&&d.nextState.indexOf(c)!==0&&(d.nextState=c+d.nextState))}this.$rules[c+h]=f}},this.getRules=function(){return this.$rules},this.embedRules=function(u,c,h,f,p){var d=typeof u=="function"?new u().getRules():u;if(f)for(var g=0;g<f.length;g++)f[g]=c+f[g];else{f=[];for(var m in d)f.push(c+m)}if(this.addRules(d,c),h)for(var v=Array.prototype[p?"push":"unshift"],g=0;g<f.length;g++)v.apply(this.$rules[f[g]],o(h));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var l=function(u,c){return(u!="start"||c.length)&&c.unshift(this.nextState,u),this.nextState},a=function(u,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var u=0,c=this.$rules;function h(f){var p=c[f];p.processed=!0;for(var d=0;d<p.length;d++){var g=p[d],m=null;Array.isArray(g)&&(m=g,g={}),!g.regex&&g.start&&(g.regex=g.start,g.next||(g.next=[]),g.next.push({defaultToken:g.token},{token:g.token+".end",regex:g.end||g.start,next:"pop"}),g.token=g.token+".start",g.push=!0);var v=g.next||g.push;if(v&&Array.isArray(v)){var b=g.stateName;b||(b=g.token,typeof b!="string"&&(b=b[0]||""),c[b]&&(b+=u++)),c[b]=v,g.next=b,h(b)}else v=="pop"&&(g.next=a);if(g.push&&(g.nextState=g.next||g.push,g.next=l,delete g.push),g.rules)for(var C in g.rules)c[C]?c[C].push&&c[C].push.apply(c[C],g.rules[C]):c[C]=g.rules[C];var x=typeof g=="string"?g:g.include;if(x&&(x==="$self"&&(x="start"),Array.isArray(x)?m=x.map(function(w){return c[w]}):m=c[x]),m){var _=[d,1].concat(m);g.noEscape&&(_=_.filter(function(w){return!w.next})),p.splice.apply(p,_),d--}g.keywordMap&&(g.token=this.createKeywordMapper(g.keywordMap,g.defaultToken||"text",g.caseInsensitive),delete g.defaultToken)}}Object.keys(c).forEach(h,this)},this.createKeywordMapper=function(u,c,h,f){var p=Object.create(null);return this.$keywordList=[],Object.keys(u).forEach(function(d){for(var g=u[d],m=g.split(f||"|"),v=m.length;v--;){var b=m[v];this.$keywordList.push(b),h&&(b=b.toLowerCase()),p[b]=d}},this),u=null,h?function(d){return p[d.toLowerCase()]||c}:function(d){return p[d]||c}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),r.TextHighlightRules=s}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,r,i){var o;o=function(){this.$behaviours={}},(function(){this.add=function(s,l,a){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[s]:this.$behaviours[s]={}}this.$behaviours[s][l]=a},this.addBehaviours=function(s){for(var l in s)for(var a in s[l])this.add(l,a,s[l][a])},this.remove=function(s){this.$behaviours&&this.$behaviours[s]&&delete this.$behaviours[s]},this.inherit=function(s,l){if(typeof s=="function")var a=new s().getBehaviours(l);else var a=s.getBehaviours(l);this.addBehaviours(a)},this.getBehaviours=function(s){if(s){for(var l={},a=0;a<s.length;a++)this.$behaviours[s[a]]&&(l[s[a]]=this.$behaviours[s[a]]);return l}else return this.$behaviours}}).call(o.prototype),r.Behaviour=o}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,r,i){var o=n("./range").Range,s=function(){function l(a,u,c){this.$session=a,this.$row=u,this.$rowTokens=a.getTokens(u);var h=a.getTokenAt(u,c);this.$tokenIndex=h?h.index:-1}return l.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},l.prototype.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,a||(a=this.$session.getLength()),this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},l.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},l.prototype.getCurrentTokenRow=function(){return this.$row},l.prototype.getCurrentTokenColumn=function(){var a=this.$rowTokens,u=this.$tokenIndex,c=a[u].start;if(c!==void 0)return c;for(c=0;u>0;)u-=1,c+=a[u].value.length;return c},l.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},l.prototype.getCurrentTokenRange=function(){var a=this.$rowTokens[this.$tokenIndex],u=this.getCurrentTokenColumn();return new o(this.$row,u,this.$row,u+a.value.length)},l}();r.TokenIterator=s}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,r,i){var o=n("../../lib/oop"),s=n("../behaviour").Behaviour,l=n("../../token_iterator").TokenIterator,a=n("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h,f={},p={'"':'"',"'":"'"},d=function(v){var b=-1;if(v.multiSelect&&(b=v.selection.index,f.rangeCount!=v.multiSelect.rangeCount&&(f={rangeCount:v.multiSelect.rangeCount})),f[b])return h=f[b];h=f[b]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},g=function(v,b,C,x){var _=v.end.row-v.start.row;return{text:C+b+x,selection:[0,v.start.column+1,_,v.end.column+(_?0:1)]}},m;m=function(v){v=v||{},this.add("braces","insertion",function(b,C,x,_,w){var y=x.getCursorPosition(),S=_.doc.getLine(y.row);if(w=="{"){d(x);var A=x.getSelectionRange(),M=_.doc.getTextRange(A),R=_.getTokenAt(y.row,y.column);if(M!==""&&M!=="{"&&x.getWrapBehavioursEnabled())return g(A,M,"{","}");if(R&&/(?:string)\.quasi|\.xml/.test(R.type)){var k=[/tag\-(?:open|name)/,/attribute\-name/];return k.some(function(W){return W.test(R.type)})||/(string)\.quasi/.test(R.type)&&R.value[y.column-R.start-1]!=="$"?void 0:(m.recordAutoInsert(x,_,"}"),{text:"{}",selection:[1,1]})}else if(m.isSaneInsertion(x,_))return/[\]\}\)]/.test(S[y.column])||x.inMultiSelectMode||v.braces?(m.recordAutoInsert(x,_,"}"),{text:"{}",selection:[1,1]}):(m.recordMaybeInsert(x,_,"{"),{text:"{",selection:[1,1]})}else if(w=="}"){d(x);var $=S.substring(y.column,y.column+1);if($=="}"){var E=_.$findOpeningBracket("}",{column:y.column+1,row:y.row});if(E!==null&&m.isAutoInsertedClosing(y,S,w))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(w==`
`||w==`\r
`){d(x);var L="";m.isMaybeInsertedClosing(y,S)&&(L=a.stringRepeat("}",h.maybeInsertedBrackets),m.clearMaybeInsertedClosing());var $=S.substring(y.column,y.column+1);if($==="}"){var P=_.findMatchingBracket({row:y.row,column:y.column+1},"}");if(!P)return null;var I=this.$getIndent(_.getLine(P.row))}else if(L)var I=this.$getIndent(S);else{m.clearMaybeInsertedClosing();return}var D=I+_.getTabString();return{text:`
`+D+`
`+I+L,selection:[1,D.length,1,D.length]}}else m.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(b,C,x,_,w){var y=_.doc.getTextRange(w);if(!w.isMultiLine()&&y=="{"){d(x);var S=_.doc.getLine(w.start.row),A=S.substring(w.end.column,w.end.column+1);if(A=="}")return w.end.column++,w;h.maybeInsertedBrackets--}}),this.add("parens","insertion",function(b,C,x,_,w){if(w=="("){d(x);var y=x.getSelectionRange(),S=_.doc.getTextRange(y);if(S!==""&&x.getWrapBehavioursEnabled())return g(y,S,"(",")");if(m.isSaneInsertion(x,_))return m.recordAutoInsert(x,_,")"),{text:"()",selection:[1,1]}}else if(w==")"){d(x);var A=x.getCursorPosition(),M=_.doc.getLine(A.row),R=M.substring(A.column,A.column+1);if(R==")"){var k=_.$findOpeningBracket(")",{column:A.column+1,row:A.row});if(k!==null&&m.isAutoInsertedClosing(A,M,w))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(b,C,x,_,w){var y=_.doc.getTextRange(w);if(!w.isMultiLine()&&y=="("){d(x);var S=_.doc.getLine(w.start.row),A=S.substring(w.start.column+1,w.start.column+2);if(A==")")return w.end.column++,w}}),this.add("brackets","insertion",function(b,C,x,_,w){if(w=="["){d(x);var y=x.getSelectionRange(),S=_.doc.getTextRange(y);if(S!==""&&x.getWrapBehavioursEnabled())return g(y,S,"[","]");if(m.isSaneInsertion(x,_))return m.recordAutoInsert(x,_,"]"),{text:"[]",selection:[1,1]}}else if(w=="]"){d(x);var A=x.getCursorPosition(),M=_.doc.getLine(A.row),R=M.substring(A.column,A.column+1);if(R=="]"){var k=_.$findOpeningBracket("]",{column:A.column+1,row:A.row});if(k!==null&&m.isAutoInsertedClosing(A,M,w))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(b,C,x,_,w){var y=_.doc.getTextRange(w);if(!w.isMultiLine()&&y=="["){d(x);var S=_.doc.getLine(w.start.row),A=S.substring(w.start.column+1,w.start.column+2);if(A=="]")return w.end.column++,w}}),this.add("string_dquotes","insertion",function(b,C,x,_,w){var y=_.$mode.$quotes||p;if(w.length==1&&y[w]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(w)!=-1)return;d(x);var S=w,A=x.getSelectionRange(),M=_.doc.getTextRange(A);if(M!==""&&(M.length!=1||!y[M])&&x.getWrapBehavioursEnabled())return g(A,M,S,S);if(!M){var R=x.getCursorPosition(),k=_.doc.getLine(R.row),$=k.substring(R.column-1,R.column),E=k.substring(R.column,R.column+1),L=_.getTokenAt(R.row,R.column),P=_.getTokenAt(R.row,R.column+1);if($=="\\"&&L&&/escape/.test(L.type))return null;var I=L&&/string|escape/.test(L.type),D=!P||/string|escape/.test(P.type),W;if(E==S)W=I!==D,W&&/string\.end/.test(P.type)&&(W=!1);else{if(I&&!D||I&&D)return null;var z=_.$mode.tokenRe;z.lastIndex=0;var G=z.test($);z.lastIndex=0;var Z=z.test(E),q=_.$mode.$pairQuotesAfter,X=q&&q[S]&&q[S].test($);if(!X&&G||Z||E&&!/[\s;,.})\]\\]/.test(E))return null;var Y=k[R.column-2];if($==S&&(Y==S||z.test(Y)))return null;W=!0}return{text:W?S+S:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(b,C,x,_,w){var y=_.$mode.$quotes||p,S=_.doc.getTextRange(w);if(!w.isMultiLine()&&y.hasOwnProperty(S)){d(x);var A=_.doc.getLine(w.start.row),M=A.substring(w.start.column+1,w.start.column+2);if(M==S)return w.end.column++,w}}),v.closeDocComment!==!1&&this.add("doc comment end","insertion",function(b,C,x,_,w){if(b==="doc-start"&&(w===`
`||w===`\r
`)&&x.selection.isEmpty()){var y=x.getCursorPosition();if(y.column===0)return;for(var S=_.doc.getLine(y.row),A=_.doc.getLine(y.row+1),M=_.getTokens(y.row),R=0,k=0;k<M.length;k++){R+=M[k].value.length;var $=M[k];if(R>=y.column){if(R===y.column){if(!/\.doc/.test($.type))return;if(/\*\//.test($.value)){var E=M[k+1];if(!E||!/\.doc/.test(E.type))return}}var L=y.column-(R-$.value.length),P=$.value.indexOf("*/"),I=$.value.indexOf("/**",P>-1?P+2:0);if(I!==-1&&L>I&&L<I+3||P!==-1&&I!==-1&&L>=P&&L<=I||!/\.doc/.test($.type))return;break}}var D=this.$getIndent(S);if(/\s*\*/.test(A))return/^\s*\*/.test(S)?{text:w+D+"* ",selection:[1,2+D.length,1,2+D.length]}:{text:w+D+" * ",selection:[1,3+D.length,1,3+D.length]};if(/\/\*\*/.test(S.substring(0,y.column)))return{text:w+D+" * "+w+" "+D+"*/",selection:[1,4+D.length,1,4+D.length]}}})},m.isSaneInsertion=function(v,b){var C=v.getCursorPosition(),x=new l(b,C.row,C.column);if(!this.$matchTokenType(x.getCurrentToken()||"text",u)){if(/[)}\]]/.test(v.session.getLine(C.row)[C.column]))return!0;var _=new l(b,C.row,C.column+1);if(!this.$matchTokenType(_.getCurrentToken()||"text",u))return!1}return x.stepForward(),x.getCurrentTokenRow()!==C.row||this.$matchTokenType(x.getCurrentToken()||"text",c)},m.$matchTokenType=function(v,b){return b.indexOf(v.type||v)>-1},m.recordAutoInsert=function(v,b,C){var x=v.getCursorPosition(),_=b.doc.getLine(x.row);this.isAutoInsertedClosing(x,_,h.autoInsertedLineEnd[0])||(h.autoInsertedBrackets=0),h.autoInsertedRow=x.row,h.autoInsertedLineEnd=C+_.substr(x.column),h.autoInsertedBrackets++},m.recordMaybeInsert=function(v,b,C){var x=v.getCursorPosition(),_=b.doc.getLine(x.row);this.isMaybeInsertedClosing(x,_)||(h.maybeInsertedBrackets=0),h.maybeInsertedRow=x.row,h.maybeInsertedLineStart=_.substr(0,x.column)+C,h.maybeInsertedLineEnd=_.substr(x.column),h.maybeInsertedBrackets++},m.isAutoInsertedClosing=function(v,b,C){return h.autoInsertedBrackets>0&&v.row===h.autoInsertedRow&&C===h.autoInsertedLineEnd[0]&&b.substr(v.column)===h.autoInsertedLineEnd},m.isMaybeInsertedClosing=function(v,b){return h.maybeInsertedBrackets>0&&v.row===h.maybeInsertedRow&&b.substr(v.column)===h.maybeInsertedLineEnd&&b.substr(0,v.column)==h.maybeInsertedLineStart},m.popAutoInsertedClosing=function(){h.autoInsertedLineEnd=h.autoInsertedLineEnd.substr(1),h.autoInsertedBrackets--},m.clearMaybeInsertedClosing=function(){h&&(h.maybeInsertedBrackets=0,h.maybeInsertedRow=-1)},o.inherits(m,s),r.CstyleBehaviour=m}),ace.define("ace/unicode",["require","exports","module"],function(n,r,i){for(var o=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,l=[],a=0;a<o.length;a+=2)l.push(s+=o[a]),o[a+1]&&l.push(45,s+=o[a+1]);r.wordChars=String.fromCharCode.apply(null,l)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,r,i){var o=n("../config"),s=n("../tokenizer").Tokenizer,l=n("./text_highlight_rules").TextHighlightRules,a=n("./behaviour/cstyle").CstyleBehaviour,u=n("../unicode"),c=n("../lib/lang"),h=n("../token_iterator").TokenIterator,f=n("../range").Range,p;p=function(){this.HighlightRules=l},(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(d,g,m,v){var b=g.doc,C=!0,x=!0,_=1/0,w=g.getTabSize(),y=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var M=this.lineCommentStart.map(c.escapeRegExp).join("|"),S=this.lineCommentStart[0];else var M=c.escapeRegExp(this.lineCommentStart),S=this.lineCommentStart;M=new RegExp("^(\\s*)(?:"+M+") ?"),y=g.getUseSoftTabs();var $=function(Z,q){var X=Z.match(M);if(X){var Y=X[1].length,ee=X[0].length;!P(Z,Y,ee)&&X[0][ee-1]==" "&&ee--,b.removeInLine(q,Y,ee)}},L=S+" ",k=function(Z,q){(!C||/\S/.test(Z))&&(P(Z,_,_)?b.insertInLine({row:q,column:_},L):b.insertInLine({row:q,column:_},S))},E=function(Z,q){return M.test(Z)},P=function(Z,q,X){for(var Y=0;q--&&Z.charAt(q)==" ";)Y++;if(Y%w!=0)return!1;for(var Y=0;Z.charAt(X++)==" ";)Y++;return w>2?Y%w!=w-1:Y%w==0}}else{if(!this.blockComment)return!1;var S=this.blockComment.start,A=this.blockComment.end,M=new RegExp("^(\\s*)(?:"+c.escapeRegExp(S)+")"),R=new RegExp("(?:"+c.escapeRegExp(A)+")\\s*$"),k=function(W,z){E(W,z)||(!C||/\S/.test(W))&&(b.insertInLine({row:z,column:W.length},A),b.insertInLine({row:z,column:_},S))},$=function(W,z){var G;(G=W.match(R))&&b.removeInLine(z,W.length-G[0].length,W.length),(G=W.match(M))&&b.removeInLine(z,G[1].length,G[0].length)},E=function(W,z){if(M.test(W))return!0;for(var G=g.getTokens(z),Z=0;Z<G.length;Z++)if(G[Z].type==="comment")return!0}}function I(W){for(var z=m;z<=v;z++)W(b.getLine(z),z)}var D=1/0;I(function(W,z){var G=W.search(/\S/);G!==-1?(G<_&&(_=G),x&&!E(W,z)&&(x=!1)):D>W.length&&(D=W.length)}),_==1/0&&(_=D,C=!1,x=!1),y&&_%w!=0&&(_=Math.floor(_/w)*w),I(x?$:k)},this.toggleBlockComment=function(d,g,m,v){var b=this.blockComment;if(b){!b.start&&b[0]&&(b=b[0]);var C=new h(g,v.row,v.column),x=C.getCurrentToken();g.selection;var _=g.selection.toOrientedRange(),w,y;if(x&&/comment/.test(x.type)){for(var S,A;x&&/comment/.test(x.type);){var M=x.value.indexOf(b.start);if(M!=-1){var R=C.getCurrentTokenRow(),k=C.getCurrentTokenColumn()+M;S=new f(R,k,R,k+b.start.length);break}x=C.stepBackward()}for(var C=new h(g,v.row,v.column),x=C.getCurrentToken();x&&/comment/.test(x.type);){var M=x.value.indexOf(b.end);if(M!=-1){var R=C.getCurrentTokenRow(),k=C.getCurrentTokenColumn()+M;A=new f(R,k,R,k+b.end.length);break}x=C.stepForward()}A&&g.remove(A),S&&(g.remove(S),w=S.start.row,y=-b.start.length)}else y=b.start.length,w=m.start.row,g.insert(m.end,b.end),g.insert(m.start,b.start);_.start.row==w&&(_.start.column+=y),_.end.row==w&&(_.end.column+=y),g.selection.fromOrientedRange(_)}},this.getNextLineIndent=function(d,g,m){return this.$getIndent(g)},this.checkOutdent=function(d,g,m){return!1},this.autoOutdent=function(d,g,m){},this.$getIndent=function(d){return d.match(/^\s*/)[0]},this.createWorker=function(d){return null},this.createModeDelegates=function(d){this.$embeds=[],this.$modes={};for(var g in d)if(d[g]){var m=d[g],v=m.prototype.$id,b=o.$modes[v];b||(o.$modes[v]=b=new m),o.$modes[g]||(o.$modes[g]=b),this.$embeds.push(g),this.$modes[g]=b}for(var C=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],x=function(w){(function(y){var S=C[w],A=y[S];y[C[w]]=function(){return this.$delegator(S,arguments,A)}})(_)},_=this,g=0;g<C.length;g++)x(g)},this.$delegator=function(d,g,m){var v=g[0]||"start";if(typeof v!="string"){if(Array.isArray(v[2])){var b=v[2][v[2].length-1],C=this.$modes[b];if(C)return C[d].apply(C,[v[1]].concat([].slice.call(g,1)))}v=v[0]||"start"}for(var x=0;x<this.$embeds.length;x++)if(this.$modes[this.$embeds[x]]){var _=v.split(this.$embeds[x]);if(!_[0]&&_[1]){g[0]=_[1];var C=this.$modes[this.$embeds[x]];return C[d].apply(C,g)}}var w=m.apply(this,g);return m?w:void 0},this.transformAction=function(d,g,m,v,b){if(this.$behaviour){var C=this.$behaviour.getBehaviours();for(var x in C)if(C[x][g]){var _=C[x][g].apply(this,arguments);if(_)return _}}},this.getKeywords=function(d){if(!this.completionKeywords){var g=this.$tokenizer.rules,m=[];for(var v in g)for(var b=g[v],C=0,x=b.length;C<x;C++)if(typeof b[C].token=="string")/keyword|support|storage/.test(b[C].token)&&m.push(b[C].regex);else if(typeof b[C].token=="object"){for(var _=0,w=b[C].token.length;_<w;_++)if(/keyword|support|storage/.test(b[C].token[_])){var v=b[C].regex.match(/\(.+?\)/g)[_];m.push(v.substr(1,v.length-2))}}this.completionKeywords=m}return d?m.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(d,g,m,v){var b=this.$keywordList||this.$createKeywordList();return b.map(function(C){return{name:C,value:C,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(p.prototype),r.Mode=p}),ace.define("ace/apply_delta",["require","exports","module"],function(n,r,i){r.applyDelta=function(o,s,l){var a=s.start.row,u=s.start.column,c=o[a]||"";switch(s.action){case"insert":var h=s.lines;if(h.length===1)o[a]=c.substring(0,u)+s.lines[0]+c.substring(u);else{var f=[a,1].concat(s.lines);o.splice.apply(o,f),o[a]=c.substring(0,u)+o[a],o[a+s.lines.length-1]+=c.substring(u)}break;case"remove":var p=s.end.column,d=s.end.row;a===d?o[a]=c.substring(0,u)+c.substring(p):o.splice(a,d-a+1,c.substring(0,u)+o[d].substring(p));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,l=function(){function c(h,f,p){this.$onChange=this.onChange.bind(this),this.attach(h),typeof f!="number"?this.setPosition(f.row,f.column):this.setPosition(f,p)}return c.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},c.prototype.getDocument=function(){return this.document},c.prototype.onChange=function(h){if(!(h.start.row==h.end.row&&h.start.row!=this.row)&&!(h.start.row>this.row)){var f=u(h,{row:this.row,column:this.column},this.$insertRight);this.setPosition(f.row,f.column,!0)}},c.prototype.setPosition=function(h,f,p){var d;if(p?d={row:h,column:f}:d=this.$clipPositionToDocument(h,f),!(this.row==d.row&&this.column==d.column)){var g={row:this.row,column:this.column};this.row=d.row,this.column=d.column,this._signal("change",{old:g,value:d})}},c.prototype.detach=function(){this.document.off("change",this.$onChange)},c.prototype.attach=function(h){this.document=h||this.document,this.document.on("change",this.$onChange)},c.prototype.$clipPositionToDocument=function(h,f){var p={};return h>=this.document.getLength()?(p.row=Math.max(0,this.document.getLength()-1),p.column=this.document.getLine(p.row).length):h<0?(p.row=0,p.column=0):(p.row=h,p.column=Math.min(this.document.getLine(p.row).length,Math.max(0,f))),f<0&&(p.column=0),p},c}();l.prototype.$insertRight=!1,o.implement(l.prototype,s);function a(c,h,f){var p=f?c.column<=h.column:c.column<h.column;return c.row<h.row||c.row==h.row&&p}function u(c,h,f){var p=c.action=="insert",d=(p?1:-1)*(c.end.row-c.start.row),g=(p?1:-1)*(c.end.column-c.start.column),m=c.start,v=p?m:c.end;return a(h,m,f)?{row:h.row,column:h.column}:a(v,h,!f)?{row:h.row+d,column:h.column+(h.row==v.row?g:0)}:{row:m.row,column:m.column}}r.Anchor=l}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,r,i){var o=n("./lib/oop"),s=n("./apply_delta").applyDelta,l=n("./lib/event_emitter").EventEmitter,a=n("./range").Range,u=n("./anchor").Anchor,c=function(){function h(f){this.$lines=[""],f.length===0?this.$lines=[""]:Array.isArray(f)?this.insertMergedLines({row:0,column:0},f):this.insert({row:0,column:0},f)}return h.prototype.setValue=function(f){var p=this.getLength()-1;this.remove(new a(0,0,p,this.getLine(p).length)),this.insert({row:0,column:0},f||"")},h.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},h.prototype.createAnchor=function(f,p){return new u(this,f,p)},h.prototype.$detectNewLine=function(f){var p=f.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=p?p[1]:`
`,this._signal("changeNewLineMode")},h.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},h.prototype.setNewLineMode=function(f){this.$newLineMode!==f&&(this.$newLineMode=f,this._signal("changeNewLineMode"))},h.prototype.getNewLineMode=function(){return this.$newLineMode},h.prototype.isNewLine=function(f){return f==`\r
`||f=="\r"||f==`
`},h.prototype.getLine=function(f){return this.$lines[f]||""},h.prototype.getLines=function(f,p){return this.$lines.slice(f,p+1)},h.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},h.prototype.getLength=function(){return this.$lines.length},h.prototype.getTextRange=function(f){return this.getLinesForRange(f).join(this.getNewLineCharacter())},h.prototype.getLinesForRange=function(f){var p;if(f.start.row===f.end.row)p=[this.getLine(f.start.row).substring(f.start.column,f.end.column)];else{p=this.getLines(f.start.row,f.end.row),p[0]=(p[0]||"").substring(f.start.column);var d=p.length-1;f.end.row-f.start.row==d&&(p[d]=p[d].substring(0,f.end.column))}return p},h.prototype.insertLines=function(f,p){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(f,p)},h.prototype.removeLines=function(f,p){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(f,p)},h.prototype.insertNewLine=function(f){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(f,["",""])},h.prototype.insert=function(f,p){return this.getLength()<=1&&this.$detectNewLine(p),this.insertMergedLines(f,this.$split(p))},h.prototype.insertInLine=function(f,p){var d=this.clippedPos(f.row,f.column),g=this.pos(f.row,f.column+p.length);return this.applyDelta({start:d,end:g,action:"insert",lines:[p]},!0),this.clonePos(g)},h.prototype.clippedPos=function(f,p){var d=this.getLength();f===void 0?f=d:f<0?f=0:f>=d&&(f=d-1,p=void 0);var g=this.getLine(f);return p==null&&(p=g.length),p=Math.min(Math.max(p,0),g.length),{row:f,column:p}},h.prototype.clonePos=function(f){return{row:f.row,column:f.column}},h.prototype.pos=function(f,p){return{row:f,column:p}},h.prototype.$clipPosition=function(f){var p=this.getLength();return f.row>=p?(f.row=Math.max(0,p-1),f.column=this.getLine(p-1).length):(f.row=Math.max(0,f.row),f.column=Math.min(Math.max(f.column,0),this.getLine(f.row).length)),f},h.prototype.insertFullLines=function(f,p){f=Math.min(Math.max(f,0),this.getLength());var d=0;f<this.getLength()?(p=p.concat([""]),d=0):(p=[""].concat(p),f--,d=this.$lines[f].length),this.insertMergedLines({row:f,column:d},p)},h.prototype.insertMergedLines=function(f,p){var d=this.clippedPos(f.row,f.column),g={row:d.row+p.length-1,column:(p.length==1?d.column:0)+p[p.length-1].length};return this.applyDelta({start:d,end:g,action:"insert",lines:p}),this.clonePos(g)},h.prototype.remove=function(f){var p=this.clippedPos(f.start.row,f.start.column),d=this.clippedPos(f.end.row,f.end.column);return this.applyDelta({start:p,end:d,action:"remove",lines:this.getLinesForRange({start:p,end:d})}),this.clonePos(p)},h.prototype.removeInLine=function(f,p,d){var g=this.clippedPos(f,p),m=this.clippedPos(f,d);return this.applyDelta({start:g,end:m,action:"remove",lines:this.getLinesForRange({start:g,end:m})},!0),this.clonePos(g)},h.prototype.removeFullLines=function(f,p){f=Math.min(Math.max(0,f),this.getLength()-1),p=Math.min(Math.max(0,p),this.getLength()-1);var d=p==this.getLength()-1&&f>0,g=p<this.getLength()-1,m=d?f-1:f,v=d?this.getLine(m).length:0,b=g?p+1:p,C=g?0:this.getLine(b).length,x=new a(m,v,b,C),_=this.$lines.slice(f,p+1);return this.applyDelta({start:x.start,end:x.end,action:"remove",lines:this.getLinesForRange(x)}),_},h.prototype.removeNewLine=function(f){f<this.getLength()-1&&f>=0&&this.applyDelta({start:this.pos(f,this.getLine(f).length),end:this.pos(f+1,0),action:"remove",lines:["",""]})},h.prototype.replace=function(f,p){if(f instanceof a||(f=a.fromPoints(f.start,f.end)),p.length===0&&f.isEmpty())return f.start;if(p==this.getTextRange(f))return f.end;this.remove(f);var d;return p?d=this.insert(f.start,p):d=f.start,d},h.prototype.applyDeltas=function(f){for(var p=0;p<f.length;p++)this.applyDelta(f[p])},h.prototype.revertDeltas=function(f){for(var p=f.length-1;p>=0;p--)this.revertDelta(f[p])},h.prototype.applyDelta=function(f,p){var d=f.action=="insert";(d?f.lines.length<=1&&!f.lines[0]:!a.comparePoints(f.start,f.end))||(d&&f.lines.length>2e4?this.$splitAndapplyLargeDelta(f,2e4):(s(this.$lines,f,p),this._signal("change",f)))},h.prototype.$safeApplyDelta=function(f){var p=this.$lines.length;(f.action=="remove"&&f.start.row<p&&f.end.row<p||f.action=="insert"&&f.start.row<=p)&&this.applyDelta(f)},h.prototype.$splitAndapplyLargeDelta=function(f,p){for(var d=f.lines,g=d.length-p+1,m=f.start.row,v=f.start.column,b=0,C=0;b<g;b=C){C+=p-1;var x=d.slice(b,C);x.push(""),this.applyDelta({start:this.pos(m+b,v),end:this.pos(m+C,v=0),action:f.action,lines:x},!0)}f.lines=d.slice(b),f.start.row=m+b,f.start.column=v,this.applyDelta(f,!0)},h.prototype.revertDelta=function(f){this.$safeApplyDelta({start:this.clonePos(f.start),end:this.clonePos(f.end),action:f.action=="insert"?"remove":"insert",lines:f.lines.slice()})},h.prototype.indexToPosition=function(f,p){for(var d=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,m=p||0,v=d.length;m<v;m++)if(f-=d[m].length+g,f<0)return{row:m,column:f+d[m].length+g};return{row:v-1,column:f+d[v-1].length+g}},h.prototype.positionToIndex=function(f,p){for(var d=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,m=0,v=Math.min(f.row,d.length),b=p||0;b<v;++b)m+=d[b].length+g;return m+f.column},h.prototype.$split=function(f){return f.split(/\r\n|\r|\n/)},h}();c.prototype.$autoNewLine="",c.prototype.$newLineMode="auto",o.implement(c.prototype,l),r.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,l=function(){function a(u,c){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=u;var h=this;this.$worker=function(){if(h.running){for(var f=new Date,p=h.currentLine,d=-1,g=h.doc,m=p;h.lines[p];)p++;var v=g.getLength(),b=0;for(h.running=!1;p<v;){h.$tokenizeRow(p),d=p;do p++;while(h.lines[p]);if(b++,b%5===0&&new Date-f>20){h.running=setTimeout(h.$worker,20);break}}h.currentLine=p,d==-1&&(d=p),m<=d&&h.fireUpdateEvent(m,d)}}}return a.prototype.setTokenizer=function(u){this.tokenizer=u,this.lines=[],this.states=[],this.start(0)},a.prototype.setDocument=function(u){this.doc=u,this.lines=[],this.states=[],this.stop()},a.prototype.fireUpdateEvent=function(u,c){var h={first:u,last:c};this._signal("update",{data:h})},a.prototype.start=function(u){this.currentLine=Math.min(u||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},a.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},a.prototype.$updateOnChange=function(u){var c=u.start.row,h=u.end.row-c;if(h===0)this.lines[c]=null;else if(u.action=="remove")this.lines.splice(c,h+1,null),this.states.splice(c,h+1,null);else{var f=Array(h+1);f.unshift(c,1),this.lines.splice.apply(this.lines,f),this.states.splice.apply(this.states,f)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop()},a.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},a.prototype.getTokens=function(u){return this.lines[u]||this.$tokenizeRow(u)},a.prototype.getState=function(u){return this.currentLine==u&&this.$tokenizeRow(u),this.states[u]||"start"},a.prototype.$tokenizeRow=function(u){var c=this.doc.getLine(u),h=this.states[u-1],f=this.tokenizer.getLineTokens(c,h,u);return this.states[u]+""!=f.state+""?(this.states[u]=f.state,this.lines[u+1]=null,this.currentLine>u+1&&(this.currentLine=u+1)):this.currentLine==u&&(this.currentLine=u+1),this.lines[u]=f.tokens},a.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},a}();o.implement(l.prototype,s),r.BackgroundTokenizer=l}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,r,i){var o=n("./lib/lang"),s=n("./range").Range,l=function(){function a(u,c,h){h===void 0&&(h="text"),this.setRegexp(u),this.clazz=c,this.type=h}return a.prototype.setRegexp=function(u){this.regExp+""!=u+""&&(this.regExp=u,this.cache=[])},a.prototype.update=function(u,c,h,f){if(this.regExp)for(var p=f.firstRow,d=f.lastRow,g={},m=p;m<=d;m++){var v=this.cache[m];v==null&&(v=o.getMatchOffsets(h.getLine(m),this.regExp),v.length>this.MAX_RANGES&&(v=v.slice(0,this.MAX_RANGES)),v=v.map(function(_){return new s(m,_.offset,m,_.offset+_.length)}),this.cache[m]=v.length?v:"");for(var b=v.length;b--;){var C=v[b].toScreenRange(h),x=C.toString();g[x]||(g[x]=!0,c.drawSingleLineMarker(u,C,this.clazz,f))}}},a}();l.prototype.MAX_RANGES=500,r.SearchHighlight=l}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,r,i){var o=function(){function _(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return _.prototype.addSession=function(w){this.$session=w},_.prototype.add=function(w,y,S){if(!this.$fromUndo&&w!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),y===!1||!this.lastDeltas){this.lastDeltas=[];var A=this.$undoStack.length;A>this.$undoDepth-1&&this.$undoStack.splice(0,A-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),w.id=this.$rev=++this.$maxRev}(w.action=="remove"||w.action=="insert")&&(this.$lastDelta=w),this.lastDeltas.push(w)}},_.prototype.addSelection=function(w,y){this.selections.push({value:w,rev:y||this.$rev})},_.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},_.prototype.markIgnored=function(w,y){y==null&&(y=this.$rev+1);for(var S=this.$undoStack,A=S.length;A--;){var M=S[A][0];if(M.id<=w)break;M.id<y&&(M.ignore=!0)}this.lastDeltas=null},_.prototype.getSelection=function(w,y){for(var S=this.selections,A=S.length;A--;){var M=S[A];if(M.rev<w)return y&&(M=S[A+1]),M}},_.prototype.getRevision=function(){return this.$rev},_.prototype.getDeltas=function(w,y){y==null&&(y=this.$rev+1);for(var S=this.$undoStack,A=null,M=0,R=S.length;R--;){var k=S[R][0];if(k.id<y&&!A&&(A=R+1),k.id<=w){M=R+1;break}}return S.slice(M,A)},_.prototype.getChangedRanges=function(w,y){y==null&&(y=this.$rev+1)},_.prototype.getChangedLines=function(w,y){y==null&&(y=this.$rev+1)},_.prototype.undo=function(w,y){this.lastDeltas=null;var S=this.$undoStack;if(s(S,S.length)){w||(w=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var A=S.pop(),M=null;return A&&(M=w.undoChanges(A,y),this.$redoStack.push(A),this.$syncRev()),this.$fromUndo=!1,M}},_.prototype.redo=function(w,y){if(this.lastDeltas=null,w||(w=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var S=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);x(this.$redoStack,S),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(R){R[0].id=++this.$maxRev},this)}var A=this.$redoStack.pop(),M=null;return A&&(M=w.redoChanges(A,y),this.$undoStack.push(A),this.$syncRev()),this.$fromUndo=!1,M},_.prototype.$syncRev=function(){var w=this.$undoStack,y=w[w.length-1],S=y&&y[0].id||0;this.$redoStackBaseRev=S,this.$rev=S},_.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},_.prototype.canUndo=function(){return this.$undoStack.length>0},_.prototype.canRedo=function(){return this.$redoStack.length>0},_.prototype.bookmark=function(w){w==null&&(w=this.$rev),this.mark=w},_.prototype.isAtBookmark=function(){return this.$rev===this.mark},_.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},_.prototype.fromJSON=function(w){this.reset(),this.$undoStack=w.$undoStack,this.$redoStack=w.$redoStack},_.prototype.$prettyPrint=function(w){return w?h(w):h(this.$undoStack)+`
---
`+h(this.$redoStack)},_}();o.prototype.hasUndo=o.prototype.canUndo,o.prototype.hasRedo=o.prototype.canRedo,o.prototype.isClean=o.prototype.isAtBookmark,o.prototype.markClean=o.prototype.bookmark;function s(_,w){for(var y=w;y--;){var S=_[y];if(S&&!S[0].ignore){for(;y<w-1;){var A=d(_[y],_[y+1]);_[y]=A[0],_[y+1]=A[1],y++}return!0}}}var l=n("./range").Range,a=l.comparePoints;l.comparePoints;function u(_){return{row:_.row,column:_.column}}function c(_){return{start:u(_.start),end:u(_.end),action:_.action,lines:_.lines.slice()}}function h(_){if(_=_||this,Array.isArray(_))return _.map(h).join(`
`);var w="";return _.action?(w=_.action=="insert"?"+":"-",w+="["+_.lines+"]"):_.value&&(Array.isArray(_.value)?w=_.value.map(f).join(`
`):w=f(_.value)),_.start&&(w+=f(_)),(_.id||_.rev)&&(w+="	("+(_.id||_.rev)+")"),w}function f(_){return _.start.row+":"+_.start.column+"=>"+_.end.row+":"+_.end.column}function p(_,w){var y=_.action=="insert",S=w.action=="insert";if(y&&S)if(a(w.start,_.end)>=0)m(w,_,-1);else if(a(w.start,_.start)<=0)m(_,w,1);else return null;else if(y&&!S)if(a(w.start,_.end)>=0)m(w,_,-1);else if(a(w.end,_.start)<=0)m(_,w,-1);else return null;else if(!y&&S)if(a(w.start,_.start)>=0)m(w,_,1);else if(a(w.start,_.start)<=0)m(_,w,1);else return null;else if(!y&&!S)if(a(w.start,_.start)>=0)m(w,_,1);else if(a(w.end,_.start)<=0)m(_,w,-1);else return null;return[w,_]}function d(_,w){for(var y=_.length;y--;)for(var S=0;S<w.length;S++)if(!p(_[y],w[S])){for(;y<_.length;){for(;S--;)p(w[S],_[y]);S=w.length,y++}return[_,w]}return _.selectionBefore=w.selectionBefore=_.selectionAfter=w.selectionAfter=null,[w,_]}function g(_,w){var y=_.action=="insert",S=w.action=="insert";if(y&&S)a(_.start,w.start)<0?m(w,_,1):m(_,w,1);else if(y&&!S)a(_.start,w.end)>=0?m(_,w,-1):(a(_.start,w.start)<=0||m(_,l.fromPoints(w.start,_.start),-1),m(w,_,1));else if(!y&&S)a(w.start,_.end)>=0?m(w,_,-1):(a(w.start,_.start)<=0||m(w,l.fromPoints(_.start,w.start),-1),m(_,w,1));else if(!y&&!S)if(a(w.start,_.end)>=0)m(w,_,-1);else if(a(w.end,_.start)<=0)m(_,w,-1);else{var A,M;return a(_.start,w.start)<0&&(A=_,_=b(_,w.start)),a(_.end,w.end)>0&&(M=b(_,w.end)),v(w.end,_.start,_.end,-1),M&&!A&&(_.lines=M.lines,_.start=M.start,_.end=M.end,M=_),[w,A,M].filter(Boolean)}return[w,_]}function m(_,w,y){v(_.start,w.start,w.end,y),v(_.end,w.start,w.end,y)}function v(_,w,y,S){_.row==(S==1?w:y).row&&(_.column+=S*(y.column-w.column)),_.row+=S*(y.row-w.row)}function b(_,w){var y=_.lines,S=_.end;_.end=u(w);var A=_.end.row-_.start.row,M=y.splice(A,y.length),R=A?w.column:w.column-_.start.column;y.push(M[0].substring(0,R)),M[0]=M[0].substr(R);var k={start:u(w),end:S,lines:M,action:_.action};return k}function C(_,w){w=c(w);for(var y=_.length;y--;){for(var S=_[y],A=0;A<S.length;A++){var M=S[A],R=g(M,w);w=R[0],R.length!=2&&(R[2]?(S.splice(A+1,1,R[1],R[2]),A++):R[1]||(S.splice(A,1),A--))}S.length||_.splice(y,1)}return _}function x(_,w){for(var y=0;y<w.length;y++)for(var S=w[y],A=0;A<S.length;A++)C(_,S[A])}r.UndoManager=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=function(){function l(a,u){this.foldData=a,Array.isArray(u)?this.folds=u:u=this.folds=[u];var c=u[u.length-1];this.range=new o(u[0].start.row,u[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(h){h.setFoldLine(this)},this)}return l.prototype.shiftRow=function(a){this.start.row+=a,this.end.row+=a,this.folds.forEach(function(u){u.start.row+=a,u.end.row+=a})},l.prototype.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a),this.folds.sort(function(u,c){return-u.range.compareEnd(c.start.row,c.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else if(a.end.row==this.start.row)this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");a.foldLine=this},l.prototype.containsRow=function(a){return a>=this.start.row&&a<=this.end.row},l.prototype.walk=function(a,u,c){var h=0,f=this.folds,p,d,g,m=!0;u==null&&(u=this.end.row,c=this.end.column);for(var v=0;v<f.length;v++){if(p=f[v],d=p.range.compareStart(u,c),d==-1){a(null,u,c,h,m);return}if(g=a(null,p.start.row,p.start.column,h,m),g=!g&&a(p.placeholder,p.start.row,p.start.column,h),g||d===0)return;m=!p.sameRow,h=p.end.column}a(null,u,c,h,m)},l.prototype.getNextFoldTo=function(a,u){for(var c,h,f=0;f<this.folds.length;f++){if(c=this.folds[f],h=c.range.compareEnd(a,u),h==-1)return{fold:c,kind:"after"};if(h===0)return{fold:c,kind:"inside"}}return null},l.prototype.addRemoveChars=function(a,u,c){var h=this.getNextFoldTo(a,u),f,p;if(h){if(f=h.fold,h.kind=="inside"&&f.start.column!=u&&f.start.row!=a)window.console&&window.console.log(a,u,f);else if(f.start.row==a){p=this.folds;var d=p.indexOf(f);for(d===0&&(this.start.column+=c),d;d<p.length;d++){if(f=p[d],f.start.column+=c,!f.sameRow)return;f.end.column+=c}this.end.column+=c}}},l.prototype.split=function(a,u){var c=this.getNextFoldTo(a,u);if(!c||c.kind=="inside")return null;var h=c.fold,f=this.folds,p=this.foldData,d=f.indexOf(h),g=f[d-1];this.end.row=g.end.row,this.end.column=g.end.column,f=f.splice(d,f.length-d);var m=new l(p,f);return p.splice(p.indexOf(this)+1,0,m),m},l.prototype.merge=function(a){for(var u=a.folds,c=0;c<u.length;c++)this.addFold(u[c]);var h=this.foldData;h.splice(h.indexOf(a),1)},l.prototype.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(u){a.push("  "+u.toString())}),a.push("]"),a.join(`
`)},l.prototype.idxToPosition=function(a){for(var u=0,c=0;c<this.folds.length;c++){var h=this.folds[c];if(a-=h.start.column-u,a<0)return{row:h.start.row,column:h.start.column+a};if(a-=h.placeholder.length,a<0)return h.start;u=h.end.column}return{row:this.end.row,column:this.end.column+a}},l}();r.FoldLine=s}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,r,i){var o=n("./range").Range,s=o.comparePoints,l=function(){function a(){this.ranges=[],this.$bias=1}return a.prototype.pointIndex=function(u,c,h){for(var f=this.ranges,p=h||0;p<f.length;p++){var d=f[p],g=s(u,d.end);if(!(g>0)){var m=s(u,d.start);return g===0?c&&m!==0?-p-2:p:m>0||m===0&&!c?p:-p-1}}return-p-1},a.prototype.add=function(u){var c=!u.isEmpty(),h=this.pointIndex(u.start,c);h<0&&(h=-h-1);var f=this.pointIndex(u.end,c,h);return f<0?f=-f-1:f++,this.ranges.splice(h,f-h,u)},a.prototype.addList=function(u){for(var c=[],h=u.length;h--;)c.push.apply(c,this.add(u[h]));return c},a.prototype.substractPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges.splice(c,1)},a.prototype.merge=function(){var u=[],c=this.ranges;c=c.sort(function(g,m){return s(g.start,m.start)});for(var h=c[0],f,p=1;p<c.length;p++){f=h,h=c[p];var d=s(f.end,h.start);d<0||d==0&&!f.isEmpty()&&!h.isEmpty()||(s(f.end,h.end)<0&&(f.end.row=h.end.row,f.end.column=h.end.column),c.splice(p,1),u.push(h),h=f,p--)}return this.ranges=c,u},a.prototype.contains=function(u,c){return this.pointIndex({row:u,column:c})>=0},a.prototype.containsPoint=function(u){return this.pointIndex(u)>=0},a.prototype.rangeAtPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges[c]},a.prototype.clipRows=function(u,c){var h=this.ranges;if(h[0].start.row>c||h[h.length-1].start.row<u)return[];var f=this.pointIndex({row:u,column:0});f<0&&(f=-f-1);var p=this.pointIndex({row:c,column:0},f);p<0&&(p=-p-1);for(var d=[],g=f;g<p;g++)d.push(h[g]);return d},a.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},a.prototype.attach=function(u){this.session&&this.detach(),this.session=u,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},a.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},a.prototype.$onChange=function(u){for(var c=u.start,h=u.end,f=c.row,p=h.row,d=this.ranges,g=0,m=d.length;g<m;g++){var v=d[g];if(v.end.row>=f)break}if(u.action=="insert")for(var b=p-f,C=-c.column+h.column;g<m;g++){var v=d[g];if(v.start.row>f)break;if(v.start.row==f&&v.start.column>=c.column&&(v.start.column==c.column&&this.$bias<=0||(v.start.column+=C,v.start.row+=b)),v.end.row==f&&v.end.column>=c.column){if(v.end.column==c.column&&this.$bias<0)continue;v.end.column==c.column&&C>0&&g<m-1&&v.end.column>v.start.column&&v.end.column==d[g+1].start.column&&(v.end.column-=C),v.end.column+=C,v.end.row+=b}}else for(var b=f-p,C=c.column-h.column;g<m;g++){var v=d[g];if(v.start.row>p)break;v.end.row<p&&(f<v.end.row||f==v.end.row&&c.column<v.end.column)?(v.end.row=f,v.end.column=c.column):v.end.row==p?v.end.column<=h.column?(b||v.end.column>c.column)&&(v.end.column=c.column,v.end.row=c.row):(v.end.column+=C,v.end.row+=b):v.end.row>p&&(v.end.row+=b),v.start.row<p&&(f<v.start.row||f==v.start.row&&c.column<v.start.column)?(v.start.row=f,v.start.column=c.column):v.start.row==p?v.start.column<=h.column?(b||v.start.column>c.column)&&(v.start.column=c.column,v.start.row=c.row):(v.start.column+=C,v.start.row+=b):v.start.row>p&&(v.start.row+=b)}if(b!=0&&g<m)for(;g<m;g++){var v=d[g];v.start.row+=b,v.end.row+=b}},a}();l.prototype.comparePoints=s,r.RangeList=l}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,r,i){var o=this&&this.__extends||function(){var f=function(p,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},f(p,d)};return function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(p,d);function g(){this.constructor=p}p.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),s=n("../range_list").RangeList,l=function(f){o(p,f);function p(d,g){var m=f.call(this)||this;return m.foldLine=null,m.placeholder=g,m.range=d,m.start=d.start,m.end=d.end,m.sameRow=d.start.row==d.end.row,m.subFolds=m.ranges=[],m}return p.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},p.prototype.setFoldLine=function(d){this.foldLine=d,this.subFolds.forEach(function(g){g.setFoldLine(d)})},p.prototype.clone=function(){var d=this.range.clone(),g=new p(d,this.placeholder);return this.subFolds.forEach(function(m){g.subFolds.push(m.clone())}),g.collapseChildren=this.collapseChildren,g},p.prototype.addSubFold=function(d){if(!this.range.isEqual(d)){u(d,this.start);for(var C=d.start.row,x=d.start.column,g=0,m=-1;g<this.subFolds.length&&(m=this.subFolds[g].range.compare(C,x),m==1);g++);var v=this.subFolds[g],b=0;if(m==0){if(v.range.containsRange(d))return v.addSubFold(d);b=1}for(var C=d.range.end.row,x=d.range.end.column,_=g,m=-1;_<this.subFolds.length&&(m=this.subFolds[_].range.compare(C,x),m==1);_++);m==0&&_++;for(var w=this.subFolds.splice(g,_-g,d),y=m==0?w.length-1:w.length,S=b;S<y;S++)d.addSubFold(w[S]);return d.setFoldLine(this.foldLine),d}},p.prototype.restoreRange=function(d){return h(d,this.start)},p}(s);function a(f,p){f.row-=p.row,f.row==0&&(f.column-=p.column)}function u(f,p){a(f.start,p),a(f.end,p)}function c(f,p){f.row==0&&(f.column+=p.column),f.row+=p.row}function h(f,p){c(f.start,p),c(f.end,p)}r.Fold=l}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,r,i){var o=n("../range").Range,s=n("./fold_line").FoldLine,l=n("./fold").Fold,a=n("../token_iterator").TokenIterator,u=n("../mouse/mouse_event").MouseEvent;function c(){this.getFoldAt=function(h,f,p){var d=this.getFoldLine(h);if(!d)return null;for(var g=d.folds,m=0;m<g.length;m++){var v=g[m].range;if(v.contains(h,f)){if(p==1&&v.isEnd(h,f)&&!v.isEmpty())continue;if(p==-1&&v.isStart(h,f)&&!v.isEmpty())continue;return g[m]}}},this.getFoldsInRange=function(h){var f=h.start,p=h.end,d=this.$foldData,g=[];f.column+=1,p.column-=1;for(var m=0;m<d.length;m++){var v=d[m].range.compareRange(h);if(v!=2){if(v==-2)break;for(var b=d[m].folds,C=0;C<b.length;C++){var x=b[C];if(v=x.range.compareRange(h),v==-2)break;if(v==2)continue;if(v==42)break;g.push(x)}}}return f.column-=1,p.column+=1,g},this.getFoldsInRangeList=function(h){if(Array.isArray(h)){var f=[];h.forEach(function(p){f=f.concat(this.getFoldsInRange(p))},this)}else var f=this.getFoldsInRange(h);return f},this.getAllFolds=function(){for(var h=[],f=this.$foldData,p=0;p<f.length;p++)for(var d=0;d<f[p].folds.length;d++)h.push(f[p].folds[d]);return h},this.getFoldStringAt=function(h,f,p,d){if(d=d||this.getFoldLine(h),!d)return null;for(var g={end:{column:0}},m,v,b=0;b<d.folds.length;b++){v=d.folds[b];var C=v.range.compareEnd(h,f);if(C==-1){m=this.getLine(v.start.row).substring(g.end.column,v.start.column);break}else if(C===0)return null;g=v}return m||(m=this.getLine(v.start.row).substring(g.end.column)),p==-1?m.substring(0,f-g.end.column):p==1?m.substring(f-g.end.column):m},this.getFoldLine=function(h,f){var p=this.$foldData,d=0;for(f&&(d=p.indexOf(f)),d==-1&&(d=0),d;d<p.length;d++){var g=p[d];if(g.start.row<=h&&g.end.row>=h)return g;if(g.end.row>h)return null}return null},this.getNextFoldLine=function(h,f){var p=this.$foldData,d=0;for(f&&(d=p.indexOf(f)),d==-1&&(d=0),d;d<p.length;d++){var g=p[d];if(g.end.row>=h)return g}return null},this.getFoldedRowCount=function(h,f){for(var p=this.$foldData,d=f-h+1,g=0;g<p.length;g++){var m=p[g],v=m.end.row,b=m.start.row;if(v>=f){b<f&&(b>=h?d-=f-b:d=0);break}else v>=h&&(b>=h?d-=v-b:d-=v-h+1)}return d},this.$addFoldLine=function(h){return this.$foldData.push(h),this.$foldData.sort(function(f,p){return f.start.row-p.start.row}),h},this.addFold=function(h,f){var p=this.$foldData,d=!1,g;h instanceof l?g=h:(g=new l(f,h),g.collapseChildren=f.collapseChildren),this.$clipRangeToDocument(g.range);var m=g.start.row,v=g.start.column,b=g.end.row,C=g.end.column,x=this.getFoldAt(m,v,1),_=this.getFoldAt(b,C,-1);if(x&&_==x)return x.addSubFold(g);x&&!x.range.isStart(m,v)&&this.removeFold(x),_&&!_.range.isEnd(b,C)&&this.removeFold(_);var w=this.getFoldsInRange(g.range);w.length>0&&(this.removeFolds(w),g.collapseChildren||w.forEach(function(M){g.addSubFold(M)}));for(var y=0;y<p.length;y++){var S=p[y];if(b==S.start.row){S.addFold(g),d=!0;break}else if(m==S.end.row){if(S.addFold(g),d=!0,!g.sameRow){var A=p[y+1];if(A&&A.start.row==b){S.merge(A);break}}break}else if(b<=S.start.row)break}return d||(S=this.$addFoldLine(new s(this.$foldData,g))),this.$useWrapMode?this.$updateWrapData(S.start.row,S.start.row):this.$updateRowLengthCache(S.start.row,S.start.row),this.$modified=!0,this._signal("changeFold",{data:g,action:"add"}),g},this.addFolds=function(h){h.forEach(function(f){this.addFold(f)},this)},this.removeFold=function(h){var f=h.foldLine,p=f.start.row,d=f.end.row,g=this.$foldData,m=f.folds;if(m.length==1)g.splice(g.indexOf(f),1);else if(f.range.isEnd(h.end.row,h.end.column))m.pop(),f.end.row=m[m.length-1].end.row,f.end.column=m[m.length-1].end.column;else if(f.range.isStart(h.start.row,h.start.column))m.shift(),f.start.row=m[0].start.row,f.start.column=m[0].start.column;else if(h.sameRow)m.splice(m.indexOf(h),1);else{var v=f.split(h.start.row,h.start.column);m=v.folds,m.shift(),v.start.row=m[0].start.row,v.start.column=m[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(p,d):this.$updateRowLengthCache(p,d)),this.$modified=!0,this._signal("changeFold",{data:h,action:"remove"})},this.removeFolds=function(h){for(var f=[],p=0;p<h.length;p++)f.push(h[p]);f.forEach(function(d){this.removeFold(d)},this),this.$modified=!0},this.expandFold=function(h){this.removeFold(h),h.subFolds.forEach(function(f){h.restoreRange(f),this.addFold(f)},this),h.collapseChildren>0&&this.foldAll(h.start.row+1,h.end.row,h.collapseChildren-1),h.subFolds=[]},this.expandFolds=function(h){h.forEach(function(f){this.expandFold(f)},this)},this.unfold=function(h,f){var p,d;if(h==null)p=new o(0,0,this.getLength(),0),f==null&&(f=!0);else if(typeof h=="number")p=new o(h,0,h,this.getLine(h).length);else if("row"in h)p=o.fromPoints(h,h);else{if(Array.isArray(h))return d=[],h.forEach(function(m){d=d.concat(this.unfold(m))},this),d;p=h}d=this.getFoldsInRangeList(p);for(var g=d;d.length==1&&o.comparePoints(d[0].start,p.start)<0&&o.comparePoints(d[0].end,p.end)>0;)this.expandFolds(d),d=this.getFoldsInRangeList(p);if(f!=!1?this.removeFolds(d):this.expandFolds(d),g.length)return g},this.isRowFolded=function(h,f){return!!this.getFoldLine(h,f)},this.getRowFoldEnd=function(h,f){var p=this.getFoldLine(h,f);return p?p.end.row:h},this.getRowFoldStart=function(h,f){var p=this.getFoldLine(h,f);return p?p.start.row:h},this.getFoldDisplayLine=function(h,f,p,d,g){d==null&&(d=h.start.row),g==null&&(g=0),f==null&&(f=h.end.row),p==null&&(p=this.getLine(f).length);var m=this.doc,v="";return h.walk(function(b,C,x,_){if(!(C<d)){if(C==d){if(x<g)return;_=Math.max(g,_)}b!=null?v+=b:v+=m.getLine(C).substring(_,x)}},f,p),v},this.getDisplayLine=function(h,f,p,d){var g=this.getFoldLine(h);if(g)return this.getFoldDisplayLine(g,h,f,p,d);var m;return m=this.doc.getLine(h),m.substring(d||0,f||m.length)},this.$cloneFoldData=function(){var h=[];return h=this.$foldData.map(function(f){var p=f.folds.map(function(d){return d.clone()});return new s(h,p)}),h},this.toggleFold=function(h){var f=this.selection,p=f.getRange(),d,g;if(p.isEmpty()){var m=p.start;if(d=this.getFoldAt(m.row,m.column),d){this.expandFold(d);return}else(g=this.findMatchingBracket(m))?p.comparePoint(g)==1?p.end=g:(p.start=g,p.start.column++,p.end.column--):(g=this.findMatchingBracket({row:m.row,column:m.column+1}))?(p.comparePoint(g)==1?p.end=g:p.start=g,p.start.column++):p=this.getCommentFoldRange(m.row,m.column)||p}else{var v=this.getFoldsInRange(p);if(h&&v.length){this.expandFolds(v);return}else v.length==1&&(d=v[0])}if(d||(d=this.getFoldAt(p.start.row,p.start.column)),d&&d.range.toString()==p.toString()){this.expandFold(d);return}var b="...";if(!p.isMultiLine()){if(b=this.getTextRange(p),b.length<4)return;b=b.trim().substring(0,2)+".."}this.addFold(b,p)},this.getCommentFoldRange=function(h,f,p){var d=new a(this,h,f),g=d.getCurrentToken(),m=g&&g.type;if(g&&/^comment|string/.test(m)){m=m.match(/comment|string/)[0],m=="comment"&&(m+="|doc-start|\\.doc");var v=new RegExp(m),b=new o;if(p!=1){do g=d.stepBackward();while(g&&v.test(g.type));g=d.stepForward()}b.start.row=d.getCurrentTokenRow(),b.start.column=d.getCurrentTokenColumn()+g.value.length,d=new a(this,h,f);var C=this.getState(d.$row);if(p!=-1){var x=-1;do if(g=d.stepForward(),x==-1){var _=this.getState(d.$row);C.toString()!==_.toString()&&(x=d.$row)}else if(d.$row>x)break;while(g&&v.test(g.type));g=d.stepBackward()}else g=d.getCurrentToken();return b.end.row=d.getCurrentTokenRow(),b.end.column=d.getCurrentTokenColumn(),b}},this.foldAll=function(h,f,p,d){p==null&&(p=1e5);var g=this.foldWidgets;if(g){f=f||this.getLength(),h=h||0;for(var m=h;m<f;m++)if(g[m]==null&&(g[m]=this.getFoldWidget(m)),g[m]=="start"&&!(d&&!d(m))){var v=this.getFoldWidgetRange(m);v&&v.isMultiLine()&&v.end.row<=f&&v.start.row>=h&&(m=v.end.row,v.collapseChildren=p,this.addFold("...",v))}}},this.foldToLevel=function(h){for(this.foldAll();h-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var h=this;this.foldAll(null,null,null,function(f){for(var p=h.getTokens(f),d=0;d<p.length;d++){var g=p[d];if(!(g.type=="text"&&/^\s+$/.test(g.value)))return!!/comment/.test(g.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(h){if(!this.$foldStyles[h])throw new Error("invalid fold style: "+h+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=h){this.$foldStyle=h,h=="manual"&&this.unfold();var f=this.$foldMode;this.$setFolding(null),this.$setFolding(f)}},this.$setFolding=function(h){if(this.$foldMode!=h){if(this.$foldMode=h,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!h||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=h.getFoldWidget.bind(h,this,this.$foldStyle),this.getFoldWidgetRange=h.getFoldWidgetRange.bind(h,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(h,f){var p=this.foldWidgets;if(!p||f&&p[h])return{};for(var d=h-1,g;d>=0;){var m=p[d];if(m==null&&(m=p[d]=this.getFoldWidget(d)),m=="start"){var v=this.getFoldWidgetRange(d);if(g||(g=v),v&&v.end.row>=h)break}d--}return{range:d!==-1&&v,firstRange:g}},this.onFoldWidgetClick=function(h,f){f instanceof u&&(f=f.domEvent);var p={children:f.shiftKey,all:f.ctrlKey||f.metaKey,siblings:f.altKey},d=this.$toggleFoldWidget(h,p);if(!d){var g=f.target||f.srcElement;g&&/ace_fold-widget/.test(g.className)&&(g.className+=" ace_invalid")}},this.$toggleFoldWidget=function(h,f){if(this.getFoldWidget){var p=this.getFoldWidget(h),d=this.getLine(h),g=p==="end"?-1:1,m=this.getFoldAt(h,g===-1?0:d.length,g);if(m)return f.children||f.all?this.removeFold(m):this.expandFold(m),m;var v=this.getFoldWidgetRange(h,!0);if(v&&!v.isMultiLine()&&(m=this.getFoldAt(v.start.row,v.start.column,1),m&&v.isEqual(m.range)))return this.removeFold(m),m;if(f.siblings){var b=this.getParentFoldRangeData(h);if(b.range)var C=b.range.start.row+1,x=b.range.end.row;this.foldAll(C,x,f.all?1e4:0)}else f.children?(x=v?v.end.row:this.getLength(),this.foldAll(h+1,x,f.all?1e4:0)):v&&(f.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(h){var f=this.selection.getCursor().row;f=this.getRowFoldStart(f);var p=this.$toggleFoldWidget(f,{});if(!p){var d=this.getParentFoldRangeData(f,!0);if(p=d.range||d.firstRange,p){f=p.start.row;var g=this.getFoldAt(f,this.getLine(f).length,1);g?this.removeFold(g):this.addFold("...",p)}}},this.updateFoldWidgets=function(h){var f=h.start.row,p=h.end.row-f;if(p===0)this.foldWidgets[f]=null;else if(h.action=="remove")this.foldWidgets.splice(f,p+1,null);else{var d=Array(p+1);d.unshift(f,1),this.foldWidgets.splice.apply(this.foldWidgets,d)}},this.tokenizerUpdateFoldWidgets=function(h){var f=h.data;f.first!=f.last&&this.foldWidgets.length>f.first&&this.foldWidgets.splice(f.first,this.foldWidgets.length)}}r.Folding=c}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,r,i){var o=n("../token_iterator").TokenIterator,s=n("../range").Range;function l(){this.findMatchingBracket=function(a,u){if(a.column==0)return null;var c=u||this.getLine(a.row).charAt(a.column-1);if(c=="")return null;var h=c.match(/([\(\[\{])|([\)\]\}])/);return h?h[1]?this.$findClosingBracket(h[1],a):this.$findOpeningBracket(h[2],a):null},this.getBracketRange=function(a){var u=this.getLine(a.row),c=!0,h,f=u.charAt(a.column-1),p=f&&f.match(/([\(\[\{])|([\)\]\}])/);if(p||(f=u.charAt(a.column),a={row:a.row,column:a.column+1},p=f&&f.match(/([\(\[\{])|([\)\]\}])/),c=!1),!p)return null;if(p[1]){var d=this.$findClosingBracket(p[1],a);if(!d)return null;h=s.fromPoints(a,d),c||(h.end.column++,h.start.column--),h.cursor=h.end}else{var d=this.$findOpeningBracket(p[2],a);if(!d)return null;h=s.fromPoints(d,a),c||(h.start.column++,h.end.column--),h.cursor=h.start}return h},this.getMatchingBracketRanges=function(a,u){var c=this.getLine(a.row),h=/([\(\[\{])|([\)\]\}])/,f=!u&&c.charAt(a.column-1),p=f&&f.match(h);if(p||(f=(u===void 0||u)&&c.charAt(a.column),a={row:a.row,column:a.column+1},p=f&&f.match(h)),!p)return null;var d=new s(a.row,a.column-1,a.row,a.column),g=p[1]?this.$findClosingBracket(p[1],a):this.$findOpeningBracket(p[2],a);if(!g)return[d];var m=new s(g.row,g.column,g.row,g.column+1);return[d,m]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(a,u,c){var h=this.$brackets[a],f=1,p=new o(this,u.row,u.column),d=p.getCurrentToken();if(d||(d=p.stepForward()),!!d){c||(c=new RegExp("(\\.?"+d.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var g=u.column-p.getCurrentTokenColumn()-2,m=d.value;;){for(;g>=0;){var v=m.charAt(g);if(v==h){if(f-=1,f==0)return{row:p.getCurrentTokenRow(),column:g+p.getCurrentTokenColumn()}}else v==a&&(f+=1);g-=1}do d=p.stepBackward();while(d&&!c.test(d.type));if(d==null)break;m=d.value,g=m.length-1}return null}},this.$findClosingBracket=function(a,u,c){var h=this.$brackets[a],f=1,p=new o(this,u.row,u.column),d=p.getCurrentToken();if(d||(d=p.stepForward()),!!d){c||(c=new RegExp("(\\.?"+d.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var g=u.column-p.getCurrentTokenColumn();;){for(var m=d.value,v=m.length;g<v;){var b=m.charAt(g);if(b==h){if(f-=1,f==0)return{row:p.getCurrentTokenRow(),column:g+p.getCurrentTokenColumn()}}else b==a&&(f+=1);g+=1}do d=p.stepForward();while(d&&!c.test(d.type));if(d==null)break;g=0}return null}},this.getMatchingTags=function(a){var u=new o(this,a.row,a.column),c=this.$findTagName(u);if(c){var h=u.stepBackward();return h.value==="<"?this.$findClosingTag(u,c):this.$findOpeningTag(u,c)}},this.$findTagName=function(a){var u=a.getCurrentToken(),c=!1,h=!1;if(u&&u.type.indexOf("tag-name")===-1)do h?u=a.stepBackward():u=a.stepForward(),u&&(u.value==="/>"?h=!0:u.type.indexOf("tag-name")!==-1&&(c=!0));while(u&&!c);return u},this.$findClosingTag=function(a,u){var c,h=u.value,f=u.value,p=0,d=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);u=a.stepForward();var g=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+u.value.length),m=!1;do{if(c=u,c.type.indexOf("tag-close")!==-1&&!m){var v=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);m=!0}if(u=a.stepForward(),u){if(u.value===">"&&!m){var v=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);m=!0}if(u.type.indexOf("tag-name")!==-1){if(h=u.value,f===h){if(c.value==="<")p++;else if(c.value==="</"&&(p--,p<0)){a.stepBackward();var b=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2);u=a.stepForward();var C=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=a.stepForward()),u&&u.value===">")var x=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);else return}}}else if(f===h&&u.value==="/>"&&(p--,p<0))var b=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2),C=b,x=C,v=new s(g.end.row,g.end.column,g.end.row,g.end.column+1)}}while(u&&p>=0);if(d&&v&&b&&x&&g&&C)return{openTag:new s(d.start.row,d.start.column,v.end.row,v.end.column),closeTag:new s(b.start.row,b.start.column,x.end.row,x.end.column),openTagName:g,closeTagName:C}},this.$findOpeningTag=function(a,u){var c=a.getCurrentToken(),h=u.value,f=0,p=a.getCurrentTokenRow(),d=a.getCurrentTokenColumn(),g=d+2,m=new s(p,d,p,g);a.stepForward();var v=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=a.stepForward()),!(!u||u.value!==">")){var b=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);a.stepBackward(),a.stepBackward();do if(u=c,p=a.getCurrentTokenRow(),d=a.getCurrentTokenColumn(),g=d+u.value.length,c=a.stepBackward(),u){if(u.type.indexOf("tag-name")!==-1){if(h===u.value)if(c.value==="<"){if(f++,f>0){var C=new s(p,d,p,g),x=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);do u=a.stepForward();while(u&&u.value!==">");var _=new s(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1)}}else c.value==="</"&&f--}else if(u.value==="/>"){for(var w=0,y=c;y;){if(y.type.indexOf("tag-name")!==-1&&y.value===h){f--;break}else if(y.value==="<")break;y=a.stepBackward(),w++}for(var S=0;S<w;S++)a.stepForward()}}while(c&&f<=0);if(x&&_&&m&&b&&C&&v)return{openTag:new s(x.start.row,x.start.column,_.end.row,_.end.column),closeTag:new s(m.start.row,m.start.column,b.end.row,b.end.column),openTagName:C,closeTagName:v}}}}r.BracketMatch=l}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/lang"),l=n("./bidihandler").BidiHandler,a=n("./config"),u=n("./lib/event_emitter").EventEmitter,c=n("./selection").Selection,h=n("./mode/text").Mode,f=n("./range").Range,p=n("./document").Document,d=n("./background_tokenizer").BackgroundTokenizer,g=n("./search_highlight").SearchHighlight,m=n("./undomanager").UndoManager,v=function(){function R(k,$){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.prevOp={},this.$foldData=[],this.id="session"+ ++R.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new d(new h().getTokenizer(),this);var E=this;this.bgTokenizer.on("update",function(L){E._signal("tokenizerUpdate",L)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof k!="object"||!k.getLine)&&(k=new p(k)),this.setDocument(k),this.selection=new c(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new l(this),a.resetOptions(this),this.setMode($),a._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return R.prototype.$initOperationListeners=function(){var k=this;this.curOp=null,this.on("change",function(){k.curOp||(k.startOperation(),k.curOp.selectionBefore=k.$lastSel),k.curOp.docChanged=!0},!0),this.on("changeSelection",function(){k.curOp||(k.startOperation(),k.curOp.selectionBefore=k.$lastSel),k.curOp.selectionChanged=!0},!0),this.$operationResetTimer=s.delayedCall(this.endOperation.bind(this,!0))},R.prototype.startOperation=function(k){if(this.curOp){if(!k||this.curOp.command)return;this.prevOp=this.curOp}k||(k={}),this.$operationResetTimer.schedule(),this.curOp={command:k.command||{},args:k.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",k)},R.prototype.endOperation=function(k){if(this.curOp){if(k&&k.returnValue===!1){this.curOp=null,this._signal("endOperation",k);return}if(k==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var $=this.selection.toJSON();this.curOp.selectionAfter=$,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection($),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",k)}},R.prototype.setDocument=function(k){this.doc&&this.doc.off("change",this.$onChange),this.doc=k,k.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},R.prototype.getDocument=function(){return this.doc},R.prototype.$resetRowCache=function(k){if(!k){this.$docRowCache=[],this.$screenRowCache=[];return}var $=this.$docRowCache.length,E=this.$getRowCacheIndex(this.$docRowCache,k)+1;$>E&&(this.$docRowCache.splice(E,$),this.$screenRowCache.splice(E,$))},R.prototype.$getRowCacheIndex=function(k,$){for(var E=0,L=k.length-1;E<=L;){var P=E+L>>1,I=k[P];if($>I)E=P+1;else if($<I)L=P-1;else return P}return E-1},R.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},R.prototype.onChangeFold=function(k){var $=k.data;this.$resetRowCache($.start.row)},R.prototype.onChange=function(k){this.$modified=!0,this.$bidiHandler.onChange(k),this.$resetRowCache(k.start.row);var $=this.$updateInternalDataOnChange(k);!this.$fromUndo&&this.$undoManager&&($&&$.length&&(this.$undoManager.add({action:"removeFolds",folds:$},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(k,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(k),this._signal("change",k)},R.prototype.onSelectionChange=function(){this._signal("changeSelection")},R.prototype.setValue=function(k){this.doc.setValue(k),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},R.fromJSON=function(k){typeof k=="string"&&(k=JSON.parse(k));var $=new m;$.$undoStack=k.history.undo,$.$redoStack=k.history.redo,$.mark=k.history.mark,$.$rev=k.history.rev;var E=new R(k.value);return k.folds.forEach(function(L){E.addFold("...",f.fromPoints(L.start,L.end))}),E.setAnnotations(k.annotations),E.setBreakpoints(k.breakpoints),E.setMode(k.mode),E.setScrollLeft(k.scrollLeft),E.setScrollTop(k.scrollTop),E.setUndoManager($),E.selection.fromJSON(k.selection),E},R.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(k){return k.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},R.prototype.toString=function(){return this.doc.getValue()},R.prototype.getSelection=function(){return this.selection},R.prototype.getState=function(k){return this.bgTokenizer.getState(k)},R.prototype.getTokens=function(k){return this.bgTokenizer.getTokens(k)},R.prototype.getTokenAt=function(k,$){var E=this.bgTokenizer.getTokens(k),L,P=0;if($==null){var I=E.length-1;P=this.getLine(k).length}else for(var I=0;I<E.length&&(P+=E[I].value.length,!(P>=$));I++);return L=E[I],L?(L.index=I,L.start=P-L.value.length,L):null},R.prototype.setUndoManager=function(k){if(this.$undoManager=k,this.$informUndoManager&&this.$informUndoManager.cancel(),k){var $=this;k.addSession(this),this.$syncInformUndoManager=function(){$.$informUndoManager.cancel(),$.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},R.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},R.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},R.prototype.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"	"},R.prototype.setUseSoftTabs=function(k){this.setOption("useSoftTabs",k)},R.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},R.prototype.setTabSize=function(k){this.setOption("tabSize",k)},R.prototype.getTabSize=function(){return this.$tabSize},R.prototype.isTabStop=function(k){return this.$useSoftTabs&&k.column%this.$tabSize===0},R.prototype.setNavigateWithinSoftTabs=function(k){this.setOption("navigateWithinSoftTabs",k)},R.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},R.prototype.setOverwrite=function(k){this.setOption("overwrite",k)},R.prototype.getOverwrite=function(){return this.$overwrite},R.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},R.prototype.addGutterDecoration=function(k,$){this.$decorations[k]||(this.$decorations[k]=""),this.$decorations[k]+=" "+$,this._signal("changeBreakpoint",{})},R.prototype.removeGutterDecoration=function(k,$){this.$decorations[k]=(this.$decorations[k]||"").replace(" "+$,""),this._signal("changeBreakpoint",{})},R.prototype.getBreakpoints=function(){return this.$breakpoints},R.prototype.setBreakpoints=function(k){this.$breakpoints=[];for(var $=0;$<k.length;$++)this.$breakpoints[k[$]]="ace_breakpoint";this._signal("changeBreakpoint",{})},R.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},R.prototype.setBreakpoint=function(k,$){$===void 0&&($="ace_breakpoint"),$?this.$breakpoints[k]=$:delete this.$breakpoints[k],this._signal("changeBreakpoint",{})},R.prototype.clearBreakpoint=function(k){delete this.$breakpoints[k],this._signal("changeBreakpoint",{})},R.prototype.addMarker=function(k,$,E,L){var P=this.$markerId++,I={range:k,type:E||"line",renderer:typeof E=="function"?E:null,clazz:$,inFront:!!L,id:P};return L?(this.$frontMarkers[P]=I,this._signal("changeFrontMarker")):(this.$backMarkers[P]=I,this._signal("changeBackMarker")),P},R.prototype.addDynamicMarker=function(k,$){if(k.update){var E=this.$markerId++;return k.id=E,k.inFront=!!$,$?(this.$frontMarkers[E]=k,this._signal("changeFrontMarker")):(this.$backMarkers[E]=k,this._signal("changeBackMarker")),k}},R.prototype.removeMarker=function(k){var $=this.$frontMarkers[k]||this.$backMarkers[k];if($){var E=$.inFront?this.$frontMarkers:this.$backMarkers;delete E[k],this._signal($.inFront?"changeFrontMarker":"changeBackMarker")}},R.prototype.getMarkers=function(k){return k?this.$frontMarkers:this.$backMarkers},R.prototype.highlight=function(k){if(!this.$searchHighlight){var $=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker($)}this.$searchHighlight.setRegexp(k)},R.prototype.highlightLines=function(k,$,E,L){typeof $!="number"&&(E=$,$=k),E||(E="ace_step");var P=new f(k,0,$,1/0);return P.id=this.addMarker(P,E,"fullLine",L),P},R.prototype.setAnnotations=function(k){this.$annotations=k,this._signal("changeAnnotation",{})},R.prototype.getAnnotations=function(){return this.$annotations||[]},R.prototype.clearAnnotations=function(){this.setAnnotations([])},R.prototype.$detectNewLine=function(k){var $=k.match(/^.*?(\r?\n)/m);$?this.$autoNewLine=$[1]:this.$autoNewLine=`
`},R.prototype.getWordRange=function(k,$){var E=this.getLine(k),L=!1;if($>0&&(L=!!E.charAt($-1).match(this.tokenRe)),L||(L=!!E.charAt($).match(this.tokenRe)),L)var P=this.tokenRe;else if(/^\s+$/.test(E.slice($-1,$+1)))var P=/\s/;else var P=this.nonTokenRe;var I=$;if(I>0){do I--;while(I>=0&&E.charAt(I).match(P));I++}for(var D=$;D<E.length&&E.charAt(D).match(P);)D++;return new f(k,I,k,D)},R.prototype.getAWordRange=function(k,$){for(var E=this.getWordRange(k,$),L=this.getLine(E.end.row);L.charAt(E.end.column).match(/[ \t]/);)E.end.column+=1;return E},R.prototype.setNewLineMode=function(k){this.doc.setNewLineMode(k)},R.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},R.prototype.setUseWorker=function(k){this.setOption("useWorker",k)},R.prototype.getUseWorker=function(){return this.$useWorker},R.prototype.onReloadTokenizer=function(k){var $=k.data;this.bgTokenizer.start($.first),this._signal("tokenizerUpdate",k)},R.prototype.setMode=function(k,$){if(k&&typeof k=="object"){if(k.getTokenizer)return this.$onChangeMode(k);var E=k,L=E.path}else L=k||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[L]&&!E){this.$onChangeMode(this.$modes[L]),$&&$();return}this.$modeId=L,a.loadModule(["mode",L],(function(P){if(this.$modeId!==L)return $&&$();this.$modes[L]&&!E?this.$onChangeMode(this.$modes[L]):P&&P.Mode&&(P=new P.Mode(E),E||(this.$modes[L]=P,P.$id=L),this.$onChangeMode(P)),$&&$()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},R.prototype.$onChangeMode=function(k,$){if($||(this.$modeId=k.$id),this.$mode!==k){var E=this.$mode;this.$mode=k,this.$stopWorker(),this.$useWorker&&this.$startWorker();var L=k.getTokenizer();if(L.on!==void 0){var P=this.onReloadTokenizer.bind(this);L.on("update",P)}this.bgTokenizer.setTokenizer(L),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=k.tokenRe,this.nonTokenRe=k.nonTokenRe,$||(k.attachToSession&&k.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(k.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:E,mode:k}))}},R.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},R.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(k){a.warn("Could not load worker",k),this.$worker=null}},R.prototype.getMode=function(){return this.$mode},R.prototype.setScrollTop=function(k){this.$scrollTop===k||isNaN(k)||(this.$scrollTop=k,this._signal("changeScrollTop",k))},R.prototype.getScrollTop=function(){return this.$scrollTop},R.prototype.setScrollLeft=function(k){this.$scrollLeft===k||isNaN(k)||(this.$scrollLeft=k,this._signal("changeScrollLeft",k))},R.prototype.getScrollLeft=function(){return this.$scrollLeft},R.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},R.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var k=0;return this.lineWidgets.forEach(function($){$&&$.screenWidth>k&&(k=$.screenWidth)}),this.lineWidgetWidth=k},R.prototype.$computeWidth=function(k){if(this.$modified||k){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var $=this.doc.getAllLines(),E=this.$rowLengthCache,L=0,P=0,I=this.$foldData[P],D=I?I.start.row:1/0,W=$.length,z=0;z<W;z++){if(z>D){if(z=I.end.row+1,z>=W)break;I=this.$foldData[P++],D=I?I.start.row:1/0}E[z]==null&&(E[z]=this.$getStringScreenWidth($[z])[0]),E[z]>L&&(L=E[z])}this.screenWidth=L}},R.prototype.getLine=function(k){return this.doc.getLine(k)},R.prototype.getLines=function(k,$){return this.doc.getLines(k,$)},R.prototype.getLength=function(){return this.doc.getLength()},R.prototype.getTextRange=function(k){return this.doc.getTextRange(k||this.selection.getRange())},R.prototype.insert=function(k,$){return this.doc.insert(k,$)},R.prototype.remove=function(k){return this.doc.remove(k)},R.prototype.removeFullLines=function(k,$){return this.doc.removeFullLines(k,$)},R.prototype.undoChanges=function(k,$){if(k.length){this.$fromUndo=!0;for(var E=k.length-1;E!=-1;E--){var L=k[E];L.action=="insert"||L.action=="remove"?this.doc.revertDelta(L):L.folds&&this.addFolds(L.folds)}!$&&this.$undoSelect&&(k.selectionBefore?this.selection.fromJSON(k.selectionBefore):this.selection.setRange(this.$getUndoSelection(k,!0))),this.$fromUndo=!1}},R.prototype.redoChanges=function(k,$){if(k.length){this.$fromUndo=!0;for(var E=0;E<k.length;E++){var L=k[E];(L.action=="insert"||L.action=="remove")&&this.doc.$safeApplyDelta(L)}!$&&this.$undoSelect&&(k.selectionAfter?this.selection.fromJSON(k.selectionAfter):this.selection.setRange(this.$getUndoSelection(k,!1))),this.$fromUndo=!1}},R.prototype.setUndoSelect=function(k){this.$undoSelect=k},R.prototype.$getUndoSelection=function(k,$){function E(W){return $?W.action!=="insert":W.action==="insert"}for(var L,P,I=0;I<k.length;I++){var D=k[I];if(D.start){if(!L){E(D)?L=f.fromPoints(D.start,D.end):L=f.fromPoints(D.start,D.start);continue}E(D)?(P=D.start,L.compare(P.row,P.column)==-1&&L.setStart(P),P=D.end,L.compare(P.row,P.column)==1&&L.setEnd(P)):(P=D.start,L.compare(P.row,P.column)==-1&&(L=f.fromPoints(D.start,D.start)))}}return L},R.prototype.replace=function(k,$){return this.doc.replace(k,$)},R.prototype.moveText=function(k,$,E){var L=this.getTextRange(k),P=this.getFoldsInRange(k),I=f.fromPoints($,$);if(!E){this.remove(k);var D=k.start.row-k.end.row,W=D?-k.end.column:k.start.column-k.end.column;W&&(I.start.row==k.end.row&&I.start.column>k.end.column&&(I.start.column+=W),I.end.row==k.end.row&&I.end.column>k.end.column&&(I.end.column+=W)),D&&I.start.row>=k.end.row&&(I.start.row+=D,I.end.row+=D)}if(I.end=this.insert(I.start,L),P.length){var z=k.start,G=I.start,D=G.row-z.row,W=G.column-z.column;this.addFolds(P.map(function(X){return X=X.clone(),X.start.row==z.row&&(X.start.column+=W),X.end.row==z.row&&(X.end.column+=W),X.start.row+=D,X.end.row+=D,X}))}return I},R.prototype.indentRows=function(k,$,E){E=E.replace(/\t/g,this.getTabString());for(var L=k;L<=$;L++)this.doc.insertInLine({row:L,column:0},E)},R.prototype.outdentRows=function(k){for(var $=k.collapseRows(),E=new f(0,0,0,0),L=this.getTabSize(),P=$.start.row;P<=$.end.row;++P){var I=this.getLine(P);E.start.row=P,E.end.row=P;for(var D=0;D<L&&I.charAt(D)==" ";++D);D<L&&I.charAt(D)=="	"?(E.start.column=D,E.end.column=D+1):(E.start.column=0,E.end.column=D),this.remove(E)}},R.prototype.$moveLines=function(k,$,E){if(k=this.getRowFoldStart(k),$=this.getRowFoldEnd($),E<0){var L=this.getRowFoldStart(k+E);if(L<0)return 0;var P=L-k}else if(E>0){var L=this.getRowFoldEnd($+E);if(L>this.doc.getLength()-1)return 0;var P=L-$}else{k=this.$clipRowToDocument(k),$=this.$clipRowToDocument($);var P=$-k+1}var I=new f(k,0,$,Number.MAX_VALUE),D=this.getFoldsInRange(I).map(function(z){return z=z.clone(),z.start.row+=P,z.end.row+=P,z}),W=E==0?this.doc.getLines(k,$):this.doc.removeFullLines(k,$);return this.doc.insertFullLines(k+P,W),D.length&&this.addFolds(D),P},R.prototype.moveLinesUp=function(k,$){return this.$moveLines(k,$,-1)},R.prototype.moveLinesDown=function(k,$){return this.$moveLines(k,$,1)},R.prototype.duplicateLines=function(k,$){return this.$moveLines(k,$,0)},R.prototype.$clipRowToDocument=function(k){return Math.max(0,Math.min(k,this.doc.getLength()-1))},R.prototype.$clipColumnToRow=function(k,$){return $<0?0:Math.min(this.doc.getLine(k).length,$)},R.prototype.$clipPositionToDocument=function(k,$){if($=Math.max(0,$),k<0)k=0,$=0;else{var E=this.doc.getLength();k>=E?(k=E-1,$=this.doc.getLine(E-1).length):$=Math.min(this.doc.getLine(k).length,$)}return{row:k,column:$}},R.prototype.$clipRangeToDocument=function(k){k.start.row<0?(k.start.row=0,k.start.column=0):k.start.column=this.$clipColumnToRow(k.start.row,k.start.column);var $=this.doc.getLength()-1;return k.end.row>$?(k.end.row=$,k.end.column=this.doc.getLine($).length):k.end.column=this.$clipColumnToRow(k.end.row,k.end.column),k},R.prototype.setUseWrapMode=function(k){if(k!=this.$useWrapMode){if(this.$useWrapMode=k,this.$modified=!0,this.$resetRowCache(0),k){var $=this.getLength();this.$wrapData=Array($),this.$updateWrapData(0,$-1)}this._signal("changeWrapMode")}},R.prototype.getUseWrapMode=function(){return this.$useWrapMode},R.prototype.setWrapLimitRange=function(k,$){(this.$wrapLimitRange.min!==k||this.$wrapLimitRange.max!==$)&&(this.$wrapLimitRange={min:k,max:$},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},R.prototype.adjustWrapLimit=function(k,$){var E=this.$wrapLimitRange;E.max<0&&(E={min:$,max:$});var L=this.$constrainWrapLimit(k,E.min,E.max);return L!=this.$wrapLimit&&L>1?(this.$wrapLimit=L,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},R.prototype.$constrainWrapLimit=function(k,$,E){return $&&(k=Math.max($,k)),E&&(k=Math.min(E,k)),k},R.prototype.getWrapLimit=function(){return this.$wrapLimit},R.prototype.setWrapLimit=function(k){this.setWrapLimitRange(k,k)},R.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},R.prototype.$updateInternalDataOnChange=function(k){var $=this.$useWrapMode,E=k.action,L=k.start,P=k.end,I=L.row,D=P.row,W=D-I,z=null;if(this.$updating=!0,W!=0)if(E==="remove"){this[$?"$wrapData":"$rowLengthCache"].splice(I,W);var G=this.$foldData;z=this.getFoldsInRange(k),this.removeFolds(z);var Z=this.getFoldLine(P.row),q=0;if(Z){Z.addRemoveChars(P.row,P.column,L.column-P.column),Z.shiftRow(-W);var X=this.getFoldLine(I);X&&X!==Z&&(X.merge(Z),Z=X),q=G.indexOf(Z)+1}for(q;q<G.length;q++){var Z=G[q];Z.start.row>=P.row&&Z.shiftRow(-W)}D=I}else{var Y=Array(W);Y.unshift(I,0);var ee=$?this.$wrapData:this.$rowLengthCache;ee.splice.apply(ee,Y);var G=this.$foldData,Z=this.getFoldLine(I),q=0;if(Z){var re=Z.range.compareInside(L.row,L.column);re==0?(Z=Z.split(L.row,L.column),Z&&(Z.shiftRow(W),Z.addRemoveChars(D,0,P.column-L.column))):re==-1&&(Z.addRemoveChars(I,0,P.column-L.column),Z.shiftRow(W)),q=G.indexOf(Z)+1}for(q;q<G.length;q++){var Z=G[q];Z.start.row>=I&&Z.shiftRow(W)}}else{W=Math.abs(k.start.column-k.end.column),E==="remove"&&(z=this.getFoldsInRange(k),this.removeFolds(z),W=-W);var Z=this.getFoldLine(I);Z&&Z.addRemoveChars(I,L.column,W)}return $&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,$?this.$updateWrapData(I,D):this.$updateRowLengthCache(I,D),z},R.prototype.$updateRowLengthCache=function(k,$){this.$rowLengthCache[k]=null,this.$rowLengthCache[$]=null},R.prototype.$updateWrapData=function(k,$){var E=this.doc.getAllLines(),L=this.getTabSize(),P=this.$wrapData,I=this.$wrapLimit,D,W,z=k;for($=Math.min($,E.length-1);z<=$;)W=this.getFoldLine(z,W),W?(D=[],W.walk((function(G,Z,q,X){var Y;if(G!=null){Y=this.$getDisplayTokens(G,D.length),Y[0]=x;for(var ee=1;ee<Y.length;ee++)Y[ee]=_}else Y=this.$getDisplayTokens(E[Z].substring(X,q),D.length);D=D.concat(Y)}).bind(this),W.end.row,E[W.end.row].length+1),P[W.start.row]=this.$computeWrapSplits(D,I,L),z=W.end.row+1):(D=this.$getDisplayTokens(E[z]),P[z]=this.$computeWrapSplits(D,I,L),z++)},R.prototype.$computeWrapSplits=function(k,$,E){if(k.length==0)return[];var L=[],P=k.length,I=0,D=0,W=this.$wrapAsCode,z=this.$indentedSoftWrap,G=$<=Math.max(2*E,8)||z===!1?0:Math.floor($/2);function Z(){var re=0;if(G===0)return re;if(z)for(var ie=0;ie<k.length;ie++){var ue=k[ie];if(ue==y)re+=1;else if(ue==S)re+=E;else{if(ue==A)continue;break}}return W&&z!==!1&&(re+=E),Math.min(re,G)}function q(re){for(var ie=re-I,ue=I;ue<re;ue++){var he=k[ue];(he===12||he===2)&&(ie-=1)}L.length||(X=Z(),L.indent=X),D+=ie,L.push(D),I=re}for(var X=0;P-I>$-X;){var Y=I+$-X;if(k[Y-1]>=y&&k[Y]>=y){q(Y);continue}if(k[Y]==x||k[Y]==_){for(Y;Y!=I-1&&k[Y]!=x;Y--);if(Y>I){q(Y);continue}for(Y=I+$,Y;Y<k.length&&k[Y]==_;Y++);if(Y==k.length)break;q(Y);continue}for(var ee=Math.max(Y-($-($>>2)),I-1);Y>ee&&k[Y]<x;)Y--;if(W){for(;Y>ee&&k[Y]<x;)Y--;for(;Y>ee&&k[Y]==w;)Y--}else for(;Y>ee&&k[Y]<y;)Y--;if(Y>ee){q(++Y);continue}Y=I+$,k[Y]==C&&Y--,q(Y-X)}return L},R.prototype.$getDisplayTokens=function(k,$){var E=[],L;$=$||0;for(var P=0;P<k.length;P++){var I=k.charCodeAt(P);if(I==9){L=this.getScreenTabSize(E.length+$),E.push(S);for(var D=1;D<L;D++)E.push(A)}else I==32?E.push(y):I>39&&I<48||I>57&&I<64?E.push(w):I>=4352&&M(I)?E.push(b,C):E.push(b)}return E},R.prototype.$getStringScreenWidth=function(k,$,E){if($==0)return[0,0];$==null&&($=1/0),E=E||0;var L,P;for(P=0;P<k.length&&(L=k.charCodeAt(P),L==9?E+=this.getScreenTabSize(E):L>=4352&&M(L)?E+=2:E+=1,!(E>$));P++);return[E,P]},R.prototype.getRowLength=function(k){var $=1;return this.lineWidgets&&($+=this.lineWidgets[k]&&this.lineWidgets[k].rowCount||0),!this.$useWrapMode||!this.$wrapData[k]?$:this.$wrapData[k].length+$},R.prototype.getRowLineCount=function(k){return!this.$useWrapMode||!this.$wrapData[k]?1:this.$wrapData[k].length+1},R.prototype.getRowWrapIndent=function(k){if(this.$useWrapMode){var $=this.screenToDocumentPosition(k,Number.MAX_VALUE),E=this.$wrapData[$.row];return E.length&&E[0]<$.column?E.indent:0}else return 0},R.prototype.getScreenLastRowColumn=function(k){var $=this.screenToDocumentPosition(k,Number.MAX_VALUE);return this.documentToScreenColumn($.row,$.column)},R.prototype.getDocumentLastRowColumn=function(k,$){var E=this.documentToScreenRow(k,$);return this.getScreenLastRowColumn(E)},R.prototype.getDocumentLastRowColumnPosition=function(k,$){var E=this.documentToScreenRow(k,$);return this.screenToDocumentPosition(E,Number.MAX_VALUE/10)},R.prototype.getRowSplitData=function(k){if(this.$useWrapMode)return this.$wrapData[k]},R.prototype.getScreenTabSize=function(k){return this.$tabSize-(k%this.$tabSize|0)},R.prototype.screenToDocumentRow=function(k,$){return this.screenToDocumentPosition(k,$).row},R.prototype.screenToDocumentColumn=function(k,$){return this.screenToDocumentPosition(k,$).column},R.prototype.screenToDocumentPosition=function(k,$,E){if(k<0)return{row:0,column:0};var L,P=0,I=0,D,W=0,z=0,G=this.$screenRowCache,Z=this.$getRowCacheIndex(G,k),q=G.length;if(q&&Z>=0)var W=G[Z],P=this.$docRowCache[Z],X=k>G[q-1];else var X=!q;for(var Y=this.getLength()-1,ee=this.getNextFoldLine(P),re=ee?ee.start.row:1/0;W<=k&&(z=this.getRowLength(P),!(W+z>k||P>=Y));)W+=z,P++,P>re&&(P=ee.end.row+1,ee=this.getNextFoldLine(P,ee),re=ee?ee.start.row:1/0),X&&(this.$docRowCache.push(P),this.$screenRowCache.push(W));if(ee&&ee.start.row<=P)L=this.getFoldDisplayLine(ee),P=ee.start.row;else{if(W+z<=k||P>Y)return{row:Y,column:this.getLine(Y).length};L=this.getLine(P),ee=null}var ie=0,ue=Math.floor(k-W);if(this.$useWrapMode){var he=this.$wrapData[P];he&&(D=he[ue],ue>0&&he.length&&(ie=he.indent,I=he[ue-1]||he[he.length-1],L=L.substring(I)))}return E!==void 0&&this.$bidiHandler.isBidiRow(W+ue,P,ue)&&($=this.$bidiHandler.offsetToCol(E)),I+=this.$getStringScreenWidth(L,$-ie)[1],this.$useWrapMode&&I>=D&&(I=D-1),ee?ee.idxToPosition(I):{row:P,column:I}},R.prototype.documentToScreenPosition=function(k,$){if(typeof $>"u")var E=this.$clipPositionToDocument(k.row,k.column);else E=this.$clipPositionToDocument(k,$);k=E.row,$=E.column;var L=0,P=null,I=null;I=this.getFoldAt(k,$,1),I&&(k=I.start.row,$=I.start.column);var D,W=0,z=this.$docRowCache,G=this.$getRowCacheIndex(z,k),Z=z.length;if(Z&&G>=0)var W=z[G],L=this.$screenRowCache[G],q=k>z[Z-1];else var q=!Z;for(var X=this.getNextFoldLine(W),Y=X?X.start.row:1/0;W<k;){if(W>=Y){if(D=X.end.row+1,D>k)break;X=this.getNextFoldLine(D,X),Y=X?X.start.row:1/0}else D=W+1;L+=this.getRowLength(W),W=D,q&&(this.$docRowCache.push(W),this.$screenRowCache.push(L))}var ee="";X&&W>=Y?(ee=this.getFoldDisplayLine(X,k,$),P=X.start.row):(ee=this.getLine(k).substring(0,$),P=k);var re=0;if(this.$useWrapMode){var ie=this.$wrapData[P];if(ie){for(var ue=0;ee.length>=ie[ue];)L++,ue++;ee=ee.substring(ie[ue-1]||0,ee.length),re=ue>0?ie.indent:0}}return this.lineWidgets&&this.lineWidgets[W]&&this.lineWidgets[W].rowsAbove&&(L+=this.lineWidgets[W].rowsAbove),{row:L,column:re+this.$getStringScreenWidth(ee)[0]}},R.prototype.documentToScreenColumn=function(k,$){return this.documentToScreenPosition(k,$).column},R.prototype.documentToScreenRow=function(k,$){return this.documentToScreenPosition(k,$).row},R.prototype.getScreenLength=function(){var k=0,$=null;if(this.$useWrapMode)for(var P=this.$wrapData.length,I=0,L=0,$=this.$foldData[L++],D=$?$.start.row:1/0;I<P;){var W=this.$wrapData[I];k+=W?W.length+1:1,I++,I>D&&(I=$.end.row+1,$=this.$foldData[L++],D=$?$.start.row:1/0)}else{k=this.getLength();for(var E=this.$foldData,L=0;L<E.length;L++)$=E[L],k-=$.end.row-$.start.row}return this.lineWidgets&&(k+=this.$getWidgetScreenLength()),k},R.prototype.$setFontMetrics=function(k){this.$enableVarChar&&(this.$getStringScreenWidth=function($,E,L){if(E===0)return[0,0];E||(E=1/0),L=L||0;var P,I;for(I=0;I<$.length&&(P=$.charAt(I),P==="	"?L+=this.getScreenTabSize(L):L+=k.getCharacterWidth(P),!(L>E));I++);return[L,I]})},R.prototype.getPrecedingCharacter=function(){var k=this.selection.getCursor();if(k.column===0)return k.row===0?"":this.doc.getNewLineCharacter();var $=this.getLine(k.row);return $[k.column-1]},R.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},R}();v.$uid=0,v.prototype.$modes=a.$modes,v.prototype.getValue=v.prototype.toString,v.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},v.prototype.$overwrite=!1,v.prototype.$mode=null,v.prototype.$modeId=null,v.prototype.$scrollTop=0,v.prototype.$scrollLeft=0,v.prototype.$wrapLimit=80,v.prototype.$useWrapMode=!1,v.prototype.$wrapLimitRange={min:null,max:null},v.prototype.lineWidgets=null,v.prototype.isFullWidth=M,o.implement(v.prototype,u);var b=1,C=2,x=3,_=4,w=9,y=10,S=11,A=12;function M(R){return R<4352?!1:R>=4352&&R<=4447||R>=4515&&R<=4519||R>=4602&&R<=4607||R>=9001&&R<=9002||R>=11904&&R<=11929||R>=11931&&R<=12019||R>=12032&&R<=12245||R>=12272&&R<=12283||R>=12288&&R<=12350||R>=12353&&R<=12438||R>=12441&&R<=12543||R>=12549&&R<=12589||R>=12593&&R<=12686||R>=12688&&R<=12730||R>=12736&&R<=12771||R>=12784&&R<=12830||R>=12832&&R<=12871||R>=12880&&R<=13054||R>=13056&&R<=19903||R>=19968&&R<=42124||R>=42128&&R<=42182||R>=43360&&R<=43388||R>=44032&&R<=55203||R>=55216&&R<=55238||R>=55243&&R<=55291||R>=63744&&R<=64255||R>=65040&&R<=65049||R>=65072&&R<=65106||R>=65108&&R<=65126||R>=65128&&R<=65131||R>=65281&&R<=65376||R>=65504&&R<=65510}n("./edit_session/folding").Folding.call(v.prototype),n("./edit_session/bracket_match").BracketMatch.call(v.prototype),a.defineOptions(v.prototype,"session",{wrap:{set:function(R){if(!R||R=="off"?R=!1:R=="free"?R=!0:R=="printMargin"?R=-1:typeof R=="string"&&(R=parseInt(R,10)||!1),this.$wrap!=R)if(this.$wrap=R,!R)this.setUseWrapMode(!1);else{var k=typeof R=="number"?R:null;this.setWrapLimitRange(k,k),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(R){R=R=="auto"?this.$mode.type!="text":R!="text",R!=this.$wrapAsCode&&(this.$wrapAsCode=R,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(R){this.$useWorker=R,this.$stopWorker(),R&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(R){R=parseInt(R),R>0&&this.$tabSize!==R&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=R,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(R){this.setFoldStyle(R)},handlesSet:!0},overwrite:{set:function(R){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(R){this.doc.setNewLineMode(R)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(R){this.setMode(R)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=v}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,r,i){var o=n("./lib/lang"),s=n("./lib/oop"),l=n("./range").Range,a=function(){function c(){this.$options={}}return c.prototype.set=function(h){return s.mixin(this.$options,h),this},c.prototype.getOptions=function(){return o.copyObject(this.$options)},c.prototype.setOptions=function(h){this.$options=h},c.prototype.find=function(h){var f=this.$options,p=this.$matchIterator(h,f);if(!p)return!1;var d=null;return p.forEach(function(g,m,v,b){return d=new l(g,m,v,b),m==b&&f.start&&f.start.start&&f.skipCurrent!=!1&&d.isEqual(f.start)?(d=null,!1):!0}),d},c.prototype.findAll=function(h){var f=this.$options;if(!f.needle)return[];this.$assembleRegExp(f);var p=f.range,d=p?h.getLines(p.start.row,p.end.row):h.doc.getAllLines(),g=[],m=f.re;if(f.$isMultiLine){var v=m.length,b=d.length-v,C;e:for(var x=m.offset||0;x<=b;x++){for(var _=0;_<v;_++)if(d[x+_].search(m[_])==-1)continue e;var w=d[x],y=d[x+v-1],S=w.length-w.match(m[0])[0].length,A=y.match(m[v-1])[0].length;C&&C.end.row===x&&C.end.column>S||(g.push(C=new l(x,S,x+v-1,A)),v>2&&(x=x+v-2))}}else for(var M=0;M<d.length;M++)for(var R=o.getMatchOffsets(d[M],m),_=0;_<R.length;_++){var k=R[_];g.push(new l(M,k.offset,M,k.offset+k.length))}if(p){for(var $=p.start.column,E=p.end.column,M=0,_=g.length-1;M<_&&g[M].start.column<$&&g[M].start.row==0;)M++;for(var L=p.end.row-p.start.row;M<_&&g[_].end.column>E&&g[_].end.row==L;)_--;for(g=g.slice(M,_+1),M=0,_=g.length;M<_;M++)g[M].start.row+=p.start.row,g[M].end.row+=p.start.row}return g},c.prototype.replace=function(h,f){var p=this.$options,d=this.$assembleRegExp(p);if(p.$isMultiLine)return f;if(d){var g=d.exec(h);if(!g||g[0].length!=h.length)return null;if(p.regExp||(f=f.replace(/\$/g,"$$$$")),f=h.replace(d,f),p.preserveCase){f=f.split("");for(var m=Math.min(h.length,h.length);m--;){var v=h[m];v&&v.toLowerCase()!=v?f[m]=f[m].toUpperCase():f[m]=f[m].toLowerCase()}f=f.join("")}return f}},c.prototype.$assembleRegExp=function(h,f){if(h.needle instanceof RegExp)return h.re=h.needle;var p=h.needle;if(!h.needle)return h.re=!1;h.regExp||(p=o.escapeRegExp(p));var d=h.caseSensitive?"gm":"gmi";try{new RegExp(p,"u"),h.$supportsUnicodeFlag=!0,d+="u"}catch{h.$supportsUnicodeFlag=!1}if(h.wholeWord&&(p=u(p,h)),h.$isMultiLine=!f&&/[\n\r]/.test(p),h.$isMultiLine)return h.re=this.$assembleMultilineRegExp(p,d);try{var g=new RegExp(p,d)}catch{g=!1}return h.re=g},c.prototype.$assembleMultilineRegExp=function(h,f){for(var p=h.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),d=[],g=0;g<p.length;g++)try{d.push(new RegExp(p[g],f))}catch{return!1}return d},c.prototype.$matchIterator=function(h,f){var p=this.$assembleRegExp(f);if(!p)return!1;var d=f.backwards==!0,g=f.skipCurrent!=!1,m=p.unicode,v=f.range,b=f.start;b||(b=v?v[d?"end":"start"]:h.selection.getRange()),b.start&&(b=b[g!=d?"end":"start"]);var C=v?v.start.row:0,x=v?v.end.row:h.getLength()-1;if(d)var _=function(S){var A=b.row;if(!y(A,b.column,S)){for(A--;A>=C;A--)if(y(A,Number.MAX_VALUE,S))return;if(f.wrap!=!1){for(A=x,C=b.row;A>=C;A--)if(y(A,Number.MAX_VALUE,S))return}}};else var _=function(A){var M=b.row;if(!y(M,b.column,A)){for(M=M+1;M<=x;M++)if(y(M,0,A))return;if(f.wrap!=!1){for(M=C,x=b.row;M<=x;M++)if(y(M,0,A))return}}};if(f.$isMultiLine)var w=p.length,y=function(S,A,M){var R=d?S-w+1:S;if(!(R<0||R+w>h.getLength())){var k=h.getLine(R),$=k.search(p[0]);if(!(!d&&$<A||$===-1)){for(var E=1;E<w;E++)if(k=h.getLine(R+E),k.search(p[E])==-1)return;var L=k.match(p[w-1])[0].length;if(!(d&&L>A)&&M(R,$,R+w-1,L))return!0}}};else if(d)var y=function(A,M,R){var k=h.getLine(A),$=[],E,L=0;for(p.lastIndex=0;E=p.exec(k);){var P=E[0].length;if(L=E.index,!P){if(L>=k.length)break;p.lastIndex=L+=o.skipEmptyMatch(k,L,m)}if(E.index+P>M)break;$.push(E.index,P)}for(var I=$.length-1;I>=0;I-=2){var D=$[I-1],P=$[I];if(R(A,D,A,D+P))return!0}};else var y=function(A,M,R){var k=h.getLine(A),$,E;for(p.lastIndex=M;E=p.exec(k);){var L=E[0].length;if($=E.index,R(A,$,A,$+L))return!0;if(!L&&(p.lastIndex=$+=o.skipEmptyMatch(k,$,m),$>=k.length))return!1}};return{forEach:_}},c}();function u(c,h){var f=o.supportsLookbehind();function p(v,b){b===void 0&&(b=!0);var C=f&&h.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return C.test(v)||h.regExp?f&&h.$supportsUnicodeFlag?b?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var d=Array.from(c),g=d[0],m=d[d.length-1];return p(g)+c+p(m,!1)}r.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var o=this&&this.__extends||function(){var f=function(p,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},f(p,d)};return function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(p,d);function g(){this.constructor=p}p.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),s=n("../lib/keys"),l=n("../lib/useragent"),a=s.KEY_MODS,u=function(){function f(p,d){this.$init(p,d,!1)}return f.prototype.$init=function(p,d,g){this.platform=d||(l.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(p),this.$singleCommand=g},f.prototype.addCommand=function(p){this.commands[p.name]&&this.removeCommand(p),this.commands[p.name]=p,p.bindKey&&this._buildKeyHash(p)},f.prototype.removeCommand=function(p,d){var g=p&&(typeof p=="string"?p:p.name);p=this.commands[g],d||delete this.commands[g];var m=this.commandKeyBinding;for(var v in m){var b=m[v];if(b==p)delete m[v];else if(Array.isArray(b)){var C=b.indexOf(p);C!=-1&&(b.splice(C,1),b.length==1&&(m[v]=b[0]))}}},f.prototype.bindKey=function(p,d,g){if(typeof p=="object"&&p&&(g==null&&(g=p.position),p=p[this.platform]),!!p){if(typeof d=="function")return this.addCommand({exec:d,bindKey:p,name:d.name||p});p.split("|").forEach(function(m){var v="";if(m.indexOf(" ")!=-1){var b=m.split(/\s+/);m=b.pop(),b.forEach(function(_){var w=this.parseKeys(_),y=a[w.hashId]+w.key;v+=(v?" ":"")+y,this._addCommandToBinding(v,"chainKeys")},this),v+=" "}var C=this.parseKeys(m),x=a[C.hashId]+C.key;this._addCommandToBinding(v+x,d,g)},this)}},f.prototype._addCommandToBinding=function(p,d,g){var m=this.commandKeyBinding,v;if(!d)delete m[p];else if(!m[p]||this.$singleCommand)m[p]=d;else{Array.isArray(m[p])?(v=m[p].indexOf(d))!=-1&&m[p].splice(v,1):m[p]=[m[p]],typeof g!="number"&&(g=c(d));var b=m[p];for(v=0;v<b.length;v++){var C=b[v],x=c(C);if(x>g)break}b.splice(v,0,d)}},f.prototype.addCommands=function(p){p&&Object.keys(p).forEach(function(d){var g=p[d];if(g){if(typeof g=="string")return this.bindKey(g,d);typeof g=="function"&&(g={exec:g}),typeof g=="object"&&(g.name||(g.name=d),this.addCommand(g))}},this)},f.prototype.removeCommands=function(p){Object.keys(p).forEach(function(d){this.removeCommand(p[d])},this)},f.prototype.bindKeys=function(p){Object.keys(p).forEach(function(d){this.bindKey(d,p[d])},this)},f.prototype._buildKeyHash=function(p){this.bindKey(p.bindKey,p)},f.prototype.parseKeys=function(p){var d=p.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x}),g=d.pop(),m=s[g];if(s.FUNCTION_KEYS[m])g=s.FUNCTION_KEYS[m].toLowerCase();else if(d.length){if(d.length==1&&d[0]=="shift")return{key:g.toUpperCase(),hashId:-1}}else return{key:g,hashId:-1};for(var v=0,b=d.length;b--;){var C=s.KEY_MODS[d[b]];if(C==null)return typeof console<"u"&&console.error("invalid modifier "+d[b]+" in "+p),!1;v|=C}return{key:g,hashId:v}},f.prototype.findKeyCommand=function(p,d){var g=a[p]+d;return this.commandKeyBinding[g]},f.prototype.handleKeyboard=function(p,d,g,m){if(!(m<0)){var v=a[d]+g,b=this.commandKeyBinding[v];return p.$keyChain&&(p.$keyChain+=" "+v,b=this.commandKeyBinding[p.$keyChain]||b),b&&(b=="chainKeys"||b[b.length-1]=="chainKeys")?(p.$keyChain=p.$keyChain||v,{command:"null"}):(p.$keyChain&&((!d||d==4)&&g.length==1?p.$keyChain=p.$keyChain.slice(0,-v.length-1):(d==-1||m>0)&&(p.$keyChain="")),{command:b})}},f.prototype.getStatusText=function(p,d){return d.$keyChain||""},f}();function c(f){return typeof f=="object"&&f.bindKey&&f.bindKey.position||(f.isDefault?-100:0)}var h=function(f){o(p,f);function p(d,g){var m=f.call(this,d,g)||this;return m.$singleCommand=!0,m}return p}(u);h.call=function(f,p,d){u.prototype.$init.call(f,p,d,!0)},u.call=function(f,p,d){u.prototype.$init.call(f,p,d,!1)},r.HashHandler=h,r.MultiHashHandler=u}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,r,i){var o=this&&this.__extends||function(){var c=function(h,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(p[g]=d[g])},c(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),s=n("../lib/oop"),l=n("../keyboard/hash_handler").MultiHashHandler,a=n("../lib/event_emitter").EventEmitter,u=function(c){o(h,c);function h(f,p){var d=c.call(this,p,f)||this;return d.byName=d.commands,d.setDefaultHandler("exec",function(g){return g.args?g.command.exec(g.editor,g.args,g.event,!1):g.command.exec(g.editor,{},g.event,!0)}),d}return h.prototype.exec=function(f,p,d){if(Array.isArray(f)){for(var g=f.length;g--;)if(this.exec(f[g],p,d))return!0;return!1}if(typeof f=="string"&&(f=this.commands[f]),!this.canExecute(f,p))return!1;var m={editor:p,command:f,args:d};return m.returnValue=this._emit("exec",m),this._signal("afterExec",m),m.returnValue!==!1},h.prototype.canExecute=function(f,p){return typeof f=="string"&&(f=this.commands[f]),!(!f||p&&p.$readOnly&&!f.readOnly||this.$checkCommandState!=!1&&f.isAvailable&&!f.isAvailable(p))},h.prototype.toggleRecording=function(f){if(!this.$inReplay)return f&&f._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(p){this.macro.push([p.command,p.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},h.prototype.replay=function(f){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(f);try{this.$inReplay=!0,this.macro.forEach(function(p){typeof p=="string"?this.exec(p,f):this.exec(p[0],f,p[1])},this)}finally{this.$inReplay=!1}}},h.prototype.trimMacro=function(f){return f.map(function(p){return typeof p[0]!="string"&&(p[0]=p[0].name),p[1]||(p=p[0]),p})},h}(l);s.implement(u.prototype,a),r.CommandManager=u}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,r,i){var o=n("../lib/lang"),s=n("../config"),l=n("../range").Range;function a(c,h){return{win:c,mac:h}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:a("Ctrl-,","Command-,"),exec:function(c){s.loadModule("ace/ext/settings_menu",function(h){h.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:a("Alt-E","F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(c,h){typeof h=="number"&&!isNaN(h)&&c.gotoLine(h),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:a("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:a("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(h){h.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(c,h){c.navigateUp(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(c,h){c.navigateDown(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(c,h){c.navigateLeft(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(c,h){c.navigateRight(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var h=c.$copyWithEmptySelection&&c.selection.isEmpty(),f=h?c.selection.getLineRange():c.selection.getRange();c._emit("cut",f),f.isEmpty()||c.session.remove(f),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,h){c.$handlePaste(h)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(h){h.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(c){var h=c.selection.getRange();h.start.column=0,c.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(c){var h=c.selection.getRange();h.end.column=Number.MAX_VALUE,c.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,h){c.insert(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,h){c.insert(o.stringRepeat(h.text||"",h.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(c){c.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var h=c.selection.getRange();h.start.column=h.end.column=0,h.end.row++,c.selection.setRange(h,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:a("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(c){for(var h=c.selection.isBackwards(),f=h?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),p=h?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),d=c.session.doc.getLine(f.row).length,g=c.session.doc.getTextRange(c.selection.getRange()),m=g.replace(/\n\s*/," ").length,v=c.session.doc.getLine(f.row),b=f.row+1;b<=p.row+1;b++){var C=o.stringTrimLeft(o.stringTrimRight(c.session.doc.getLine(b)));C.length!==0&&(C=" "+C),v+=C}p.row+1<c.session.doc.getLength()-1&&(v+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new l(f.row,0,p.row+2,0),v),m>0?(c.selection.moveCursorTo(f.row,f.column),c.selection.selectTo(f.row,f.column+m)):(d=c.session.doc.getLine(f.row).length>d?d+1:d,c.selection.moveCursorTo(f.row,d))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(c){var h=c.session.doc.getLength()-1,f=c.session.doc.getLine(h).length,p=c.selection.rangeList.ranges,d=[];p.length<1&&(p=[c.selection.getRange()]);for(var g=0;g<p.length;g++)g==p.length-1&&(p[g].end.row===h&&p[g].end.column===f||d.push(new l(p[g].end.row,p[g].end.column,h,f))),g===0?p[g].start.row===0&&p[g].start.column===0||d.push(new l(0,0,p[g].start.row,p[g].start.column)):d.push(new l(p[g-1].end.row,p[g-1].end.column,p[g].start.row,p[g].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var g=0;g<d.length;g++)c.selection.addRange(d[g],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var h=c.getCursorPosition();c.selection.moveTo(h.row-1,Number.MAX_VALUE),c.insert(`
`),h.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(c){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),c.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:a("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var u=1;u<9;u++)r.commands.push({name:"foldToLevel"+u,description:"Fold To Level "+u,level:u,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("./lib/dom"),s=function(){function l(a){this.session=a,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return l.prototype.getRowLength=function(a){var u;return this.lineWidgets?u=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:u=0,!this.$useWrapMode||!this.$wrapData[a]?1+u:this.$wrapData[a].length+1+u},l.prototype.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(u){u&&u.rowCount&&!u.hidden&&(a+=u.rowCount)}),a},l.prototype.$onChangeEditor=function(a){this.attach(a.editor)},l.prototype.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach(),this.editor!=a&&(this.detach(),this.editor=a,a&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))},l.prototype.detach=function(a){var u=this.editor;if(u){this.editor=null,u.widgetManager=null,u.renderer.off("beforeRender",this.measureWidgets),u.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(h){h&&h.el&&h.el.parentNode&&(h._inDocument=!1,h.el.parentNode.removeChild(h.el))})}},l.prototype.updateOnFold=function(a,u){var c=u.lineWidgets;if(!(!c||!a.action)){for(var h=a.data,f=h.start.row,p=h.end.row,d=a.action=="add",g=f+1;g<p;g++)c[g]&&(c[g].hidden=d);c[p]&&(d?c[f]?c[p].hidden=d:c[f]=c[p]:(c[f]==c[p]&&(c[f]=void 0),c[p].hidden=d))}},l.prototype.updateOnChange=function(a){var u=this.session.lineWidgets;if(u){var c=a.start.row,h=a.end.row-c;if(h!==0)if(a.action=="remove"){var f=u.splice(c+1,h);!u[c]&&f[f.length-1]&&(u[c]=f.pop()),f.forEach(function(d){d&&this.removeLineWidget(d)},this),this.$updateRows()}else{var p=new Array(h);u[c]&&u[c].column!=null&&a.start.column>u[c].column&&c++,p.unshift(c,0),u.splice.apply(u,p),this.$updateRows()}}},l.prototype.$updateRows=function(){var a=this.session.lineWidgets;if(a){var u=!0;a.forEach(function(c,h){if(c)for(u=!1,c.row=h;c.$oldWidget;)c.$oldWidget.row=h,c=c.$oldWidget}),u&&(this.session.lineWidgets=null)}},l.prototype.$registerLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var u=this.session.lineWidgets[a.row];return u&&(a.$oldWidget=u,u.el&&u.el.parentNode&&(u.el.parentNode.removeChild(u.el),u._inDocument=!1)),this.session.lineWidgets[a.row]=a,a},l.prototype.addLineWidget=function(a){if(this.$registerLineWidget(a),a.session=this.session,!this.editor)return a;var u=this.editor.renderer;a.html&&!a.el&&(a.el=o.createElement("div"),a.el.innerHTML=a.html),a.text&&!a.el&&(a.el=o.createElement("div"),a.el.textContent=a.text),a.el&&(o.addCssClass(a.el,"ace_lineWidgetContainer"),a.className&&o.addCssClass(a.el,a.className),a.el.style.position="absolute",a.el.style.zIndex="5",u.container.appendChild(a.el),a._inDocument=!0,a.coverGutter||(a.el.style.zIndex="3"),a.pixelHeight==null&&(a.pixelHeight=a.el.offsetHeight)),a.rowCount==null&&(a.rowCount=a.pixelHeight/u.layerConfig.lineHeight);var c=this.session.getFoldAt(a.row,0);if(a.$fold=c,c){var h=this.session.lineWidgets;a.row==c.end.row&&!h[c.start.row]?h[c.start.row]=a:a.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,u),this.onWidgetChanged(a),a},l.prototype.removeLineWidget=function(a){if(a._inDocument=!1,a.session=null,a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el),a.editor&&a.editor.destroy)try{a.editor.destroy()}catch{}if(this.session.lineWidgets){var u=this.session.lineWidgets[a.row];if(u==a)this.session.lineWidgets[a.row]=a.$oldWidget,a.$oldWidget&&this.onWidgetChanged(a.$oldWidget);else for(;u;){if(u.$oldWidget==a){u.$oldWidget=a.$oldWidget;break}u=u.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows()},l.prototype.getWidgetsAtRow=function(a){for(var u=this.session.lineWidgets,c=u&&u[a],h=[];c;)h.push(c),c=c.$oldWidget;return h},l.prototype.onWidgetChanged=function(a){this.session._changedWidgets.push(a),this.editor&&this.editor.renderer.updateFull()},l.prototype.measureWidgets=function(a,u){var c=this.session._changedWidgets,h=u.layerConfig;if(!(!c||!c.length)){for(var f=1/0,p=0;p<c.length;p++){var d=c[p];if(!(!d||!d.el)&&d.session==this.session){if(!d._inDocument){if(this.session.lineWidgets[d.row]!=d)continue;d._inDocument=!0,u.container.appendChild(d.el)}d.h=d.el.offsetHeight,d.fixedWidth||(d.w=d.el.offsetWidth,d.screenWidth=Math.ceil(d.w/h.characterWidth));var g=d.h/h.lineHeight;d.coverLine&&(g-=this.session.getRowLineCount(d.row),g<0&&(g=0)),d.rowCount!=g&&(d.rowCount=g,d.row<f&&(f=d.row))}}f!=1/0&&(this.session._emit("changeFold",{data:{start:{row:f}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},l.prototype.renderWidgets=function(a,u){var c=u.layerConfig,h=this.session.lineWidgets;if(h){for(var f=Math.min(this.firstRow,c.firstRow),p=Math.max(this.lastRow,c.lastRow,h.length);f>0&&!h[f];)f--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,u.$cursorLayer.config=c;for(var d=f;d<=p;d++){var g=h[d];if(!(!g||!g.el)){if(g.hidden){g.el.style.top=-100-(g.pixelHeight||0)+"px";continue}g._inDocument||(g._inDocument=!0,u.container.appendChild(g.el));var m=u.$cursorLayer.getPixelPosition({row:d,column:0},!0).top;g.coverLine||(m+=c.lineHeight*this.session.getRowLineCount(g.row)),g.el.style.top=m-c.offset+"px";var v=g.coverGutter?0:u.gutterWidth;g.fixedWidth||(v-=u.scrollLeft),g.el.style.left=v+"px",g.fullWidth&&g.screenWidth&&(g.el.style.minWidth=c.width+2*c.padding+"px"),g.fixedWidth?g.el.style.right=u.scrollBar.getWidth()+"px":g.el.style.right=""}}}},l}();r.LineWidgets=s}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,r,i){var o=n("../lib/keys"),s=n("../mouse/default_gutter_handler").GutterTooltip,l=function(){function u(c){this.editor=c,this.gutterLayer=c.renderer.$gutterLayer,this.element=c.renderer.$gutter,this.lines=c.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new s(this.editor)}return u.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},u.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},u.prototype.$onGutterKeyDown=function(c){if(this.annotationTooltip.isOpen){c.preventDefault(),c.keyCode===o.escape&&this.annotationTooltip.hideTooltip();return}if(c.target===this.element){if(c.keyCode!=o.enter)return;c.preventDefault();var h=this.editor.getCursorPosition().row;this.editor.isRowVisible(h)||this.editor.scrollToLine(h,!0,!0),setTimeout((function(){var f=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),p=this.$findNearestFoldWidget(f),d=this.$findNearestAnnotation(f);if(!(p===null&&d===null)){if(p===null&&d!==null){this.activeRowIndex=d,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(p!==null&&d===null){this.activeRowIndex=p,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(d-f)<Math.abs(p-f)){this.activeRowIndex=d,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=p,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(c),setTimeout((function(){this.editor._signal("gutterkeydown",new a(c,this))}).bind(this),10)},u.prototype.$handleGutterKeyboardInteraction=function(c){if(c.keyCode===o.tab){c.preventDefault();return}if(c.keyCode===o.escape){c.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(c.keyCode===o.up){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(c.keyCode===o.down){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(c.keyCode===o.left){c.preventDefault(),this.$switchLane("annotation");return}if(c.keyCode===o.right){c.preventDefault(),this.$switchLane("fold");return}if(c.keyCode===o.enter||c.keyCode===o.space){switch(c.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var h=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),c),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==h&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(h),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var f=this.lines.cells[this.activeRowIndex].element.childNodes[2],p=f.getBoundingClientRect(),d=this.annotationTooltip.getElement().style;d.left=p.right+"px",d.top=p.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},u.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},u.prototype.$isFoldWidgetVisible=function(c){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),f=this.$getFoldWidget(c).style.display!=="none";return h&&f},u.prototype.$isAnnotationVisible=function(c){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),f=this.$getAnnotation(c).style.display!=="none";return h&&f},u.prototype.$getFoldWidget=function(c){var h=this.lines.get(c),f=h.element;return f.childNodes[1]},u.prototype.$getAnnotation=function(c){var h=this.lines.get(c),f=h.element;return f.childNodes[2]},u.prototype.$findNearestFoldWidget=function(c){if(this.$isFoldWidgetVisible(c))return c;for(var h=0;c-h>0||c+h<this.lines.getLength()-1;){if(h++,c-h>=0&&this.$isFoldWidgetVisible(c-h))return c-h;if(c+h<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(c+h))return c+h}return null},u.prototype.$findNearestAnnotation=function(c){if(this.$isAnnotationVisible(c))return c;for(var h=0;c-h>0||c+h<this.lines.getLength()-1;){if(h++,c-h>=0&&this.$isAnnotationVisible(c-h))return c-h;if(c+h<=this.lines.getLength()-1&&this.$isAnnotationVisible(c+h))return c+h}return null},u.prototype.$focusFoldWidget=function(c){if(c!=null){var h=this.$getFoldWidget(c);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},u.prototype.$focusAnnotation=function(c){if(c!=null){var h=this.$getAnnotation(c);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},u.prototype.$blurFoldWidget=function(c){var h=this.$getFoldWidget(c);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},u.prototype.$blurAnnotation=function(c){var h=this.$getAnnotation(c);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},u.prototype.$moveFoldWidgetUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveFoldWidgetDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isFoldWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);return}},u.prototype.$moveAnnotationUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$moveAnnotationDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$switchLane=function(c){switch(c){case"annotation":if(this.activeLane==="annotation")break;var h=this.$findNearestAnnotation(this.activeRowIndex);if(h==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var f=this.$findNearestFoldWidget(this.activeRowIndex);if(f==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=f,this.$focusFoldWidget(this.activeRowIndex);break}},u.prototype.$rowIndexToRow=function(c){var h=this.lines.get(c);return h?h.row:null},u.prototype.$rowToRowIndex=function(c){for(var h=0;h<this.lines.getLength();h++){var f=this.lines.get(h);if(f.row==c)return h}return null},u}();r.GutterKeyboardHandler=l;var a=function(){function u(c,h){this.gutterKeyboardHandler=h,this.domEvent=c}return u.prototype.getKey=function(){return o.keyCodeToString(this.domEvent.keyCode)},u.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},u.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},u.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},u}();r.GutterKeyboardEvent=a}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(n,r,i){var o=this&&this.__values||function($){var E=typeof Symbol=="function"&&Symbol.iterator,L=E&&$[E],P=0;if(L)return L.call($);if($&&typeof $.length=="number")return{next:function(){return $&&P>=$.length&&($=void 0),{value:$&&$[P++],done:!$}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},s=n("./lib/oop"),l=n("./lib/dom"),a=n("./lib/lang"),u=n("./lib/useragent"),c=n("./keyboard/textinput").TextInput,h=n("./mouse/mouse_handler").MouseHandler,f=n("./mouse/fold_handler").FoldHandler,p=n("./keyboard/keybinding").KeyBinding,d=n("./edit_session").EditSession,g=n("./search").Search,m=n("./range").Range,v=n("./lib/event_emitter").EventEmitter,b=n("./commands/command_manager").CommandManager,C=n("./commands/default_commands").commands,x=n("./config"),_=n("./token_iterator").TokenIterator,w=n("./line_widgets").LineWidgets,y=n("./keyboard/gutter_handler").GutterKeyboardHandler,S=n("./config").nls,A=n("./clipboard"),M=n("./lib/keys"),R=function(){function $(E,L,P){this.session,this.$toDestroy=[];var I=E.getContainerElement();this.container=I,this.renderer=E,this.id="editor"+ ++$.$uid,this.commands=new b(u.isMac?"mac":"win",C),typeof document=="object"&&(this.textInput=new c(E.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new h(this),new f(this)),this.keyBinding=new p(this),this.$search=new g().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=a.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(D,W){W._$emitInputEvent.schedule(31)}),this.setSession(L||P&&P.session||new d("")),x.resetOptions(this),P&&this.setOptions(P),x._signal("editor",this)}return $.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},$.prototype.startOperation=function(E){this.session.startOperation(E)},$.prototype.endOperation=function(E){this.session.endOperation(E)},$.prototype.onStartOperation=function(E){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,E||(this.previousCommand=null)},$.prototype.onEndOperation=function(E){if(this.curOp&&this.session){if(E&&E.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var L=this.curOp.command,P=L&&L.scrollIntoView;if(P){switch(P){case"center-animate":P="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var I=this.selection.getRange(),D=this.renderer.layerConfig;(I.start.row>=D.lastRow||I.end.row<=D.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}P=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},$.prototype.$historyTracker=function(E){if(this.$mergeUndoDeltas){var L=this.prevOp,P=this.$mergeableCommands,I=L.command&&E.command.name==L.command.name;if(E.command.name=="insertstring"){var D=E.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),I=I&&this.mergeNextCommand&&(!/\s/.test(D)||/\s/.test(L.args)),this.mergeNextCommand=!0}else I=I&&P.indexOf(E.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(I=!1),I?this.session.mergeUndoDeltas=!0:P.indexOf(E.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},$.prototype.setKeyboardHandler=function(E,L){if(E&&typeof E=="string"&&E!="ace"){this.$keybindingId=E;var P=this;x.loadModule(["keybinding",E],function(I){P.$keybindingId==E&&P.keyBinding.setKeyboardHandler(I&&I.handler),L&&L()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(E),L&&L()},$.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},$.prototype.setSession=function(E){if(this.session!=E){this.curOp&&this.endOperation(),this.curOp={};var L=this.session;if(L){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var P=this.session.getSelection();P.off("changeCursor",this.$onCursorChange),P.off("changeSelection",this.$onSelectionChange)}this.session=E,E?(this.$onDocumentChange=this.onDocumentChange.bind(this),E.on("change",this.$onDocumentChange),this.renderer.setSession(E),this.$onChangeMode=this.onChangeMode.bind(this),E.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),E.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),E.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),E.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),E.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),E.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=E.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(E)),this._signal("changeSession",{session:E,oldSession:L}),this.curOp=null,L&&L._signal("changeEditor",{oldEditor:this}),E&&E._signal("changeEditor",{editor:this}),E&&!E.destroyed&&E.bgTokenizer.scheduleStart()}},$.prototype.getSession=function(){return this.session},$.prototype.setValue=function(E,L){return this.session.doc.setValue(E),L?L==1?this.navigateFileEnd():L==-1&&this.navigateFileStart():this.selectAll(),E},$.prototype.getValue=function(){return this.session.getValue()},$.prototype.getSelection=function(){return this.selection},$.prototype.resize=function(E){this.renderer.onResize(E)},$.prototype.setTheme=function(E,L){this.renderer.setTheme(E,L)},$.prototype.getTheme=function(){return this.renderer.getTheme()},$.prototype.setStyle=function(E){this.renderer.setStyle(E)},$.prototype.unsetStyle=function(E){this.renderer.unsetStyle(E)},$.prototype.getFontSize=function(){return this.getOption("fontSize")||l.computedStyle(this.container).fontSize},$.prototype.setFontSize=function(E){this.setOption("fontSize",E)},$.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var E=this;this.$highlightPending=!0,setTimeout(function(){E.$highlightPending=!1;var L=E.session;if(!(!L||L.destroyed)){L.$bracketHighlight&&(L.$bracketHighlight.markerIds.forEach(function(X){L.removeMarker(X)}),L.$bracketHighlight=null);var P=E.getCursorPosition(),I=E.getKeyboardHandler(),D=I&&I.$getDirectionForHighlight&&I.$getDirectionForHighlight(E),W=L.getMatchingBracketRanges(P,D);if(!W){var z=new _(L,P.row,P.column),G=z.getCurrentToken();if(G&&/\b(?:tag-open|tag-name)/.test(G.type)){var Z=L.getMatchingTags(P);Z&&(W=[Z.openTagName.isEmpty()?Z.openTag:Z.openTagName,Z.closeTagName.isEmpty()?Z.closeTag:Z.closeTagName])}}if(!W&&L.$mode.getMatching&&(W=L.$mode.getMatching(E.session)),!W){E.getHighlightIndentGuides()&&E.renderer.$textLayer.$highlightIndentGuide();return}var q="ace_bracket";Array.isArray(W)?W.length==1&&(q="ace_error_bracket"):W=[W],W.length==2&&(m.comparePoints(W[0].end,W[1].start)==0?W=[m.fromPoints(W[0].start,W[1].end)]:m.comparePoints(W[0].start,W[1].end)==0&&(W=[m.fromPoints(W[1].start,W[0].end)])),L.$bracketHighlight={ranges:W,markerIds:W.map(function(X){return L.addMarker(X,q,"text")})},E.getHighlightIndentGuides()&&E.renderer.$textLayer.$highlightIndentGuide()}},50)}},$.prototype.focus=function(){this.textInput.focus()},$.prototype.isFocused=function(){return this.textInput.isFocused()},$.prototype.blur=function(){this.textInput.blur()},$.prototype.onFocus=function(E){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",E))},$.prototype.onBlur=function(E){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",E))},$.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},$.prototype.onDocumentChange=function(E){var L=this.session.$useWrapMode,P=E.start.row==E.end.row?E.end.row:1/0;this.renderer.updateLines(E.start.row,P,L),this._signal("change",E),this.$cursorChange()},$.prototype.onTokenizerUpdate=function(E){var L=E.data;this.renderer.updateLines(L.first,L.last)},$.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},$.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},$.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},$.prototype.$updateHighlightActiveLine=function(){var E=this.getSession(),L;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(L=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(L=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(L=!1)),E.$highlightLineMarker&&!L)E.removeMarker(E.$highlightLineMarker.id),E.$highlightLineMarker=null;else if(!E.$highlightLineMarker&&L){var P=new m(L.row,L.column,L.row,1/0);P.id=E.addMarker(P,"ace_active-line","screenLine"),E.$highlightLineMarker=P}else L&&(E.$highlightLineMarker.start.row=L.row,E.$highlightLineMarker.end.row=L.row,E.$highlightLineMarker.start.column=L.column,E._signal("changeBackMarker"))},$.prototype.onSelectionChange=function(E){var L=this.session;if(L.$selectionMarker&&L.removeMarker(L.$selectionMarker),L.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var P=this.selection.getRange(),I=this.getSelectionStyle();L.$selectionMarker=L.addMarker(P,"ace_selection",I)}var D=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(D),this._signal("changeSelection")},$.prototype.$getSelectionHighLightRegexp=function(){var E=this.session,L=this.getSelectionRange();if(!(L.isEmpty()||L.isMultiLine())){var P=L.start.column,I=L.end.column,D=E.getLine(L.start.row),W=D.substring(P,I);if(!(W.length>5e3||!/[\w\d]/.test(W))){var z=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:W}),G=D.substring(P-1,I+1);if(z.test(G))return z}}},$.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},$.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},$.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},$.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},$.prototype.onChangeMode=function(E){this.renderer.updateText(),this._emit("changeMode",E)},$.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},$.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},$.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},$.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},$.prototype.getCopyText=function(){var E=this.getSelectedText(),L=this.session.doc.getNewLineCharacter(),P=!1;if(!E&&this.$copyWithEmptySelection){P=!0;for(var I=this.selection.getAllRanges(),D=0;D<I.length;D++){var W=I[D];D&&I[D-1].start.row==W.start.row||(E+=this.session.getLine(W.start.row)+L)}}var z={text:E};return this._signal("copy",z),A.lineMode=P?z.text:!1,z.text},$.prototype.onCopy=function(){this.commands.exec("copy",this)},$.prototype.onCut=function(){this.commands.exec("cut",this)},$.prototype.onPaste=function(E,L){var P={text:E,event:L};this.commands.exec("paste",this,P)},$.prototype.$handlePaste=function(E){typeof E=="string"&&(E={text:E}),this._signal("paste",E);var L=E.text,P=L===A.lineMode,I=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)P?I.insert({row:this.selection.lead.row,column:0},L):this.insert(L);else if(P)this.selection.rangeList.ranges.forEach(function(q){I.insert({row:q.start.row,column:0},L)});else{var D=L.split(/\r\n|\r|\n/),W=this.selection.rangeList.ranges,z=D.length==2&&(!D[0]||!D[1]);if(D.length!=W.length||z)return this.commands.exec("insertstring",this,L);for(var G=W.length;G--;){var Z=W[G];Z.isEmpty()||I.remove(Z),I.insert(Z.start,D[G])}}},$.prototype.execCommand=function(E,L){return this.commands.exec(E,this,L)},$.prototype.insert=function(E,L){var P=this.session,I=P.getMode(),D=this.getCursorPosition();if(this.getBehavioursEnabled()&&!L){var W=I.transformAction(P.getState(D.row),"insertion",this,P,E);W&&(E!==W.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),E=W.text)}if(E=="	"&&(E=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&E.indexOf(`
`)==-1){var z=m.fromPoints(D,D);z.end.column+=E.length,this.session.remove(z)}}else{var z=this.getSelectionRange();D=this.session.remove(z),this.clearSelection()}if(E==`
`||E==`\r
`){var X=P.getLine(D.row);if(D.column>X.search(/\S|$/)){var G=X.substr(D.column).search(/\S|$/);P.doc.removeInLine(D.row,D.column,D.column+G)}}this.clearSelection();var Z=D.column,q=P.getState(D.row),X=P.getLine(D.row),Y=I.checkOutdent(q,X,E);if(P.insert(D,E),W&&W.selection&&(W.selection.length==2?this.selection.setSelectionRange(new m(D.row,Z+W.selection[0],D.row,Z+W.selection[1])):this.selection.setSelectionRange(new m(D.row+W.selection[0],W.selection[1],D.row+W.selection[2],W.selection[3]))),this.$enableAutoIndent){if(P.getDocument().isNewLine(E)){var ee=I.getNextLineIndent(q,X.slice(0,D.column),P.getTabString());P.insert({row:D.row+1,column:0},ee)}Y&&I.autoOutdent(q,P,D.row)}},$.prototype.autoIndent=function(){for(var E=this.session,L=E.getMode(),P=this.selection.isEmpty()?[new m(0,0,E.doc.getLength()-1,0)]:this.selection.getAllRanges(),I="",D="",W="",z=E.getTabString(),G=0;G<P.length;G++)for(var Z=P[G].start.row,q=P[G].end.row,X=Z;X<=q;X++){X>0&&(I=E.getState(X-1),D=E.getLine(X-1),W=L.getNextLineIndent(I,D,z));var Y=E.getLine(X),ee=L.$getIndent(Y);if(W!==ee){if(ee.length>0){var re=new m(X,0,X,ee.length);E.remove(re)}W.length>0&&E.insert({row:X,column:0},W)}L.autoOutdent(I,E,X)}},$.prototype.onTextInput=function(E,L){if(!L)return this.keyBinding.onTextInput(E);this.startOperation({command:{name:"insertstring"}});var P=this.applyComposition.bind(this,E,L);this.selection.rangeCount?this.forEachSelection(P):P(),this.endOperation()},$.prototype.applyComposition=function(E,L){if(L.extendLeft||L.extendRight){var P=this.selection.getRange();P.start.column-=L.extendLeft,P.end.column+=L.extendRight,P.start.column<0&&(P.start.row--,P.start.column+=this.session.getLine(P.start.row).length+1),this.selection.setRange(P),!E&&!P.isEmpty()&&this.remove()}if((E||!this.selection.isEmpty())&&this.insert(E,!0),L.restoreStart||L.restoreEnd){var P=this.selection.getRange();P.start.column-=L.restoreStart,P.end.column-=L.restoreEnd,this.selection.setRange(P)}},$.prototype.onCommandKey=function(E,L,P){return this.keyBinding.onCommandKey(E,L,P)},$.prototype.setOverwrite=function(E){this.session.setOverwrite(E)},$.prototype.getOverwrite=function(){return this.session.getOverwrite()},$.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},$.prototype.setScrollSpeed=function(E){this.setOption("scrollSpeed",E)},$.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},$.prototype.setDragDelay=function(E){this.setOption("dragDelay",E)},$.prototype.getDragDelay=function(){return this.getOption("dragDelay")},$.prototype.setSelectionStyle=function(E){this.setOption("selectionStyle",E)},$.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},$.prototype.setHighlightActiveLine=function(E){this.setOption("highlightActiveLine",E)},$.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},$.prototype.setHighlightGutterLine=function(E){this.setOption("highlightGutterLine",E)},$.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},$.prototype.setHighlightSelectedWord=function(E){this.setOption("highlightSelectedWord",E)},$.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},$.prototype.setAnimatedScroll=function(E){this.renderer.setAnimatedScroll(E)},$.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},$.prototype.setShowInvisibles=function(E){this.renderer.setShowInvisibles(E)},$.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},$.prototype.setDisplayIndentGuides=function(E){this.renderer.setDisplayIndentGuides(E)},$.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},$.prototype.setHighlightIndentGuides=function(E){this.renderer.setHighlightIndentGuides(E)},$.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},$.prototype.setShowPrintMargin=function(E){this.renderer.setShowPrintMargin(E)},$.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},$.prototype.setPrintMarginColumn=function(E){this.renderer.setPrintMarginColumn(E)},$.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},$.prototype.setReadOnly=function(E){this.setOption("readOnly",E)},$.prototype.getReadOnly=function(){return this.getOption("readOnly")},$.prototype.setBehavioursEnabled=function(E){this.setOption("behavioursEnabled",E)},$.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},$.prototype.setWrapBehavioursEnabled=function(E){this.setOption("wrapBehavioursEnabled",E)},$.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},$.prototype.setShowFoldWidgets=function(E){this.setOption("showFoldWidgets",E)},$.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},$.prototype.setFadeFoldWidgets=function(E){this.setOption("fadeFoldWidgets",E)},$.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},$.prototype.remove=function(E){this.selection.isEmpty()&&(E=="left"?this.selection.selectLeft():this.selection.selectRight());var L=this.getSelectionRange();if(this.getBehavioursEnabled()){var P=this.session,I=P.getState(L.start.row),D=P.getMode().transformAction(I,"deletion",this,P,L);if(L.end.column===0){var W=P.getTextRange(L);if(W[W.length-1]==`
`){var z=P.getLine(L.end.row);/^\s+$/.test(z)&&(L.end.column=z.length)}}D&&(L=D)}this.session.remove(L),this.clearSelection()},$.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},$.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},$.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},$.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var E=this.getSelectionRange();E.start.column==E.end.column&&E.start.row==E.end.row&&(E.end.column=0,E.end.row++),this.session.remove(E),this.clearSelection()},$.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var E=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(E)},$.prototype.setGhostText=function(E,L){this.session.widgetManager||(this.session.widgetManager=new w(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(E,L)},$.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},$.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var E=this.getCursorPosition(),L=E.column;if(L!==0){var P=this.session.getLine(E.row),I,D;L<P.length?(I=P.charAt(L)+P.charAt(L-1),D=new m(E.row,L-1,E.row,L+1)):(I=P.charAt(L-1)+P.charAt(L-2),D=new m(E.row,L-2,E.row,L)),this.session.replace(D,I),this.session.selection.moveToPosition(D.end)}}},$.prototype.toLowerCase=function(){var E=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var L=this.getSelectionRange(),P=this.session.getTextRange(L);this.session.replace(L,P.toLowerCase()),this.selection.setSelectionRange(E)},$.prototype.toUpperCase=function(){var E=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var L=this.getSelectionRange(),P=this.session.getTextRange(L);this.session.replace(L,P.toUpperCase()),this.selection.setSelectionRange(E)},$.prototype.indent=function(){var E=this.session,L=this.getSelectionRange();if(L.start.row<L.end.row){var P=this.$getSelectedRows();E.indentRows(P.first,P.last,"	");return}else if(L.start.column<L.end.column){var I=E.getTextRange(L);if(!/^\s+$/.test(I)){var P=this.$getSelectedRows();E.indentRows(P.first,P.last,"	");return}}var D=E.getLine(L.start.row),W=L.start,z=E.getTabSize(),G=E.documentToScreenColumn(W.row,W.column);if(this.session.getUseSoftTabs())var Z=z-G%z,q=a.stringRepeat(" ",Z);else{for(var Z=G%z;D[L.start.column-1]==" "&&Z;)L.start.column--,Z--;this.selection.setSelectionRange(L),q="	"}return this.insert(q)},$.prototype.blockIndent=function(){var E=this.$getSelectedRows();this.session.indentRows(E.first,E.last,"	")},$.prototype.blockOutdent=function(){var E=this.session.getSelection();this.session.outdentRows(E.getRange())},$.prototype.sortLines=function(){for(var E=this.$getSelectedRows(),L=this.session,P=[],I=E.first;I<=E.last;I++)P.push(L.getLine(I));P.sort(function(z,G){return z.toLowerCase()<G.toLowerCase()?-1:z.toLowerCase()>G.toLowerCase()?1:0});for(var D=new m(0,0,0,0),I=E.first;I<=E.last;I++){var W=L.getLine(I);D.start.row=I,D.end.row=I,D.end.column=W.length,L.replace(D,P[I-E.first])}},$.prototype.toggleCommentLines=function(){var E=this.session.getState(this.getCursorPosition().row),L=this.$getSelectedRows();this.session.getMode().toggleCommentLines(E,this.session,L.first,L.last)},$.prototype.toggleBlockComment=function(){var E=this.getCursorPosition(),L=this.session.getState(E.row),P=this.getSelectionRange();this.session.getMode().toggleBlockComment(L,this.session,P,E)},$.prototype.getNumberAt=function(E,L){var P=/[\-]?[0-9]+(?:\.[0-9]+)?/g;P.lastIndex=0;for(var I=this.session.getLine(E);P.lastIndex<L;){var D=P.exec(I);if(D.index<=L&&D.index+D[0].length>=L){var W={value:D[0],start:D.index,end:D.index+D[0].length};return W}}return null},$.prototype.modifyNumber=function(E){var L=this.selection.getCursor().row,P=this.selection.getCursor().column,I=new m(L,P-1,L,P),D=this.session.getTextRange(I);if(!isNaN(parseFloat(D))&&isFinite(D)){var W=this.getNumberAt(L,P);if(W){var z=W.value.indexOf(".")>=0?W.start+W.value.indexOf(".")+1:W.end,G=W.start+W.value.length-z,Z=parseFloat(W.value);Z*=Math.pow(10,G),z!==W.end&&P<z?E*=Math.pow(10,W.end-P-1):E*=Math.pow(10,W.end-P),Z+=E,Z/=Math.pow(10,G);var q=Z.toFixed(G),X=new m(L,W.start,L,W.end);this.session.replace(X,q),this.moveCursorTo(L,Math.max(W.start+1,P+q.length-W.value.length))}}else this.toggleWord()},$.prototype.toggleWord=function(){var E=this.selection.getCursor().row,L=this.selection.getCursor().column;this.selection.selectWord();var P=this.getSelectedText(),I=this.selection.getWordRange().start.column,D=P.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),W=L-I-1;W<0&&(W=0);var z=0,G=0,Z=this;P.match(/[A-Za-z0-9_]+/)&&D.forEach(function(_e,Te){G=z+_e.length,W>=z&&W<=G&&(P=_e,Z.selection.clearSelection(),Z.moveCursorTo(E,z+I),Z.selection.selectTo(E,G+I)),z=G});for(var q=this.$toggleWordPairs,X,Y=0;Y<q.length;Y++)for(var ee=q[Y],re=0;re<=1;re++){var ie=+!re,ue=P.match(new RegExp("^\\s?_?("+a.escapeRegExp(ee[re])+")\\s?$","i"));if(ue){var he=P.match(new RegExp("([_]|^|\\s)("+a.escapeRegExp(ue[1])+")($|\\s)","g"));he&&(X=P.replace(new RegExp(a.escapeRegExp(ee[re]),"i"),function(_e){var Te=ee[ie];return _e.toUpperCase()==_e?Te=Te.toUpperCase():_e.charAt(0).toUpperCase()==_e.charAt(0)&&(Te=Te.substr(0,0)+ee[ie].charAt(0).toUpperCase()+Te.substr(1)),Te}),this.insert(X),X="")}}},$.prototype.findLinkAt=function(E,L){var P,I,D=this.session.getLine(E),W=D.split(/((?:https?|ftp):\/\/[\S]+)/),z=L;z<0&&(z=0);var G=0,Z=0,q;try{for(var X=o(W),Y=X.next();!Y.done;Y=X.next()){var ee=Y.value;if(Z=G+ee.length,z>=G&&z<=Z&&ee.match(/((?:https?|ftp):\/\/[\S]+)/)){q=ee.replace(/[\s:.,'";}\]]+$/,"");break}G=Z}}catch(re){P={error:re}}finally{try{Y&&!Y.done&&(I=X.return)&&I.call(X)}finally{if(P)throw P.error}}return q},$.prototype.openLink=function(){var E=this.selection.getCursor(),L=this.findLinkAt(E.row,E.column);return L&&window.open(L,"_blank"),L!=null},$.prototype.removeLines=function(){var E=this.$getSelectedRows();this.session.removeFullLines(E.first,E.last),this.clearSelection()},$.prototype.duplicateSelection=function(){var E=this.selection,L=this.session,P=E.getRange(),I=E.isBackwards();if(P.isEmpty()){var D=P.start.row;L.duplicateLines(D,D)}else{var W=I?P.start:P.end,z=L.insert(W,L.getTextRange(P));P.start=W,P.end=z,E.setSelectionRange(P,I)}},$.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},$.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},$.prototype.moveText=function(E,L,P){return this.session.moveText(E,L,P)},$.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},$.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},$.prototype.$moveLines=function(E,L){var P,I,D=this.selection;if(!D.inMultiSelectMode||this.inVirtualSelectionMode){var W=D.toOrientedRange();P=this.$getSelectedRows(W),I=this.session.$moveLines(P.first,P.last,L?0:E),L&&E==-1&&(I=0),W.moveBy(I,0),D.fromOrientedRange(W)}else{var z=D.rangeList.ranges;D.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var G=0,Z=0,q=z.length,X=0;X<q;X++){var Y=X;z[X].moveBy(G,0),P=this.$getSelectedRows(z[X]);for(var ee=P.first,re=P.last;++X<q;){Z&&z[X].moveBy(Z,0);var ie=this.$getSelectedRows(z[X]);if(L&&ie.first!=re)break;if(!L&&ie.first>re+1)break;re=ie.last}for(X--,G=this.session.$moveLines(ee,re,L?0:E),L&&E==-1&&(Y=X+1);Y<=X;)z[Y].moveBy(G,0),Y++;L||(G=0),Z+=G}D.fromOrientedRange(D.ranges[0]),D.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},$.prototype.$getSelectedRows=function(E){return E=(E||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(E.start.row),last:this.session.getRowFoldEnd(E.end.row)}},$.prototype.onCompositionStart=function(E){this.renderer.showComposition(E)},$.prototype.onCompositionUpdate=function(E){this.renderer.setCompositionText(E)},$.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},$.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},$.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},$.prototype.isRowVisible=function(E){return E>=this.getFirstVisibleRow()&&E<=this.getLastVisibleRow()},$.prototype.isRowFullyVisible=function(E){return E>=this.renderer.getFirstFullyVisibleRow()&&E<=this.renderer.getLastFullyVisibleRow()},$.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},$.prototype.$moveByPage=function(E,L){var P=this.renderer,I=this.renderer.layerConfig,D=E*Math.floor(I.height/I.lineHeight);L===!0?this.selection.$moveSelection(function(){this.moveCursorBy(D,0)}):L===!1&&(this.selection.moveCursorBy(D,0),this.selection.clearSelection());var W=P.scrollTop;P.scrollBy(0,D*I.lineHeight),L!=null&&P.scrollCursorIntoView(null,.5),P.animateScrolling(W)},$.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},$.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},$.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},$.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},$.prototype.scrollPageDown=function(){this.$moveByPage(1)},$.prototype.scrollPageUp=function(){this.$moveByPage(-1)},$.prototype.scrollToRow=function(E){this.renderer.scrollToRow(E)},$.prototype.scrollToLine=function(E,L,P,I){this.renderer.scrollToLine(E,L,P,I)},$.prototype.centerSelection=function(){var E=this.getSelectionRange(),L={row:Math.floor(E.start.row+(E.end.row-E.start.row)/2),column:Math.floor(E.start.column+(E.end.column-E.start.column)/2)};this.renderer.alignCursor(L,.5)},$.prototype.getCursorPosition=function(){return this.selection.getCursor()},$.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},$.prototype.getSelectionRange=function(){return this.selection.getRange()},$.prototype.selectAll=function(){this.selection.selectAll()},$.prototype.clearSelection=function(){this.selection.clearSelection()},$.prototype.moveCursorTo=function(E,L){this.selection.moveCursorTo(E,L)},$.prototype.moveCursorToPosition=function(E){this.selection.moveCursorToPosition(E)},$.prototype.jumpToMatching=function(E,L){var P=this.getCursorPosition(),I=new _(this.session,P.row,P.column),D=I.getCurrentToken(),W=0;D&&D.type.indexOf("tag-name")!==-1&&(D=I.stepBackward());var z=D||I.stepForward();if(z){var G,Z=!1,q={},X=P.column-z.start,Y,ee={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(z.value.match(/[{}()\[\]]/g)){for(;X<z.value.length&&!Z;X++)if(ee[z.value[X]])switch(Y=ee[z.value[X]]+"."+z.type.replace("rparen","lparen"),isNaN(q[Y])&&(q[Y]=0),z.value[X]){case"(":case"[":case"{":q[Y]++;break;case")":case"]":case"}":q[Y]--,q[Y]===-1&&(G="bracket",Z=!0);break}}else z.type.indexOf("tag-name")!==-1&&(isNaN(q[z.value])&&(q[z.value]=0),D.value==="<"&&W>1?q[z.value]++:D.value==="</"&&q[z.value]--,q[z.value]===-1&&(G="tag",Z=!0));Z||(D=z,W++,z=I.stepForward(),X=0)}while(z&&!Z);if(G){var re,ie;if(G==="bracket")re=this.session.getBracketRange(P),re||(re=new m(I.getCurrentTokenRow(),I.getCurrentTokenColumn()+X-1,I.getCurrentTokenRow(),I.getCurrentTokenColumn()+X-1),ie=re.start,(L||ie.row===P.row&&Math.abs(ie.column-P.column)<2)&&(re=this.session.getBracketRange(ie)));else if(G==="tag"){if(!z||z.type.indexOf("tag-name")===-1)return;if(re=new m(I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2,I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2),re.compare(P.row,P.column)===0){var ue=this.session.getMatchingTags(P);ue&&(ue.openTag.contains(P.row,P.column)?(re=ue.closeTag,ie=re.start):(re=ue.openTag,ue.closeTag.start.row===P.row&&ue.closeTag.start.column===P.column?ie=re.end:ie=re.start))}ie=ie||re.start}ie=re&&re.cursor||ie,ie&&(E?re&&L?this.selection.setRange(re):re&&re.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(ie.row,ie.column):this.selection.moveTo(ie.row,ie.column))}}},$.prototype.gotoLine=function(E,L,P){this.selection.clearSelection(),this.session.unfold({row:E-1,column:L||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(E-1,L||0),this.isRowFullyVisible(E-1)||this.scrollToLine(E-1,!0,P)},$.prototype.navigateTo=function(E,L){this.selection.moveTo(E,L)},$.prototype.navigateUp=function(E){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var L=this.selection.anchor.getPosition();return this.moveCursorToPosition(L)}this.selection.clearSelection(),this.selection.moveCursorBy(-E||-1,0)},$.prototype.navigateDown=function(E){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var L=this.selection.anchor.getPosition();return this.moveCursorToPosition(L)}this.selection.clearSelection(),this.selection.moveCursorBy(E||1,0)},$.prototype.navigateLeft=function(E){if(this.selection.isEmpty())for(E=E||1;E--;)this.selection.moveCursorLeft();else{var L=this.getSelectionRange().start;this.moveCursorToPosition(L)}this.clearSelection()},$.prototype.navigateRight=function(E){if(this.selection.isEmpty())for(E=E||1;E--;)this.selection.moveCursorRight();else{var L=this.getSelectionRange().end;this.moveCursorToPosition(L)}this.clearSelection()},$.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},$.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},$.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},$.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},$.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},$.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},$.prototype.replace=function(E,L){L&&this.$search.set(L);var P=this.$search.find(this.session),I=0;return P&&(this.$tryReplace(P,E)&&(I=1),this.selection.setSelectionRange(P),this.renderer.scrollSelectionIntoView(P.start,P.end)),I},$.prototype.replaceAll=function(E,L){L&&this.$search.set(L);var P=this.$search.findAll(this.session),I=0;if(!P.length)return I;var D=this.getSelectionRange();this.selection.moveTo(0,0);for(var W=P.length-1;W>=0;--W)this.$tryReplace(P[W],E)&&I++;return this.selection.setSelectionRange(D),I},$.prototype.$tryReplace=function(E,L){var P=this.session.getTextRange(E);return L=this.$search.replace(P,L),L!==null?(E.end=this.session.replace(E,L),E):null},$.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},$.prototype.find=function(E,L,P){L||(L={}),typeof E=="string"||E instanceof RegExp?L.needle=E:typeof E=="object"&&s.mixin(L,E);var I=this.selection.getRange();L.needle==null&&(E=this.session.getTextRange(I)||this.$search.$options.needle,E||(I=this.session.getWordRange(I.start.row,I.start.column),E=this.session.getTextRange(I)),this.$search.set({needle:E})),this.$search.set(L),L.start||this.$search.set({start:I});var D=this.$search.find(this.session);if(L.preventScroll)return D;if(D)return this.revealRange(D,P),D;L.backwards?I.start=I.end:I.end=I.start,this.selection.setRange(I)},$.prototype.findNext=function(E,L){this.find({skipCurrent:!0,backwards:!1},E,L)},$.prototype.findPrevious=function(E,L){this.find(E,{skipCurrent:!0,backwards:!0},L)},$.prototype.revealRange=function(E,L){this.session.unfold(E),this.selection.setSelectionRange(E);var P=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(E.start,E.end,.5),L!==!1&&this.renderer.animateScrolling(P)},$.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},$.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},$.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(E){E.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},$.prototype.setAutoScrollEditorIntoView=function(E){if(E){var L,P=this,I=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var D=this.$scrollAnchor;D.style.cssText="position:absolute",this.container.insertBefore(D,this.container.firstChild);var W=this.on("changeSelection",function(){I=!0}),z=this.renderer.on("beforeRender",function(){I&&(L=P.renderer.container.getBoundingClientRect())}),G=this.renderer.on("afterRender",function(){if(I&&L&&(P.isFocused()||P.searchBox&&P.searchBox.isFocused())){var Z=P.renderer,q=Z.$cursorLayer.$pixelPos,X=Z.layerConfig,Y=q.top-X.offset;q.top>=0&&Y+L.top<0?I=!0:q.top<X.height&&q.top+L.top+X.lineHeight>window.innerHeight?I=!1:I=null,I!=null&&(D.style.top=Y+"px",D.style.left=q.left+"px",D.style.height=X.lineHeight+"px",D.scrollIntoView(I)),I=L=null}});this.setAutoScrollEditorIntoView=function(Z){Z||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",W),this.renderer.off("afterRender",G),this.renderer.off("beforeRender",z))}}},$.prototype.$resetCursorStyle=function(){var E=this.$cursorStyle||"ace",L=this.renderer.$cursorLayer;L&&(L.setSmoothBlinking(/smooth/.test(E)),L.isBlinking=!this.$readOnly&&E!="wide",l.setCssClass(L.element,"ace_slim-cursors",/slim/.test(E)))},$.prototype.prompt=function(E,L,P){var I=this;x.loadModule("ace/ext/prompt",function(D){D.prompt(I,E,L,P)})},$}();R.$uid=0,R.prototype.curOp=null,R.prototype.prevOp={},R.prototype.$mergeableCommands=["backspace","del","insertstring"],R.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],s.implement(R.prototype,v),x.defineOptions(R.prototype,"editor",{selectionStyle:{set:function($){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:$})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function($){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function($){this.textInput.setReadOnly($),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function($){this.textInput.setCopyWithEmptySelection($)},initialValue:!1},cursorStyle:{set:function($){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function($){this.setAutoScrollEditorIntoView($)}},keyboardHandler:{set:function($){this.setKeyboardHandler($)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function($){this.session.setValue($)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function($){this.setSession($)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function($){this.renderer.$gutterLayer.setShowLineNumbers($),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),$&&this.$relativeLineNumbers?k.attach(this):k.detach(this)},initialValue:!0},relativeLineNumbers:{set:function($){this.$showLineNumbers&&$?k.attach(this):k.detach(this)}},placeholder:{set:function($){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var E=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(E&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),l.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!E&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),l.addCssClass(this.container,"ace_hasPlaceholder");var L=l.createElement("div");L.className="ace_placeholder",L.textContent=this.$placeholder||"",this.renderer.placeholderNode=L,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!E&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function($){var E={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(I){I.blur(),I.renderer.scroller.focus()},readOnly:!0},L=function(I){if(I.target==this.renderer.scroller&&I.keyCode===M.enter){I.preventDefault();var D=this.getCursorPosition().row;this.isRowVisible(D)||this.scrollToLine(D,!0,!0),this.focus()}},P;$?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(u.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",S("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",S("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",L.bind(this)),this.commands.addCommand(E),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",S("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",S("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),P||(P=new y(this)),P.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",L.bind(this)),this.commands.removeCommand(E),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),P&&P.removeListener())},initialValue:!1},textInputAriaLabel:{set:function($){this.$textInputAriaLabel=$},initialValue:""},enableMobileMenu:{set:function($){this.$enableMobileMenu=$},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var k={getText:function($,E){return(Math.abs($.selection.lead.row-E)||E+1+(E<9?"·":""))+""},getWidth:function($,E,L){return Math.max(E.toString().length,(L.lastRow+1).toString().length,2)*L.characterWidth},update:function($,E){E.renderer.$loop.schedule(E.renderer.CHANGE_GUTTER)},attach:function($){$.renderer.$gutterLayer.$renderer=this,$.on("changeSelection",this.update),this.update(null,$)},detach:function($){$.renderer.$gutterLayer.$renderer==this&&($.renderer.$gutterLayer.$renderer=null),$.off("changeSelection",this.update),this.update(null,$)}};r.Editor=R}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("../lib/dom"),s=function(){function l(a,u){this.element=a,this.canvasHeight=u||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return l.prototype.moveContainer=function(a){o.translate(this.element,0,-(a.firstRowScreen*a.lineHeight%this.canvasHeight)-a.offset*this.$offsetCoefficient)},l.prototype.pageChanged=function(a,u){return Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)!==Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)},l.prototype.computeLineTop=function(a,u,c){var h=u.firstRowScreen*u.lineHeight,f=Math.floor(h/this.canvasHeight),p=c.documentToScreenRow(a,0)*u.lineHeight;return p-f*this.canvasHeight},l.prototype.computeLineHeight=function(a,u,c){return u.lineHeight*c.getRowLineCount(a)},l.prototype.getLength=function(){return this.cells.length},l.prototype.get=function(a){return this.cells[a]},l.prototype.shift=function(){this.$cacheCell(this.cells.shift())},l.prototype.pop=function(){this.$cacheCell(this.cells.pop())},l.prototype.push=function(a){if(Array.isArray(a)){this.cells.push.apply(this.cells,a);for(var u=o.createFragment(this.element),c=0;c<a.length;c++)u.appendChild(a[c].element);this.element.appendChild(u)}else this.cells.push(a),this.element.appendChild(a.element)},l.prototype.unshift=function(a){if(Array.isArray(a)){this.cells.unshift.apply(this.cells,a);for(var u=o.createFragment(this.element),c=0;c<a.length;c++)u.appendChild(a[c].element);this.element.firstChild?this.element.insertBefore(u,this.element.firstChild):this.element.appendChild(u)}else this.cells.unshift(a),this.element.insertAdjacentElement("afterbegin",a.element)},l.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},l.prototype.$cacheCell=function(a){a&&(a.element.remove(),this.cellCache.push(a))},l.prototype.createCell=function(a,u,c,h){var f=this.cellCache.pop();if(!f){var p=o.createElement("div");h&&h(p),this.element.appendChild(p),f={element:p,text:"",row:a}}return f.row=a,f},l}();r.Lines=s}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/oop"),l=n("../lib/lang"),a=n("../lib/event_emitter").EventEmitter,u=n("./lines").Lines,c=n("../config").nls,h=function(){function p(d){this.element=o.createElement("div"),this.element.className="ace_layer ace_gutter-layer",d.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1}return p.prototype.setSession=function(d){this.session&&this.session.off("change",this.$updateAnnotations),this.session=d,d&&d.on("change",this.$updateAnnotations)},p.prototype.addGutterDecoration=function(d,g){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(d,g)},p.prototype.removeGutterDecoration=function(d,g){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(d,g)},p.prototype.setAnnotations=function(d){this.$annotations=[];for(var g=0;g<d.length;g++){var m=d[g],v=m.row,b=this.$annotations[v];b||(b=this.$annotations[v]={text:[],type:[],displayText:[]});var C=m.text,x=m.text,_=m.type;C=C?l.escapeHTML(C):m.html||"",x=x||m.html||"",b.text.indexOf(C)===-1&&(b.text.push(C),b.type.push(_),b.displayText.push(x));var w=m.className;w?b.className=w:_==="error"?b.className=" ace_error":_==="security"&&!/\bace_error\b/.test(b.className)?b.className=" ace_security":_==="warning"&&!/\bace_(error|security)\b/.test(b.className)?b.className=" ace_warning":_==="info"&&!b.className?b.className=" ace_info":_==="hint"&&!b.className&&(b.className=" ace_hint")}},p.prototype.$updateAnnotations=function(d){if(this.$annotations.length){var g=d.start.row,m=d.end.row-g;if(m!==0)if(d.action=="remove")this.$annotations.splice(g,m+1,null);else{var v=new Array(m+1);v.unshift(g,1),this.$annotations.splice.apply(this.$annotations,v)}}},p.prototype.update=function(d){this.config=d;var g=this.session,m=d.firstRow,v=Math.min(d.lastRow+d.gutterOffset,g.getLength()-1);this.oldLastRow=v,this.config=d,this.$lines.moveContainer(d),this.$updateCursorRow();for(var b=g.getNextFoldLine(m),C=b?b.start.row:1/0,x=null,_=-1,w=m;;){if(w>C&&(w=b.end.row+1,b=g.getNextFoldLine(w,b),C=b?b.start.row:1/0),w>v){for(;this.$lines.getLength()>_+1;)this.$lines.pop();break}x=this.$lines.get(++_),x?x.row=w:(x=this.$lines.createCell(w,d,this.session,f),this.$lines.push(x)),this.$renderCell(x,d,b,w),w++}this._signal("afterRender"),this.$updateGutterWidth(d)},p.prototype.$updateGutterWidth=function(d){var g=this.session,m=g.gutterRenderer||this.$renderer,v=g.$firstLineNumber,b=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||g.$useWrapMode)&&(b=g.getLength()+v-1);var C=m?m.getWidth(g,b,d):b.toString().length*d.characterWidth,x=this.$padding||this.$computePadding();C+=x.left+x.right,C!==this.gutterWidth&&!isNaN(C)&&(this.gutterWidth=C,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",C))},p.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var d=this.session.selection.getCursor();this.$cursorRow!==d.row&&(this.$cursorRow=d.row)}},p.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var d=this.session.selection.cursor.row;if(this.$cursorRow=d,!(this.$cursorCell&&this.$cursorCell.row==d)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var g=this.$lines.cells;this.$cursorCell=null;for(var m=0;m<g.length;m++){var v=g[m];if(v.row>=this.$cursorRow){if(v.row>this.$cursorRow){var b=this.session.getFoldLine(this.$cursorRow);if(m>0&&b&&b.start.row==g[m-1].row)v=g[m-1];else break}v.element.className="ace_gutter-active-line "+v.element.className,this.$cursorCell=v;break}}}}},p.prototype.scrollLines=function(d){var g=this.config;if(this.config=d,this.$updateCursorRow(),this.$lines.pageChanged(g,d))return this.update(d);this.$lines.moveContainer(d);var m=Math.min(d.lastRow+d.gutterOffset,this.session.getLength()-1),v=this.oldLastRow;if(this.oldLastRow=m,!g||v<d.firstRow)return this.update(d);if(m<g.firstRow)return this.update(d);if(g.firstRow<d.firstRow)for(var b=this.session.getFoldedRowCount(g.firstRow,d.firstRow-1);b>0;b--)this.$lines.shift();if(v>m)for(var b=this.session.getFoldedRowCount(m+1,v);b>0;b--)this.$lines.pop();d.firstRow<g.firstRow&&this.$lines.unshift(this.$renderLines(d,d.firstRow,g.firstRow-1)),m>v&&this.$lines.push(this.$renderLines(d,v+1,m)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(d)},p.prototype.$renderLines=function(d,g,m){for(var v=[],b=g,C=this.session.getNextFoldLine(b),x=C?C.start.row:1/0;b>x&&(b=C.end.row+1,C=this.session.getNextFoldLine(b,C),x=C?C.start.row:1/0),!(b>m);){var _=this.$lines.createCell(b,d,this.session,f);this.$renderCell(_,d,C,b),v.push(_),b++}return v},p.prototype.$renderCell=function(d,g,m,v){var b=d.element,C=this.session,x=b.childNodes[0],_=b.childNodes[1],w=b.childNodes[2],y=w.firstChild,S=C.$firstLineNumber,A=C.$breakpoints,M=C.$decorations,R=C.gutterRenderer||this.$renderer,k=this.$showFoldWidgets&&C.foldWidgets,$=m?m.start.row:Number.MAX_VALUE,E=g.lineHeight+"px",L=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",P=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",I=(R?R.getText(C,v):v+S).toString();if(this.$highlightGutterLine&&(v==this.$cursorRow||m&&v<this.$cursorRow&&v>=$&&this.$cursorRow<=m.end.row)&&(L+="ace_gutter-active-line ",this.$cursorCell!=d&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=d)),A[v]&&(L+=A[v]),M[v]&&(L+=M[v]),this.$annotations[v]&&v!==$&&(L+=this.$annotations[v].className),k){var D=k[v];D==null&&(D=k[v]=C.getFoldWidget(v))}if(D){var W="ace_fold-widget ace_"+D,z=D=="start"&&v==$&&v<m.end.row;if(z){W+=" ace_closed";for(var G="",Z=!1,q=v+1;q<=m.end.row;q++)if(this.$annotations[q]){if(this.$annotations[q].className===" ace_error"){Z=!0,G=" ace_error_fold";break}this.$annotations[q].className===" ace_security"?(Z=!0,G=" ace_security_fold"):this.$annotations[q].className===" ace_warning"&&G!==" ace_security_fold"&&(Z=!0,G=" ace_warning_fold")}L+=G}else W+=" ace_open";_.className!=W&&(_.className=W),o.setStyle(_.style,"height",E),o.setStyle(_.style,"display","inline-block"),_.setAttribute("role","button"),_.setAttribute("tabindex","-1");var X=C.getFoldWidgetRange(v);X?_.setAttribute("aria-label",c("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[X.start.row+1,X.end.row+1])):m?_.setAttribute("aria-label",c("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[m.start.row+1,m.end.row+1])):_.setAttribute("aria-label",c("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[v+1])),z?(_.setAttribute("aria-expanded","false"),_.setAttribute("title",c("gutter.code-folding.closed.title","Unfold code"))):(_.setAttribute("aria-expanded","true"),_.setAttribute("title",c("gutter.code-folding.open.title","Fold code")))}else _&&(o.setStyle(_.style,"display","none"),_.setAttribute("tabindex","0"),_.removeAttribute("role"),_.removeAttribute("aria-label"));if(Z&&this.$showFoldedAnnotations){w.className="ace_gutter_annotation",y.className=P,y.className+=G,o.setStyle(y.style,"height",E),o.setStyle(w.style,"display","block"),o.setStyle(w.style,"height",E);var Y;switch(G){case" ace_error_fold":Y=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[I]);break;case" ace_security_fold":Y=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[I]);break;case" ace_warning_fold":Y=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[I]);break}w.setAttribute("aria-label",Y),w.setAttribute("tabindex","-1"),w.setAttribute("role","button")}else if(this.$annotations[v]){w.className="ace_gutter_annotation",y.className=P,this.$useSvgGutterIcons?y.className+=this.$annotations[v].className:b.classList.add(this.$annotations[v].className.replace(" ","")),o.setStyle(y.style,"height",E),o.setStyle(w.style,"display","block"),o.setStyle(w.style,"height",E);var Y;switch(this.$annotations[v].className){case" ace_error":Y=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[I]);break;case" ace_security":Y=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[I]);break;case" ace_warning":Y=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[I]);break;case" ace_info":Y=c("gutter.annotation.aria-label.info","Info, read annotations row $0",[I]);break;case" ace_hint":Y=c("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[I]);break}w.setAttribute("aria-label",Y),w.setAttribute("tabindex","-1"),w.setAttribute("role","button")}else o.setStyle(w.style,"display","none"),w.removeAttribute("aria-label"),w.removeAttribute("role"),w.setAttribute("tabindex","0");return I!==x.data&&(x.data=I),b.className!=L&&(b.className=L),o.setStyle(d.element.style,"height",this.$lines.computeLineHeight(v,g,C)+"px"),o.setStyle(d.element.style,"top",this.$lines.computeLineTop(v,g,C)+"px"),d.text=I,w.style.display==="none"&&_.style.display==="none"?d.element.setAttribute("aria-hidden",!0):d.element.setAttribute("aria-hidden",!1),d},p.prototype.setHighlightGutterLine=function(d){this.$highlightGutterLine=d},p.prototype.setShowLineNumbers=function(d){this.$renderer=!d&&{getWidth:function(){return 0},getText:function(){return""}}},p.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},p.prototype.setShowFoldWidgets=function(d){d?o.addCssClass(this.element,"ace_folding-enabled"):o.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=d,this.$padding=null},p.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},p.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var d=o.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(d.borderLeftWidth)||0)+(parseInt(d.paddingLeft)||0)+1,this.$padding.right=(parseInt(d.borderRightWidth)||0)+(parseInt(d.paddingRight)||0),this.$padding},p.prototype.getRegion=function(d){var g=this.$padding||this.$computePadding(),m=this.element.getBoundingClientRect();if(d.x<g.left+m.left)return"markers";if(this.$showFoldWidgets&&d.x>m.right-g.right)return"foldWidgets"},p}();h.prototype.$fixedWidth=!1,h.prototype.$highlightGutterLine=!0,h.prototype.$renderer="",h.prototype.$showLineNumbers=!0,h.prototype.$showFoldWidgets=!0,s.implement(h.prototype,a);function f(p){var d=document.createTextNode("");p.appendChild(d);var g=o.createElement("span");p.appendChild(g);var m=o.createElement("span");p.appendChild(m);var v=o.createElement("span");return m.appendChild(v),p}r.Gutter=h}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,r,i){var o=n("../range").Range,s=n("../lib/dom"),l=function(){function u(c){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",c.appendChild(this.element)}return u.prototype.setPadding=function(c){this.$padding=c},u.prototype.setSession=function(c){this.session=c},u.prototype.setMarkers=function(c){this.markers=c},u.prototype.elt=function(c,h){var f=this.i!=-1&&this.element.childNodes[this.i];f?this.i++:(f=document.createElement("div"),this.element.appendChild(f),this.i=-1),f.style.cssText=h,f.className=c},u.prototype.update=function(c){if(c){this.config=c,this.i=0;var h;for(var f in this.markers){var p=this.markers[f];if(!p.range){p.update(h,this,this.session,c);continue}var d=p.range.clipRows(c.firstRow,c.lastRow);if(!d.isEmpty())if(d=d.toScreenRange(this.session),p.renderer){var g=this.$getTop(d.start.row,c),m=this.$padding+d.start.column*c.characterWidth;p.renderer(h,d,m,g,c)}else p.type=="fullLine"?this.drawFullLineMarker(h,d,p.clazz,c):p.type=="screenLine"?this.drawScreenLineMarker(h,d,p.clazz,c):d.isMultiLine()?p.type=="text"?this.drawTextMarker(h,d,p.clazz,c):this.drawMultiLineMarker(h,d,p.clazz,c):this.drawSingleLineMarker(h,d,p.clazz+" ace_start ace_br15",c)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},u.prototype.$getTop=function(c,h){return(c-h.firstRowScreen)*h.lineHeight},u.prototype.drawTextMarker=function(c,h,f,p,d){for(var g=this.session,m=h.start.row,v=h.end.row,b=m,C=0,x=0,_=g.getScreenLastRowColumn(b),w=new o(b,h.start.column,b,x);b<=v;b++)w.start.row=w.end.row=b,w.start.column=b==m?h.start.column:g.getRowWrapIndent(b),w.end.column=_,C=x,x=_,_=b+1<v?g.getScreenLastRowColumn(b+1):b==v?0:h.end.column,this.drawSingleLineMarker(c,w,f+(b==m?" ace_start":"")+" ace_br"+a(b==m||b==m+1&&h.start.column,C<x,x>_,b==v),p,b==v?0:1,d)},u.prototype.drawMultiLineMarker=function(c,h,f,p,d){var g=this.$padding,m=p.lineHeight,v=this.$getTop(h.start.row,p),b=g+h.start.column*p.characterWidth;if(d=d||"",this.session.$bidiHandler.isBidiRow(h.start.row)){var C=h.clone();C.end.row=C.start.row,C.end.column=this.session.getLine(C.start.row).length,this.drawBidiSingleLineMarker(c,C,f+" ace_br1 ace_start",p,null,d)}else this.elt(f+" ace_br1 ace_start","height:"+m+"px;right:"+g+"px;top:"+v+"px;left:"+b+"px;"+(d||""));if(this.session.$bidiHandler.isBidiRow(h.end.row)){var C=h.clone();C.start.row=C.end.row,C.start.column=0,this.drawBidiSingleLineMarker(c,C,f+" ace_br12",p,null,d)}else{v=this.$getTop(h.end.row,p);var x=h.end.column*p.characterWidth;this.elt(f+" ace_br12","height:"+m+"px;width:"+x+"px;top:"+v+"px;left:"+g+"px;"+(d||""))}if(m=(h.end.row-h.start.row-1)*p.lineHeight,!(m<=0)){v=this.$getTop(h.start.row+1,p);var _=(h.start.column?1:0)|(h.end.column?0:8);this.elt(f+(_?" ace_br"+_:""),"height:"+m+"px;right:"+g+"px;top:"+v+"px;left:"+g+"px;"+(d||""))}},u.prototype.drawSingleLineMarker=function(c,h,f,p,d,g){if(this.session.$bidiHandler.isBidiRow(h.start.row))return this.drawBidiSingleLineMarker(c,h,f,p,d,g);var m=p.lineHeight,v=(h.end.column+(d||0)-h.start.column)*p.characterWidth,b=this.$getTop(h.start.row,p),C=this.$padding+h.start.column*p.characterWidth;this.elt(f,"height:"+m+"px;width:"+v+"px;top:"+b+"px;left:"+C+"px;"+(g||""))},u.prototype.drawBidiSingleLineMarker=function(c,h,f,p,d,g){var m=p.lineHeight,v=this.$getTop(h.start.row,p),b=this.$padding,C=this.session.$bidiHandler.getSelections(h.start.column,h.end.column);C.forEach(function(x){this.elt(f,"height:"+m+"px;width:"+(x.width+(d||0))+"px;top:"+v+"px;left:"+(b+x.left)+"px;"+(g||""))},this)},u.prototype.drawFullLineMarker=function(c,h,f,p,d){var g=this.$getTop(h.start.row,p),m=p.lineHeight;h.start.row!=h.end.row&&(m+=this.$getTop(h.end.row,p)-g),this.elt(f,"height:"+m+"px;top:"+g+"px;left:0;right:0;"+(d||""))},u.prototype.drawScreenLineMarker=function(c,h,f,p,d){var g=this.$getTop(h.start.row,p),m=p.lineHeight;this.elt(f,"height:"+m+"px;top:"+g+"px;left:0;right:0;"+(d||""))},u}();l.prototype.$padding=0;function a(u,c,h,f){return(u?1:0)|(c?2:0)|(h?4:0)|(f?8:0)}r.Marker=l}),ace.define("ace/layer/text_util",["require","exports","module"],function(n,r,i){var o=new Set(["text","rparen","lparen"]);r.isTextToken=function(s){return o.has(s)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/dom"),l=n("../lib/lang"),a=n("./lines").Lines,u=n("../lib/event_emitter").EventEmitter,c=n("../config").nls,h=n("./text_util").isTextToken,f=function(){function p(d){this.dom=s,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",d.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)}return p.prototype.$updateEolChar=function(){var d=this.session.doc,g=d.getNewLineCharacter()==`
`&&d.getNewLineMode()!="windows",m=g?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=m)return this.EOL_CHAR=m,!0},p.prototype.setPadding=function(d){this.$padding=d,this.element.style.margin="0 "+d+"px"},p.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},p.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},p.prototype.$setFontMetrics=function(d){this.$fontMetrics=d,this.$fontMetrics.on("changeCharacterSize",(function(g){this._signal("changeCharacterSize",g)}).bind(this)),this.$pollSizeChanges()},p.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},p.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},p.prototype.setSession=function(d){this.session=d,d&&this.$computeTabString()},p.prototype.setShowInvisibles=function(d){return this.showInvisibles==d?!1:(this.showInvisibles=d,typeof d=="string"?(this.showSpaces=/tab/i.test(d),this.showTabs=/space/i.test(d),this.showEOL=/eol/i.test(d)):this.showSpaces=this.showTabs=this.showEOL=d,this.$computeTabString(),!0)},p.prototype.setDisplayIndentGuides=function(d){return this.displayIndentGuides==d?!1:(this.displayIndentGuides=d,this.$computeTabString(),!0)},p.prototype.setHighlightIndentGuides=function(d){return this.$highlightIndentGuides===d?!1:(this.$highlightIndentGuides=d,d)},p.prototype.$computeTabString=function(){var d=this.session.getTabSize();this.tabSize=d;for(var g=this.$tabStrings=[0],m=1;m<d+1;m++)if(this.showTabs){var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_tab",v.textContent=l.stringRepeat(this.TAB_CHAR,m),g.push(v)}else g.push(this.dom.createTextNode(l.stringRepeat(" ",m),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var b="ace_indent-guide",C=this.showSpaces?" ace_invisible ace_invisible_space":"",x=this.showSpaces?l.stringRepeat(this.SPACE_CHAR,this.tabSize):l.stringRepeat(" ",this.tabSize),_=this.showTabs?" ace_invisible ace_invisible_tab":"",w=this.showTabs?l.stringRepeat(this.TAB_CHAR,this.tabSize):x,v=this.dom.createElement("span");v.className=b+C,v.textContent=x,this.$tabStrings[" "]=v;var v=this.dom.createElement("span");v.className=b+_,v.textContent=w,this.$tabStrings["	"]=v}},p.prototype.updateLines=function(d,g,m){if(this.config.lastRow!=d.lastRow||this.config.firstRow!=d.firstRow)return this.update(d);this.config=d;for(var v=Math.max(g,d.firstRow),b=Math.min(m,d.lastRow),C=this.element.childNodes,x=0,w=d.firstRow;w<v;w++){var y=this.session.getFoldLine(w);if(y)if(y.containsRow(v)){v=y.start.row;break}else w=y.end.row;x++}for(var _=!1,w=v,y=this.session.getNextFoldLine(w),S=y?y.start.row:1/0;w>S&&(w=y.end.row+1,y=this.session.getNextFoldLine(w,y),S=y?y.start.row:1/0),!(w>b);){var A=C[x++];if(A){this.dom.removeChildren(A),this.$renderLine(A,w,w==S?y:!1),_&&(A.style.top=this.$lines.computeLineTop(w,d,this.session)+"px");var M=d.lineHeight*this.session.getRowLength(w)+"px";A.style.height!=M&&(_=!0,A.style.height=M)}w++}if(_)for(;x<this.$lines.cells.length;){var R=this.$lines.cells[x++];R.element.style.top=this.$lines.computeLineTop(R.row,d,this.session)+"px"}},p.prototype.scrollLines=function(d){var g=this.config;if(this.config=d,this.$lines.pageChanged(g,d))return this.update(d);this.$lines.moveContainer(d);var m=d.lastRow,v=g?g.lastRow:-1;if(!g||v<d.firstRow)return this.update(d);if(m<g.firstRow)return this.update(d);if(!g||g.lastRow<d.firstRow)return this.update(d);if(d.lastRow<g.firstRow)return this.update(d);if(g.firstRow<d.firstRow)for(var b=this.session.getFoldedRowCount(g.firstRow,d.firstRow-1);b>0;b--)this.$lines.shift();if(g.lastRow>d.lastRow)for(var b=this.session.getFoldedRowCount(d.lastRow+1,g.lastRow);b>0;b--)this.$lines.pop();d.firstRow<g.firstRow&&this.$lines.unshift(this.$renderLinesFragment(d,d.firstRow,g.firstRow-1)),d.lastRow>g.lastRow&&this.$lines.push(this.$renderLinesFragment(d,g.lastRow+1,d.lastRow)),this.$highlightIndentGuide()},p.prototype.$renderLinesFragment=function(d,g,m){for(var v=[],b=g,C=this.session.getNextFoldLine(b),x=C?C.start.row:1/0;b>x&&(b=C.end.row+1,C=this.session.getNextFoldLine(b,C),x=C?C.start.row:1/0),!(b>m);){var _=this.$lines.createCell(b,d,this.session),w=_.element;this.dom.removeChildren(w),s.setStyle(w.style,"height",this.$lines.computeLineHeight(b,d,this.session)+"px"),s.setStyle(w.style,"top",this.$lines.computeLineTop(b,d,this.session)+"px"),this.$renderLine(w,b,b==x?C:!1),this.$useLineGroups()?w.className="ace_line_group":w.className="ace_line",v.push(_),b++}return v},p.prototype.update=function(d){this.$lines.moveContainer(d),this.config=d;for(var g=d.firstRow,m=d.lastRow,v=this.$lines;v.getLength();)v.pop();v.push(this.$renderLinesFragment(d,g,m))},p.prototype.$renderToken=function(d,g,m,v){for(var b=this,C=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,x=this.dom.createFragment(this.element),_,w=0;_=C.exec(v);){var y=_[1],S=_[2],A=_[3],M=_[4],R=_[5];if(!(!b.showSpaces&&S)){var k=w!=_.index?v.slice(w,_.index):"";if(w=_.index+_[0].length,k&&x.appendChild(this.dom.createTextNode(k,this.element)),y){var $=b.session.getScreenTabSize(g+_.index);x.appendChild(b.$tabStrings[$].cloneNode(!0)),g+=$-1}else if(S)if(b.showSpaces){var E=this.dom.createElement("span");E.className="ace_invisible ace_invisible_space",E.textContent=l.stringRepeat(b.SPACE_CHAR,S.length),x.appendChild(E)}else x.appendChild(this.dom.createTextNode(S,this.element));else if(A){var E=this.dom.createElement("span");E.className="ace_invisible ace_invisible_space ace_invalid",E.textContent=l.stringRepeat(b.SPACE_CHAR,A.length),x.appendChild(E)}else if(M){g+=1;var E=this.dom.createElement("span");E.style.width=b.config.characterWidth*2+"px",E.className=b.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",E.textContent=b.showSpaces?b.SPACE_CHAR:M,x.appendChild(E)}else if(R){g+=1;var E=this.dom.createElement("span");E.style.width=b.config.characterWidth*2+"px",E.className="ace_cjk",E.textContent=R,x.appendChild(E)}}}if(x.appendChild(this.dom.createTextNode(w?v.slice(w):v,this.element)),h(m.type))d.appendChild(x);else{var L="ace_"+m.type.replace(/\./g," ace_"),E=this.dom.createElement("span");m.type=="fold"&&(E.style.width=m.value.length*this.config.characterWidth+"px",E.setAttribute("title",c("inline-fold.closed.title","Unfold code"))),E.className=L,E.appendChild(x),d.appendChild(E)}return g+v.length},p.prototype.renderIndentGuide=function(d,g,m){var v=g.search(this.$indentGuideRe);if(v<=0||v>=m)return g;if(g[0]==" "){v-=v%this.tabSize;for(var b=v/this.tabSize,C=0;C<b;C++)d.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),g.substr(v)}else if(g[0]=="	"){for(var C=0;C<v;C++)d.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),g.substr(v)}return this.$highlightIndentGuide(),g},p.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var d=this.session.doc.$lines;if(d){var g=this.session.selection.getCursor(),m=/^\s*/.exec(this.session.doc.getLine(g.row))[0].length,v=Math.floor(m/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:v,start:g.row};var b=this.session.$bracketHighlight;if(b){for(var C=this.session.$bracketHighlight.ranges,x=0;x<C.length;x++)if(g.row!==C[x].start.row){this.$highlightIndentGuideMarker.end=C[x].start.row,g.row>C[x].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&d[g.row]!==""&&g.column===d[g.row].length){this.$highlightIndentGuideMarker.dir=1;for(var x=g.row+1;x<d.length;x++){var _=d[x],w=/^\s*/.exec(_)[0].length;if(_!==""&&(this.$highlightIndentGuideMarker.end=x,w<=m))break}}this.$renderHighlightIndentGuide()}}},p.prototype.$clearActiveIndentGuide=function(){for(var d=this.$lines.cells,g=0;g<d.length;g++){var m=d[g],v=m.element.childNodes;if(v.length>0){for(var b=0;b<v.length;b++)if(v[b].classList&&v[b].classList.contains("ace_indent-guide-active")){v[b].classList.remove("ace_indent-guide-active");break}}}},p.prototype.$setIndentGuideActive=function(d,g){var m=this.session.doc.getLine(d.row);if(m!==""){var v=d.element.childNodes;if(v){var b=v[g-1];b&&b.classList&&b.classList.contains("ace_indent-guide")&&b.classList.add("ace_indent-guide-active")}}},p.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var d=this.$lines.cells;this.$clearActiveIndentGuide();var g=this.$highlightIndentGuideMarker.indentLevel;if(g!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var m=0;m<d.length;m++){var v=d[m];if(this.$highlightIndentGuideMarker.end&&v.row>=this.$highlightIndentGuideMarker.start+1){if(v.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,g)}}else for(var m=d.length-1;m>=0;m--){var v=d[m];if(this.$highlightIndentGuideMarker.end&&v.row<this.$highlightIndentGuideMarker.start){if(v.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,g)}}}},p.prototype.$createLineElement=function(d){var g=this.dom.createElement("div");return g.className="ace_line",g.style.height=this.config.lineHeight+"px",g},p.prototype.$renderWrappedLine=function(d,g,m){var v=0,b=0,C=m[0],x=0,_=this.$createLineElement();d.appendChild(_);for(var w=0;w<g.length;w++){var y=g[w],S=y.value;if(w==0&&this.displayIndentGuides){if(v=S.length,S=this.renderIndentGuide(_,S,C),!S)continue;v-=S.length}if(v+S.length<C)x=this.$renderToken(_,x,y,S),v+=S.length;else{for(;v+S.length>=C;)x=this.$renderToken(_,x,y,S.substring(0,C-v)),S=S.substring(C-v),v=C,_=this.$createLineElement(),d.appendChild(_),_.appendChild(this.dom.createTextNode(l.stringRepeat(" ",m.indent),this.element)),b++,x=0,C=m[b]||Number.MAX_VALUE;S.length!=0&&(v+=S.length,x=this.$renderToken(_,x,y,S))}}m[m.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(_,x,null,"",!0)},p.prototype.$renderSimpleLine=function(d,g){for(var m=0,v=0;v<g.length;v++){var b=g[v],C=b.value;if(!(v==0&&this.displayIndentGuides&&(C=this.renderIndentGuide(d,C),!C))){if(m+C.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(d,m,b,C);m=this.$renderToken(d,m,b,C)}}},p.prototype.$renderOverflowMessage=function(d,g,m,v,b){m&&this.$renderToken(d,g,m,v.slice(0,this.MAX_LINE_LENGTH-g));var C=this.dom.createElement("span");C.className="ace_inline_button ace_keyword ace_toggle_wrap",C.textContent=b?"<hide>":"<click to see more...>",d.appendChild(C)},p.prototype.$renderLine=function(d,g,m){if(!m&&m!=!1&&(m=this.session.getFoldLine(g)),m)var v=this.$getFoldLineTokens(g,m);else var v=this.session.getTokens(g);var b=d;if(v.length){var C=this.session.getRowSplitData(g);if(C&&C.length){this.$renderWrappedLine(d,v,C);var b=d.lastChild}else{var b=d;this.$useLineGroups()&&(b=this.$createLineElement(),d.appendChild(b)),this.$renderSimpleLine(b,v)}}else this.$useLineGroups()&&(b=this.$createLineElement(),d.appendChild(b));if(this.showEOL&&b){m&&(g=m.end.row);var x=this.dom.createElement("span");x.className="ace_invisible ace_invisible_eol",x.textContent=g==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,b.appendChild(x)}},p.prototype.$getFoldLineTokens=function(d,g){var m=this.session,v=[];function b(x,_,w){for(var y=0,S=0;S+x[y].value.length<_;)if(S+=x[y].value.length,y++,y==x.length)return;if(S!=_){var A=x[y].value.substring(_-S);A.length>w-_&&(A=A.substring(0,w-_)),v.push({type:x[y].type,value:A}),S=_+A.length,y+=1}for(;S<w&&y<x.length;){var A=x[y].value;A.length+S>w?v.push({type:x[y].type,value:A.substring(0,w-S)}):v.push(x[y]),S+=A.length,y+=1}}var C=m.getTokens(d);return g.walk(function(x,_,w,y,S){x!=null?v.push({type:"fold",value:x}):(S&&(C=m.getTokens(_)),C.length&&b(C,y,w))},g.end.row,this.session.getLine(g.end.row).length),v},p.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},p}();f.prototype.EOF_CHAR="¶",f.prototype.EOL_CHAR_LF="¬",f.prototype.EOL_CHAR_CRLF="¤",f.prototype.EOL_CHAR=f.prototype.EOL_CHAR_LF,f.prototype.TAB_CHAR="—",f.prototype.SPACE_CHAR="·",f.prototype.$padding=0,f.prototype.MAX_LINE_LENGTH=1e4,f.prototype.showInvisibles=!1,f.prototype.showSpaces=!1,f.prototype.showTabs=!1,f.prototype.showEOL=!1,f.prototype.displayIndentGuides=!0,f.prototype.$highlightIndentGuides=!0,f.prototype.$tabStrings=[],f.prototype.destroy={},f.prototype.onChangeTabSize=f.prototype.$computeTabString,o.implement(f.prototype,u),r.Text=f}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,r,i){var o=n("../lib/dom"),s=function(){function l(a){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return l.prototype.$updateOpacity=function(a){for(var u=this.cursors,c=u.length;c--;)o.setStyle(u[c].style,"opacity",a?"":"0")},l.prototype.$startCssAnimation=function(){for(var a=this.cursors,u=a.length;u--;)a[u].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&o.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},l.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,o.removeCssClass(this.element,"ace_animate-blinking")},l.prototype.setPadding=function(a){this.$padding=a},l.prototype.setSession=function(a){this.session=a},l.prototype.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())},l.prototype.setBlinkInterval=function(a){a!=this.blinkInterval&&(this.blinkInterval=a,this.restartTimer())},l.prototype.setSmoothBlinking=function(a){a!=this.smoothBlinking&&(this.smoothBlinking=a,o.setCssClass(this.element,"ace_smooth-blinking",a),this.$updateCursors(!0),this.restartTimer())},l.prototype.addCursor=function(){var a=o.createElement("div");return a.className="ace_cursor",this.element.appendChild(a),this.cursors.push(a),a},l.prototype.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},l.prototype.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},l.prototype.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},l.prototype.restartTimer=function(){var a=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,o.removeCssClass(this.element,"ace_smooth-blinking")),a(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&o.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),o.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var u=(function(){this.timeoutId=setTimeout(function(){a(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){a(!0),u()},this.blinkInterval),u()}},l.prototype.getPixelPosition=function(a,u){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(a),h=this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,a.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),f=(c.row-(u?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:h,top:f}},l.prototype.isCursorInView=function(a,u){return a.top>=0&&a.top<u.maxHeight},l.prototype.update=function(a){this.config=a;var u=this.session.$selectionMarkers,c=0,h=0;(u===void 0||u.length===0)&&(u=[{cursor:null}]);for(var c=0,f=u.length;c<f;c++){var p=this.getPixelPosition(u[c].cursor,!0);if(!((p.top>a.height+a.offset||p.top<0)&&c>1)){var d=this.cursors[h++]||this.addCursor(),g=d.style;this.drawCursor?this.drawCursor(d,p,a,u[c],this.session):this.isCursorInView(p,a)?(o.setStyle(g,"display","block"),o.translate(d,p.left,p.top),o.setStyle(g,"width",Math.round(a.characterWidth)+"px"),o.setStyle(g,"height",a.lineHeight+"px")):o.setStyle(g,"display","none")}}for(;this.cursors.length>h;)this.removeCursor();var m=this.session.getOverwrite();this.$setOverwrite(m),this.$pixelPos=p,this.restartTimer()},l.prototype.$setOverwrite=function(a){a!=this.overwrite&&(this.overwrite=a,a?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},l.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},l}();s.prototype.$padding=0,s.prototype.drawCursor=null,r.Cursor=s}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var o=this&&this.__extends||function(){var d=function(g,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(v[C]=b[C])},d(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");d(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),s=n("./lib/oop"),l=n("./lib/dom"),a=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter,c=32768,h=function(){function d(g,m){this.element=l.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+m,this.inner=l.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),g.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addListener(this.element,"scroll",this.onScroll.bind(this)),a.addListener(this.element,"mousedown",a.preventDefault)}return d.prototype.setVisible=function(g){this.element.style.display=g?"":"none",this.isVisible=g,this.coeff=1},d}();s.implement(h.prototype,u);var f=function(d){o(g,d);function g(m,v){var b=d.call(this,m,"-v")||this;return b.scrollTop=0,b.scrollHeight=0,v.$scrollbarWidth=b.width=l.scrollbarWidth(m.ownerDocument),b.inner.style.width=b.element.style.width=(b.width||15)+5+"px",b.$minWidth=0,b}return g.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var m=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-m)/(this.coeff-m)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},g.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},g.prototype.setHeight=function(m){this.element.style.height=m+"px"},g.prototype.setScrollHeight=function(m){this.scrollHeight=m,m>c?(this.coeff=c/m,m=c):this.coeff!=1&&(this.coeff=1),this.inner.style.height=m+"px"},g.prototype.setScrollTop=function(m){this.scrollTop!=m&&(this.skipEvent=!0,this.scrollTop=m,this.element.scrollTop=m*this.coeff)},g}(h);f.prototype.setInnerHeight=f.prototype.setScrollHeight;var p=function(d){o(g,d);function g(m,v){var b=d.call(this,m,"-h")||this;return b.scrollLeft=0,b.height=v.$scrollbarWidth,b.inner.style.height=b.element.style.height=(b.height||15)+5+"px",b}return g.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},g.prototype.getHeight=function(){return this.isVisible?this.height:0},g.prototype.setWidth=function(m){this.element.style.width=m+"px"},g.prototype.setInnerWidth=function(m){this.inner.style.width=m+"px"},g.prototype.setScrollWidth=function(m){this.inner.style.width=m+"px"},g.prototype.setScrollLeft=function(m){this.scrollLeft!=m&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=m)},g}(h);r.ScrollBar=f,r.ScrollBarV=f,r.ScrollBarH=p,r.VScrollBar=f,r.HScrollBar=p}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var o=this&&this.__extends||function(){var p=function(d,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])},p(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(d,g);function m(){this.constructor=d}d.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),s=n("./lib/oop"),l=n("./lib/dom"),a=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter;l.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var c=function(){function p(d,g){this.element=l.createElement("div"),this.element.className="ace_sb"+g,this.inner=l.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,d.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return p.prototype.setVisible=function(d){this.element.style.display=d?"":"none",this.isVisible=d,this.coeff=1},p}();s.implement(c.prototype,u);var h=function(p){o(d,p);function d(g,m){var v=p.call(this,g,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,v.parent=g,v.width=v.VScrollWidth,v.renderer=m,v.inner.style.width=v.element.style.width=(v.width||15)+"px",v.$minWidth=0,v}return d.prototype.onMouseDown=function(g,m){if(g==="mousedown"&&!(a.getButton(m)!==0||m.detail===2)){if(m.target===this.inner){var v=this,b=m.clientY,C=function(M){b=M.clientY},x=function(){clearInterval(S)},_=m.clientY,w=this.thumbTop,y=function(){if(b!==void 0){var M=v.scrollTopFromThumbTop(w+b-_);M!==v.scrollTop&&v._emit("scroll",{data:M})}};a.capture(this.inner,C,x);var S=setInterval(y,20);return a.preventDefault(m)}var A=m.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(A)}),a.preventDefault(m)}},d.prototype.getHeight=function(){return this.height},d.prototype.scrollTopFromThumbTop=function(g){var m=g*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return m=m>>0,m<0?m=0:m>this.pageHeight-this.viewHeight&&(m=this.pageHeight-this.viewHeight),m},d.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},d.prototype.setHeight=function(g){this.height=Math.max(0,g),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},d.prototype.setScrollHeight=function(g,m){this.pageHeight===g&&!m||(this.pageHeight=g,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},d.prototype.setScrollTop=function(g){this.scrollTop=g,g<0&&(g=0),this.thumbTop=g*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},d}(c);h.prototype.setInnerHeight=h.prototype.setScrollHeight;var f=function(p){o(d,p);function d(g,m){var v=p.call(this,g,"-h")||this;return v.scrollLeft=0,v.scrollWidth=0,v.height=v.HScrollHeight,v.inner.style.height=v.element.style.height=(v.height||12)+"px",v.renderer=m,v}return d.prototype.onMouseDown=function(g,m){if(g==="mousedown"&&!(a.getButton(m)!==0||m.detail===2)){if(m.target===this.inner){var v=this,b=m.clientX,C=function(M){b=M.clientX},x=function(){clearInterval(S)},_=m.clientX,w=this.thumbLeft,y=function(){if(b!==void 0){var M=v.scrollLeftFromThumbLeft(w+b-_);M!==v.scrollLeft&&v._emit("scroll",{data:M})}};a.capture(this.inner,C,x);var S=setInterval(y,20);return a.preventDefault(m)}var A=m.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(A)}),a.preventDefault(m)}},d.prototype.getHeight=function(){return this.isVisible?this.height:0},d.prototype.scrollLeftFromThumbLeft=function(g){var m=g*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return m=m>>0,m<0?m=0:m>this.pageWidth-this.viewWidth&&(m=this.pageWidth-this.viewWidth),m},d.prototype.setWidth=function(g){this.width=Math.max(0,g),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},d.prototype.setScrollWidth=function(g,m){this.pageWidth===g&&!m||(this.pageWidth=g,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},d.prototype.setScrollLeft=function(g){this.scrollLeft=g,g<0&&(g=0),this.thumbLeft=g*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},d}(c);f.prototype.setInnerWidth=f.prototype.setScrollWidth,r.ScrollBar=h,r.ScrollBarV=h,r.ScrollBarH=f,r.VScrollBar=h,r.HScrollBar=f}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,r,i){var o=n("./lib/event"),s=function(){function l(a,u){this.onRender=a,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=u||window;var c=this;this._flush=function(h){c.pending=!1;var f=c.changes;if(f&&(o.blockIdle(100),c.changes=0,c.onRender(f)),c.changes){if(c.$recursionLimit--<0)return;c.schedule()}else c.$recursionLimit=2}}return l.prototype.schedule=function(a){this.changes=this.changes|a,this.changes&&!this.pending&&(o.nextFrame(this._flush),this.pending=!0)},l.prototype.clear=function(a){var u=this.changes;return this.changes=0,u},l}();r.RenderLoop=s}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/dom"),l=n("../lib/lang"),a=n("../lib/event"),u=n("../lib/useragent"),c=n("../lib/event_emitter").EventEmitter,h=512,f=typeof ResizeObserver=="function",p=200,d=function(){function g(m){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),m.appendChild(this.el),this.$measureNode.textContent=l.stringRepeat("X",h),this.$characterSize={width:0,height:0},f?this.$addObserver():this.checkForSizeChanges()}return g.prototype.$setMeasureNodeStyles=function(m,v){m.width=m.height="auto",m.left=m.top="0px",m.visibility="hidden",m.position="absolute",m.whiteSpace="pre",u.isIE<8?m["font-family"]="inherit":m.font="inherit",m.overflow=v?"hidden":"visible"},g.prototype.checkForSizeChanges=function(m){if(m===void 0&&(m=this.$measureSizes()),m&&(this.$characterSize.width!==m.width||this.$characterSize.height!==m.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=m,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===m.width&&v.height===m.height,this._emit("changeCharacterSize",{data:m})}},g.prototype.$addObserver=function(){var m=this;this.$observer=new window.ResizeObserver(function(v){m.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},g.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var m=this;return this.$pollSizeChangesTimer=a.onIdle(function v(){m.checkForSizeChanges(),a.onIdle(v,500)},500)},g.prototype.setPolling=function(m){m?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},g.prototype.$measureSizes=function(m){var v={height:(m||this.$measureNode).clientHeight,width:(m||this.$measureNode).clientWidth/h};return v.width===0||v.height===0?null:v},g.prototype.$measureCharWidth=function(m){this.$main.textContent=l.stringRepeat(m,h);var v=this.$main.getBoundingClientRect();return v.width/h},g.prototype.getCharacterWidth=function(m){var v=this.charSizes[m];return v===void 0&&(v=this.charSizes[m]=this.$measureCharWidth(m)/this.$characterSize.width),v},g.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},g.prototype.$getZoom=function(m){return!m||!m.parentElement?1:(Number(window.getComputedStyle(m).zoom)||1)*this.$getZoom(m.parentElement)},g.prototype.$initTransformMeasureNodes=function(){var m=function(v,b){return["div",{style:"position: absolute;top:"+v+"px;left:"+b+"px;"}]};this.els=s.buildDom([m(0,0),m(p,0),m(0,p),m(p,p)],this.el)},g.prototype.transformCoordinates=function(m,v){if(m){var b=this.$getZoom(this.el);m=w(1/b,m)}function C(z,G,Z){var q=z[1]*G[0]-z[0]*G[1];return[(-G[1]*Z[0]+G[0]*Z[1])/q,(+z[1]*Z[0]-z[0]*Z[1])/q]}function x(z,G){return[z[0]-G[0],z[1]-G[1]]}function _(z,G){return[z[0]+G[0],z[1]+G[1]]}function w(z,G){return[z*G[0],z*G[1]]}this.els||this.$initTransformMeasureNodes();function y(z){var G=z.getBoundingClientRect();return[G.left,G.top]}var S=y(this.els[0]),A=y(this.els[1]),M=y(this.els[2]),R=y(this.els[3]),k=C(x(R,A),x(R,M),x(_(A,M),_(R,S))),$=w(1+k[0],x(A,S)),E=w(1+k[1],x(M,S));if(v){var L=v,P=k[0]*L[0]/p+k[1]*L[1]/p+1,I=_(w(L[0],$),w(L[1],E));return _(w(1/P/p,I),S)}var D=x(m,S),W=C(x($,w(k[0],D)),x(E,w(k[1],D)),D);return w(p,W)},g}();d.prototype.$characterSize={width:0,height:0},o.implement(d.prototype,c),r.FontMetrics=d}),ace.define("ace/css/editor-css",["require","exports","module"],function(n,r,i){i.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/oop"),l=n("../lib/event_emitter").EventEmitter,a=function(){function u(c,h){this.canvas=o.createElement("canvas"),this.renderer=h,this.pixelRatio=1,this.maxHeight=h.layerConfig.maxHeight,this.lineHeight=h.layerConfig.lineHeight,this.canvasHeight=c.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=c.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},c.element.appendChild(this.canvas)}return u.prototype.$updateDecorators=function(c){var h=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(c){this.maxHeight=c.maxHeight,this.lineHeight=c.lineHeight,this.canvasHeight=c.height;var f=(c.lastRow+1)*this.lineHeight;f<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var p=this.canvas.getContext("2d");function d(R,k){return R.priority<k.priority?-1:R.priority>k.priority?1:0}var g=this.renderer.session.$annotations;if(p.clearRect(0,0,this.canvas.width,this.canvas.height),g){var m={info:1,warning:2,error:3};g.forEach(function(R){R.priority=m[R.type]||null}),g=g.sort(d);for(var v=this.renderer.session.$foldData,b=0;b<g.length;b++){var C=g[b].row,x=this.compensateFoldRows(C,v),_=Math.round((C-x)*this.lineHeight*this.heightRatio),w=Math.round((C-x)*this.lineHeight*this.heightRatio),y=Math.round(((C-x)*this.lineHeight+this.lineHeight)*this.heightRatio),S=y-w;if(S<this.minDecorationHeight){var A=(w+y)/2|0;A<this.halfMinDecorationHeight?A=this.halfMinDecorationHeight:A+this.halfMinDecorationHeight>this.canvasHeight&&(A=this.canvasHeight-this.halfMinDecorationHeight),w=Math.round(A-this.halfMinDecorationHeight),y=Math.round(A+this.halfMinDecorationHeight)}p.fillStyle=h[g[b].type]||null,p.fillRect(0,_,this.canvasWidth,y-w)}}var M=this.renderer.session.selection.getCursor();if(M){var x=this.compensateFoldRows(M.row,v),_=Math.round((M.row-x)*this.lineHeight*this.heightRatio);p.fillStyle="rgba(0, 0, 0, 0.5)",p.fillRect(0,_,this.canvasWidth,2)}},u.prototype.compensateFoldRows=function(c,h){var f=0;if(h&&h.length>0)for(var p=0;p<h.length;p++)c>h[p].start.row&&c<h[p].end.row?f+=c-h[p].start.row:c>=h[p].end.row&&(f+=h[p].end.row-h[p].start.row);return f},u}();s.implement(a.prototype,l),r.Decorator=a}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(n,r,i){var o=n("./lib/oop"),s=n("./lib/dom"),l=n("./lib/lang"),a=n("./config"),u=n("./layer/gutter").Gutter,c=n("./layer/marker").Marker,h=n("./layer/text").Text,f=n("./layer/cursor").Cursor,p=n("./scrollbar").HScrollBar,d=n("./scrollbar").VScrollBar,g=n("./scrollbar_custom").HScrollBar,m=n("./scrollbar_custom").VScrollBar,v=n("./renderloop").RenderLoop,b=n("./layer/font_metrics").FontMetrics,C=n("./lib/event_emitter").EventEmitter,x=n("./css/editor-css"),_=n("./layer/decorators").Decorator,w=n("./lib/useragent"),y=n("./layer/text_util").isTextToken;s.importCssString(x,"ace_editor.css",!1);var S=function(){function A(M,R){var k=this;this.container=M||s.createElement("div"),s.addCssClass(this.container,"ace_editor"),s.HI_DPI&&s.addCssClass(this.container,"ace_hidpi"),this.setTheme(R),a.get("useStrictCSP")==null&&a.set("useStrictCSP",!1),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var $=this.$textLayer=new h(this.content);this.canvas=$.element,this.$markerFront=new c(this.content),this.$cursorLayer=new f(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.on("scroll",function(E){k.$scrollAnimation||k.session.setScrollTop(E.data-k.scrollMargin.top)}),this.scrollBarH.on("scroll",function(E){k.$scrollAnimation||k.session.setScrollLeft(E.data-k.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new b(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(E){k.updateCharacterSize(),k.onResize(!0,k.gutterWidth,k.$size.width,k.$size.height),k._signal("changeCharacterSize",E)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!w.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),a.resetOptions(this),a._signal("renderer",this)}return A.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),s.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},A.prototype.setSession=function(M){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=M,M&&this.scrollMargin.top&&M.getScrollTop()<=0&&M.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(M),this.$markerBack.setSession(M),this.$markerFront.setSession(M),this.$gutterLayer.setSession(M),this.$textLayer.setSession(M),M&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},A.prototype.updateLines=function(M,R,k){if(R===void 0&&(R=1/0),this.$changedLines?(this.$changedLines.firstRow>M&&(this.$changedLines.firstRow=M),this.$changedLines.lastRow<R&&(this.$changedLines.lastRow=R)):this.$changedLines={firstRow:M,lastRow:R},this.$changedLines.lastRow<this.layerConfig.firstRow)if(k)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},A.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},A.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},A.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},A.prototype.updateFull=function(M){M?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},A.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},A.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},A.prototype.onResize=function(M,R,k,$){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=M?1:0;var E=this.container;$||($=E.clientHeight||E.scrollHeight),!$&&this.$maxLines&&this.lineHeight>1&&(!E.style.height||E.style.height=="0px")&&(E.style.height="1px",$=E.clientHeight||E.scrollHeight),k||(k=E.clientWidth||E.scrollWidth);var L=this.$updateCachedSize(M,R,k,$);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!k&&!$)return this.resizing=0;M&&(this.$gutterLayer.$padding=null),M?this.$renderChanges(L|this.$changes,!0):this.$loop.schedule(L|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},A.prototype.$updateCachedSize=function(M,R,k,$){$-=this.$extraHeight||0;var E=0,L=this.$size,P={width:L.width,height:L.height,scrollerHeight:L.scrollerHeight,scrollerWidth:L.scrollerWidth};if($&&(M||L.height!=$)&&(L.height=$,E|=this.CHANGE_SIZE,L.scrollerHeight=L.height,this.$horizScroll&&(L.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(L.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",E=E|this.CHANGE_SCROLL),k&&(M||L.width!=k)){E|=this.CHANGE_SIZE,L.width=k,R==null&&(R=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=R,s.setStyle(this.scrollBarH.element.style,"left",R+"px"),s.setStyle(this.scroller.style,"left",R+this.margin.left+"px"),L.scrollerWidth=Math.max(0,k-R-this.scrollBarV.getWidth()-this.margin.h),s.setStyle(this.$gutter.style,"left",this.margin.left+"px");var I=this.scrollBarV.getWidth()+"px";s.setStyle(this.scrollBarH.element.style,"right",I),s.setStyle(this.scroller.style,"right",I),s.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(L.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||M)&&(E|=this.CHANGE_FULL)}return L.$dirty=!k||!$,E&&this._signal("resize",P),E},A.prototype.onGutterResize=function(M){var R=this.$showGutter?M:0;R!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,R,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},A.prototype.adjustWrapLimit=function(){var M=this.$size.scrollerWidth-this.$padding*2,R=Math.floor(M/this.characterWidth);return this.session.adjustWrapLimit(R,this.$showPrintMargin&&this.$printMarginColumn)},A.prototype.setAnimatedScroll=function(M){this.setOption("animatedScroll",M)},A.prototype.getAnimatedScroll=function(){return this.$animatedScroll},A.prototype.setShowInvisibles=function(M){this.setOption("showInvisibles",M),this.session.$bidiHandler.setShowInvisibles(M)},A.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},A.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},A.prototype.setDisplayIndentGuides=function(M){this.setOption("displayIndentGuides",M)},A.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},A.prototype.setHighlightIndentGuides=function(M){this.setOption("highlightIndentGuides",M)},A.prototype.setShowPrintMargin=function(M){this.setOption("showPrintMargin",M)},A.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},A.prototype.setPrintMarginColumn=function(M){this.setOption("printMarginColumn",M)},A.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},A.prototype.getShowGutter=function(){return this.getOption("showGutter")},A.prototype.setShowGutter=function(M){return this.setOption("showGutter",M)},A.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},A.prototype.setFadeFoldWidgets=function(M){this.setOption("fadeFoldWidgets",M)},A.prototype.setHighlightGutterLine=function(M){this.setOption("highlightGutterLine",M)},A.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},A.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var M=s.createElement("div");M.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",M.appendChild(this.$printMarginEl),this.content.insertBefore(M,this.content.firstChild)}var R=this.$printMarginEl.style;R.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",R.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},A.prototype.getContainerElement=function(){return this.container},A.prototype.getMouseEventTarget=function(){return this.scroller},A.prototype.getTextAreaContainer=function(){return this.container},A.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var M=this.textarea.style,R=this.$composition;if(!this.$keepTextAreaAtCursor&&!R){s.translate(this.textarea,-100,0);return}var k=this.$cursorLayer.$pixelPos;if(k){R&&R.markerRange&&(k=this.$cursorLayer.getPixelPosition(R.markerRange.start,!0));var $=this.layerConfig,E=k.top,L=k.left;E-=$.offset;var P=R&&R.useTextareaForIME||w.isMobile?this.lineHeight:1;if(E<0||E>$.height-P){s.translate(this.textarea,0,0);return}var I=1,D=this.$size.height-P;if(!R)E+=this.lineHeight;else if(R.useTextareaForIME){var W=this.textarea.value;I=this.characterWidth*this.session.$getStringScreenWidth(W)[0]}else E+=this.lineHeight+2;L-=this.scrollLeft,L>this.$size.scrollerWidth-I&&(L=this.$size.scrollerWidth-I),L+=this.gutterWidth+this.margin.left,s.setStyle(M,"height",P+"px"),s.setStyle(M,"width",I+"px"),s.translate(this.textarea,Math.min(L,this.$size.scrollerWidth-I),Math.min(E,D))}}},A.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},A.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},A.prototype.getLastFullyVisibleRow=function(){var M=this.layerConfig,R=M.lastRow,k=this.session.documentToScreenRow(R,0)*M.lineHeight;return k-this.session.getScrollTop()>M.height-M.lineHeight?R-1:R},A.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},A.prototype.setPadding=function(M){this.$padding=M,this.$textLayer.setPadding(M),this.$cursorLayer.setPadding(M),this.$markerFront.setPadding(M),this.$markerBack.setPadding(M),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},A.prototype.setScrollMargin=function(M,R,k,$){var E=this.scrollMargin;E.top=M|0,E.bottom=R|0,E.right=$|0,E.left=k|0,E.v=E.top+E.bottom,E.h=E.left+E.right,E.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-E.top),this.updateFull()},A.prototype.setMargin=function(M,R,k,$){var E=this.margin;E.top=M|0,E.bottom=R|0,E.right=$|0,E.left=k|0,E.v=E.top+E.bottom,E.h=E.left+E.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},A.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},A.prototype.setHScrollBarAlwaysVisible=function(M){this.setOption("hScrollBarAlwaysVisible",M)},A.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},A.prototype.setVScrollBarAlwaysVisible=function(M){this.setOption("vScrollBarAlwaysVisible",M)},A.prototype.$updateScrollBarV=function(){var M=this.layerConfig.maxHeight,R=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(M-=(R-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>M-R&&(M=this.scrollTop+R,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(M+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},A.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},A.prototype.freeze=function(){this.$frozen=!0},A.prototype.unfreeze=function(){this.$frozen=!1},A.prototype.$renderChanges=function(M,R){if(this.$changes&&(M|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!M&&!R){this.$changes|=M;return}if(this.$size.$dirty)return this.$changes|=M,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",M),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var k=this.layerConfig;if(M&this.CHANGE_FULL||M&this.CHANGE_SIZE||M&this.CHANGE_TEXT||M&this.CHANGE_LINES||M&this.CHANGE_SCROLL||M&this.CHANGE_H_SCROLL){if(M|=this.$computeLayerConfig()|this.$loop.clear(),k.firstRow!=this.layerConfig.firstRow&&k.firstRowScreen==this.layerConfig.firstRowScreen){var $=this.scrollTop+(k.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;$>0&&(this.scrollTop=$,M=M|this.CHANGE_SCROLL,M|=this.$computeLayerConfig()|this.$loop.clear())}k=this.layerConfig,this.$updateScrollBarV(),M&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),s.translate(this.content,-this.scrollLeft,-k.offset);var E=k.width+2*this.$padding+"px",L=k.minHeight+"px";s.setStyle(this.content.style,"width",E),s.setStyle(this.content.style,"height",L)}if(M&this.CHANGE_H_SCROLL&&(s.translate(this.content,-this.scrollLeft,-k.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),M&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),this._signal("afterRender",M);return}if(M&this.CHANGE_SCROLL){this.$changedLines=null,M&this.CHANGE_TEXT||M&this.CHANGE_LINES?this.$textLayer.update(k):this.$textLayer.scrollLines(k),this.$showGutter&&(M&this.CHANGE_GUTTER||M&this.CHANGE_LINES?this.$gutterLayer.update(k):this.$gutterLayer.scrollLines(k)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),this._signal("afterRender",M);return}M&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):M&this.CHANGE_LINES?((this.$updateLines()||M&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):M&this.CHANGE_TEXT||M&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):M&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)),M&this.CHANGE_CURSOR&&(this.$cursorLayer.update(k),this.$moveTextAreaToCursor()),M&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(k),M&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(k),this._signal("afterRender",M)},A.prototype.$autosize=function(){var M=this.session.getScreenLength()*this.lineHeight,R=this.$maxLines*this.lineHeight,k=Math.min(R,Math.max((this.$minLines||1)*this.lineHeight,M))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(k+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&k>this.$maxPixelHeight&&(k=this.$maxPixelHeight);var $=k<=2*this.lineHeight,E=!$&&M>R;if(k!=this.desiredHeight||this.$size.height!=this.desiredHeight||E!=this.$vScroll){E!=this.$vScroll&&(this.$vScroll=E,this.scrollBarV.setVisible(E));var L=this.container.clientWidth;this.container.style.height=k+"px",this.$updateCachedSize(!0,this.$gutterWidth,L,k),this.desiredHeight=k,this._signal("autosize")}},A.prototype.$computeLayerConfig=function(){var M=this.session,R=this.$size,k=R.height<=2*this.lineHeight,$=this.session.getScreenLength(),E=$*this.lineHeight,L=this.$getLongestLine(),P=!k&&(this.$hScrollBarAlwaysVisible||R.scrollerWidth-L-2*this.$padding<0),I=this.$horizScroll!==P;I&&(this.$horizScroll=P,this.scrollBarH.setVisible(P));var D=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var W=R.scrollerHeight+this.lineHeight,z=!this.$maxLines&&this.$scrollPastEnd?(R.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;E+=z;var G=this.scrollMargin;this.session.setScrollTop(Math.max(-G.top,Math.min(this.scrollTop,E-R.scrollerHeight+G.bottom))),this.session.setScrollLeft(Math.max(-G.left,Math.min(this.scrollLeft,L+2*this.$padding-R.scrollerWidth+G.right)));var Z=!k&&(this.$vScrollBarAlwaysVisible||R.scrollerHeight-E+z<0||this.scrollTop>G.top),q=D!==Z;q&&(this.$vScroll=Z,this.scrollBarV.setVisible(Z));var X=this.scrollTop%this.lineHeight,Y=Math.ceil(W/this.lineHeight)-1,ee=Math.max(0,Math.round((this.scrollTop-X)/this.lineHeight)),re=ee+Y,ie,ue,he=this.lineHeight;ee=M.screenToDocumentRow(ee,0);var _e=M.getFoldLine(ee);_e&&(ee=_e.start.row),ie=M.documentToScreenRow(ee,0),ue=M.getRowLength(ee)*he,re=Math.min(M.screenToDocumentRow(re,0),M.getLength()-1),W=R.scrollerHeight+M.getRowLength(re)*he+ue,X=this.scrollTop-ie*he;var Te=0;return(this.layerConfig.width!=L||I)&&(Te=this.CHANGE_H_SCROLL),(I||q)&&(Te|=this.$updateCachedSize(!0,this.gutterWidth,R.width,R.height),this._signal("scrollbarVisibilityChanged"),q&&(L=this.$getLongestLine())),this.layerConfig={width:L,padding:this.$padding,firstRow:ee,firstRowScreen:ie,lastRow:re,lineHeight:he,characterWidth:this.characterWidth,minHeight:W,maxHeight:E,offset:X,gutterOffset:he?Math.max(0,Math.ceil((X+R.height-R.scrollerHeight)/he)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(L-this.$padding),Te},A.prototype.$updateLines=function(){if(this.$changedLines){var M=this.$changedLines.firstRow,R=this.$changedLines.lastRow;this.$changedLines=null;var k=this.layerConfig;if(!(M>k.lastRow+1)&&!(R<k.firstRow)){if(R===1/0){this.$showGutter&&this.$gutterLayer.update(k),this.$textLayer.update(k);return}return this.$textLayer.updateLines(k,M,R),!0}}},A.prototype.$getLongestLine=function(){var M=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(M+=1),this.$textLayer&&M>this.$textLayer.MAX_LINE_LENGTH&&(M=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(M*this.characterWidth))},A.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},A.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},A.prototype.addGutterDecoration=function(M,R){this.$gutterLayer.addGutterDecoration(M,R)},A.prototype.removeGutterDecoration=function(M,R){this.$gutterLayer.removeGutterDecoration(M,R)},A.prototype.updateBreakpoints=function(M){this._rows=M,this.$loop.schedule(this.CHANGE_GUTTER)},A.prototype.setAnnotations=function(M){this.$gutterLayer.setAnnotations(M),this.$loop.schedule(this.CHANGE_GUTTER)},A.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},A.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},A.prototype.showCursor=function(){this.$cursorLayer.showCursor()},A.prototype.scrollSelectionIntoView=function(M,R,k){this.scrollCursorIntoView(M,k),this.scrollCursorIntoView(R,k)},A.prototype.scrollCursorIntoView=function(M,R,k){if(this.$size.scrollerHeight!==0){var $=this.$cursorLayer.getPixelPosition(M),E=$.left,L=$.top,P=k&&k.top||0,I=k&&k.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var D=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;D+P>L?(R&&D+P>L+this.lineHeight&&(L-=R*this.$size.scrollerHeight),L===0&&(L=-this.scrollMargin.top),this.session.setScrollTop(L)):D+this.$size.scrollerHeight-I<L+this.lineHeight&&(R&&D+this.$size.scrollerHeight-I<L-this.lineHeight&&(L+=R*this.$size.scrollerHeight),this.session.setScrollTop(L+this.lineHeight+I-this.$size.scrollerHeight));var W=this.scrollLeft,z=2*this.layerConfig.characterWidth;E-z<W?(E-=z,E<this.$padding+z&&(E=-this.scrollMargin.left),this.session.setScrollLeft(E)):(E+=z,W+this.$size.scrollerWidth<E+this.characterWidth?this.session.setScrollLeft(Math.round(E+this.characterWidth-this.$size.scrollerWidth)):W<=this.$padding&&E-W<this.characterWidth&&this.session.setScrollLeft(0))}},A.prototype.getScrollTop=function(){return this.session.getScrollTop()},A.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},A.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},A.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},A.prototype.scrollToRow=function(M){this.session.setScrollTop(M*this.lineHeight)},A.prototype.alignCursor=function(M,R){typeof M=="number"&&(M={row:M,column:0});var k=this.$cursorLayer.getPixelPosition(M),$=this.$size.scrollerHeight-this.lineHeight,E=k.top-$*(R||0);return this.session.setScrollTop(E),E},A.prototype.$calcSteps=function(M,R){var k=0,$=this.STEPS,E=[],L=function(P,I,D){return D*(Math.pow(P-1,3)+1)+I};for(k=0;k<$;++k)E.push(L(k/this.STEPS,M,R-M));return E},A.prototype.scrollToLine=function(M,R,k,$){var E=this.$cursorLayer.getPixelPosition({row:M,column:0}),L=E.top;R&&(L-=this.$size.scrollerHeight/2);var P=this.scrollTop;this.session.setScrollTop(L),k!==!1&&this.animateScrolling(P,$)},A.prototype.animateScrolling=function(M,R){var k=this.scrollTop;if(!this.$animatedScroll)return;var $=this;if(M==k)return;if(this.$scrollAnimation){var E=this.$scrollAnimation.steps;if(E.length&&(M=E[0],M==k))return}var L=$.$calcSteps(M,k);this.$scrollAnimation={from:M,to:k,steps:L},clearInterval(this.$timer),$.session.setScrollTop(L.shift()),$.session.$scrollTop=k;function P(){$.$timer=clearInterval($.$timer),$.$scrollAnimation=null,$.$stopAnimation=!1,R&&R()}this.$timer=setInterval(function(){if($.$stopAnimation){P();return}if(!$.session)return clearInterval($.$timer);L.length?($.session.setScrollTop(L.shift()),$.session.$scrollTop=k):k!=null?($.session.$scrollTop=-1,$.session.setScrollTop(k),k=null):P()},10)},A.prototype.scrollToY=function(M){this.scrollTop!==M&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=M)},A.prototype.scrollToX=function(M){this.scrollLeft!==M&&(this.scrollLeft=M),this.$loop.schedule(this.CHANGE_H_SCROLL)},A.prototype.scrollTo=function(M,R){this.session.setScrollTop(R),this.session.setScrollLeft(M)},A.prototype.scrollBy=function(M,R){R&&this.session.setScrollTop(this.session.getScrollTop()+R),M&&this.session.setScrollLeft(this.session.getScrollLeft()+M)},A.prototype.isScrollableBy=function(M,R){if(R<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||R>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||M<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||M>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},A.prototype.pixelToScreenCoordinates=function(M,R){var k;if(this.$hasCssTransforms){k={top:0,left:0};var $=this.$fontMetrics.transformCoordinates([M,R]);M=$[1]-this.gutterWidth-this.margin.left,R=$[0]}else k=this.scroller.getBoundingClientRect();var E=M+this.scrollLeft-k.left-this.$padding,L=E/this.characterWidth,P=Math.floor((R+this.scrollTop-k.top)/this.lineHeight),I=this.$blockCursor?Math.floor(L):Math.round(L);return{row:P,column:I,side:L-I>0?1:-1,offsetX:E}},A.prototype.screenToTextCoordinates=function(M,R){var k;if(this.$hasCssTransforms){k={top:0,left:0};var $=this.$fontMetrics.transformCoordinates([M,R]);M=$[1]-this.gutterWidth-this.margin.left,R=$[0]}else k=this.scroller.getBoundingClientRect();var E=M+this.scrollLeft-k.left-this.$padding,L=E/this.characterWidth,P=this.$blockCursor?Math.floor(L):Math.round(L),I=Math.floor((R+this.scrollTop-k.top)/this.lineHeight);return this.session.screenToDocumentPosition(I,Math.max(P,0),E)},A.prototype.textToScreenCoordinates=function(M,R){var k=this.scroller.getBoundingClientRect(),$=this.session.documentToScreenPosition(M,R),E=this.$padding+(this.session.$bidiHandler.isBidiRow($.row,M)?this.session.$bidiHandler.getPosLeft($.column):Math.round($.column*this.characterWidth)),L=$.row*this.lineHeight;return{pageX:k.left+E-this.scrollLeft,pageY:k.top+L-this.scrollTop}},A.prototype.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},A.prototype.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},A.prototype.showComposition=function(M){this.$composition=M,M.cssText||(M.cssText=this.textarea.style.cssText),M.useTextareaForIME==null&&(M.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):M.markerId=this.session.addMarker(M.markerRange,"ace_composition_marker","text")},A.prototype.setCompositionText=function(M){var R=this.session.selection.cursor;this.addToken(M,"composition_placeholder",R.row,R.column),this.$moveTextAreaToCursor()},A.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),s.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var M=this.session.selection.cursor;this.removeExtraToken(M.row,M.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},A.prototype.setGhostText=function(M,R){var k=this.session.selection.cursor,$=R||{row:k.row,column:k.column};this.removeGhostText();var E=this.$calculateWrappedTextChunks(M,$);this.addToken(E[0].text,"ghost_text",$.row,$.column),this.$ghostText={text:M,position:{row:$.row,column:$.column}};var L=s.createElement("div");if(E.length>1){var P=this.hideTokensAfterPosition($.row,$.column),I;E.slice(1).forEach(function(q){var X=s.createElement("div"),Y=s.createElement("span");Y.className="ace_ghost_text",q.wrapped&&(X.className="ghost_text_line_wrapped"),q.text.length===0&&(q.text=" "),Y.appendChild(s.createTextNode(q.text)),X.appendChild(Y),L.appendChild(X),I=X}),P.forEach(function(q){var X=s.createElement("span");y(q.type)||(X.className="ace_"+q.type.replace(/\./g," ace_")),X.appendChild(s.createTextNode(q.value)),I.appendChild(X)}),this.$ghostTextWidget={el:L,row:$.row,column:$.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var D=this.$cursorLayer.getPixelPosition($,!0),W=this.container,z=W.getBoundingClientRect().height,G=E.length*this.lineHeight,Z=G<z-D.top;if(Z)return;G<z?this.scrollBy(0,(E.length-1)*this.lineHeight):this.scrollToRow($.row)}},A.prototype.$calculateWrappedTextChunks=function(M,R){var k=this.$size.scrollerWidth-this.$padding*2,$=Math.floor(k/this.characterWidth)-2;$=$<=0?60:$;for(var E=M.split(/\r?\n/),L=[],P=0;P<E.length;P++){var I=this.session.$getDisplayTokens(E[P],R.column),D=this.session.$computeWrapSplits(I,$,this.session.$tabSize);if(D.length>0){var W=0;D.push(E[P].length);for(var z=0;z<D.length;z++){var G=E[P].slice(W,D[z]);L.push({text:G,wrapped:!0}),W=D[z]}}else L.push({text:E[P],wrapped:!1})}return L},A.prototype.removeGhostText=function(){if(this.$ghostText){var M=this.$ghostText.position;this.removeExtraToken(M.row,M.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},A.prototype.addToken=function(M,R,k,$){var E=this.session;E.bgTokenizer.lines[k]=null;var L={type:R,value:M},P=E.getTokens(k);if($==null||!P.length)P.push(L);else for(var I=0,D=0;D<P.length;D++){var W=P[D];if(I+=W.value.length,$<=I){var z=W.value.length-(I-$),G=W.value.slice(0,z),Z=W.value.slice(z);P.splice(D,1,{type:W.type,value:G},L,{type:W.type,value:Z});break}}this.updateLines(k,k)},A.prototype.hideTokensAfterPosition=function(M,R){for(var k=this.session.getTokens(M),$=0,E=!1,L=[],P=0;P<k.length;P++){var I=k[P];if($+=I.value.length,I.type!=="ghost_text"){if(E){L.push({type:I.type,value:I.value}),I.type="hidden_token";continue}$===R&&(E=!0)}}return this.updateLines(M,M),L},A.prototype.removeExtraToken=function(M,R){this.session.bgTokenizer.lines[M]=null,this.updateLines(M,M)},A.prototype.setTheme=function(M,R){var k=this;if(this.$themeId=M,k._dispatchEvent("themeChange",{theme:M}),!M||typeof M=="string"){var $=M||this.$options.theme.initialValue;a.loadModule(["theme",$],E)}else E(M);function E(L){if(k.$themeId!=M)return R&&R();if(!L||!L.cssClass)throw new Error("couldn't load module "+M+" or it didn't call define");L.$id&&(k.$themeId=L.$id),s.importCssString(L.cssText,L.cssClass,k.container),k.theme&&s.removeCssClass(k.container,k.theme.cssClass);var P="padding"in L?L.padding:"padding"in(k.theme||{})?4:k.$padding;k.$padding&&P!=k.$padding&&k.setPadding(P),k.$theme=L.cssClass,k.theme=L,s.addCssClass(k.container,L.cssClass),s.setCssClass(k.container,"ace_dark",L.isDark),k.$size&&(k.$size.width=0,k.$updateSizeAsync()),k._dispatchEvent("themeLoaded",{theme:L}),R&&R(),w.isSafari&&k.scroller&&(k.scroller.style.background="red",k.scroller.style.background="")}},A.prototype.getTheme=function(){return this.$themeId},A.prototype.setStyle=function(M,R){s.setCssClass(this.container,M,R!==!1)},A.prototype.unsetStyle=function(M){s.removeCssClass(this.container,M)},A.prototype.setCursorStyle=function(M){s.setStyle(this.scroller.style,"cursor",M)},A.prototype.setMouseCursor=function(M){s.setStyle(this.scroller.style,"cursor",M)},A.prototype.attachToShadowRoot=function(){s.importCssString(x,"ace_editor.css",this.container)},A.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},A.prototype.$updateCustomScrollbar=function(M){var R=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,M===!0?(this.scrollBarV=new m(this.container,this),this.scrollBarH=new g(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(k){R.$scrollAnimation||R.session.setScrollTop(k.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(k){R.$scrollAnimation||R.session.setScrollLeft(k.data-R.scrollMargin.left)}),this.$scrollDecorator=new _(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new d(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.addEventListener("scroll",function(k){R.$scrollAnimation||R.session.setScrollTop(k.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(k){R.$scrollAnimation||R.session.setScrollLeft(k.data-R.scrollMargin.left)}))},A.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var M=this;this.$resizeTimer=l.delayedCall(function(){M.destroyed||M.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(R){var k=R[0].contentRect.width,$=R[0].contentRect.height;Math.abs(M.$size.width-k)>1||Math.abs(M.$size.height-$)>1?M.$resizeTimer.delay():M.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},A}();S.prototype.CHANGE_CURSOR=1,S.prototype.CHANGE_MARKER=2,S.prototype.CHANGE_GUTTER=4,S.prototype.CHANGE_SCROLL=8,S.prototype.CHANGE_LINES=16,S.prototype.CHANGE_TEXT=32,S.prototype.CHANGE_SIZE=64,S.prototype.CHANGE_MARKER_BACK=128,S.prototype.CHANGE_MARKER_FRONT=256,S.prototype.CHANGE_FULL=512,S.prototype.CHANGE_H_SCROLL=1024,S.prototype.$changes=0,S.prototype.$padding=null,S.prototype.$frozen=!1,S.prototype.STEPS=8,o.implement(S.prototype,C),a.defineOptions(S.prototype,"renderer",{useResizeObserver:{set:function(A){!A&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):A&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(A){this.$textLayer.setShowInvisibles(A)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(A){typeof A=="number"&&(this.$printMarginColumn=A),this.$showPrintMargin=!!A,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(A){this.$gutter.style.display=A?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(A){this.$gutterLayer.$useSvgGutterIcons=A},initialValue:!1},showFoldedAnnotations:{set:function(A){this.$gutterLayer.$showFoldedAnnotations=A},initialValue:!1},fadeFoldWidgets:{set:function(A){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",A)},initialValue:!1},showFoldWidgets:{set:function(A){this.$gutterLayer.setShowFoldWidgets(A),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(A){this.$textLayer.setDisplayIndentGuides(A)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(A){this.$textLayer.setHighlightIndentGuides(A)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(A){this.$gutterLayer.setHighlightGutterLine(A),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(A){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(A){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(A){typeof A=="number"&&(A=A+"px"),this.container.style.fontSize=A,this.updateFontSize()},initialValue:12},fontFamily:{set:function(A){this.container.style.fontFamily=A,this.updateFontSize()}},maxLines:{set:function(A){this.updateFull()}},minLines:{set:function(A){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(A){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(A){A=+A||0,this.$scrollPastEnd!=A&&(this.$scrollPastEnd=A,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(A){this.$gutterLayer.$fixedWidth=!!A,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(A){this.$updateCustomScrollbar(A)},initialValue:!1},theme:{set:function(A){this.setTheme(A)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!w.isMobile&&!w.isIE}}),r.VirtualRenderer=S}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,r,i){var o=n("../lib/oop"),s=n("../lib/net"),l=n("../lib/event_emitter").EventEmitter,a=n("../config");function u(p){var d="importScripts('"+s.qualifyURL(p)+"');";try{return new Blob([d],{type:"application/javascript"})}catch{var g=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,m=new g;return m.append(d),m.getBlob("application/javascript")}}function c(p){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var d=u(p),g=window.URL||window.webkitURL,m=g.createObjectURL(d);return new Worker(m)}return new Worker(p)}var h=function(p){p.postMessage||(p=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=p,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,l),this.$createWorkerFromOldConfig=function(p,d,g,m,v){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),a.get("packaged")||!n.toUrl)m=m||a.moduleUrl(d,"worker");else{var b=this.$normalizePath;m=m||b(n.toUrl("ace/worker/worker.js",null,"_"));var C={};p.forEach(function(x){C[x]=b(n.toUrl(x,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(m),v&&this.send("importScripts",v),this.$worker.postMessage({init:!0,tlns:C,module:d,classname:g}),this.$worker},this.onMessage=function(p){var d=p.data;switch(d.type){case"event":this._signal(d.name,{data:d.data});break;case"call":var g=this.callbacks[d.id];g&&(g(d.data),delete this.callbacks[d.id]);break;case"error":this.reportError(d.data);break;case"log":window.console&&console.log&&console.log.apply(console,d.data);break}},this.reportError=function(p){window.console&&console.error&&console.error(p)},this.$normalizePath=function(p){return s.qualifyURL(p)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(p){p.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(p,d){this.$worker.postMessage({command:p,args:d})},this.call=function(p,d,g){if(g){var m=this.callbackId++;this.callbacks[m]=g,d.push(m)}this.send(p,d)},this.emit=function(p,d){try{d.data&&d.data.err&&(d.data.err={message:d.data.err.message,stack:d.data.err.stack,code:d.data.err.code}),this.$worker&&this.$worker.postMessage({event:p,data:{data:d.data}})}catch(g){console.error(g.stack)}},this.attachToDocument=function(p){this.$doc&&this.terminate(),this.$doc=p,this.call("setValue",[p.getValue()]),p.on("change",this.changeListener,!0)},this.changeListener=function(p){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),p.action=="insert"?this.deltaQueue.push(p.start,p.lines):this.deltaQueue.push(p.start,p.end)},this.$sendDeltaQueue=function(){var p=this.deltaQueue;p&&(this.deltaQueue=null,p.length>50&&p.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:p}))}}).call(h.prototype);var f=function(p,d,g){var m=null,v=!1,b=Object.create(l),C=[],x=new h({messageBuffer:C,terminate:function(){},postMessage:function(w){C.push(w),m&&(v?setTimeout(_):_())}});x.setEmitSync=function(w){v=w};var _=function(){var w=C.shift();w.command?m[w.command].apply(m,w.args):w.event&&b._signal(w.event,w.data)};return b.postMessage=function(w){x.onMessage({data:w})},b.callback=function(w,y){this.postMessage({type:"call",id:y,data:w})},b.emit=function(w,y){this.postMessage({type:"event",name:w,data:y})},a.loadModule(["worker",d],function(w){for(m=new w[g](b);C.length;)_()}),x};r.UIWorkerClient=f,r.WorkerClient=h,r.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,r,i){var o=n("./range").Range,s=n("./lib/event_emitter").EventEmitter,l=n("./lib/oop"),a=function(){function u(c,h,f,p,d,g){var m=this;this.length=h,this.session=c,this.doc=c.getDocument(),this.mainClass=d,this.othersClass=g,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=p,this.$onCursorChange=function(){setTimeout(function(){m.onCursorChange()})},this.$pos=f;var v=c.getUndoManager().$undoStack||c.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),c.selection.on("changeCursor",this.$onCursorChange)}return u.prototype.setup=function(){var c=this,h=this.doc,f=this.session;this.selectionBefore=f.selection.toJSON(),f.selection.inMultiSelectMode&&f.selection.toSingleRange(),this.pos=h.createAnchor(this.$pos.row,this.$pos.column);var p=this.pos;p.$insertRight=!0,p.detach(),p.markerId=f.addMarker(new o(p.row,p.column,p.row,p.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(d){var g=h.createAnchor(d.row,d.column);g.$insertRight=!0,g.detach(),c.others.push(g)}),f.setUndoSelect(!1)},u.prototype.showOtherMarkers=function(){if(!this.othersActive){var c=this.session,h=this;this.othersActive=!0,this.others.forEach(function(f){f.markerId=c.addMarker(new o(f.row,f.column,f.row,f.column+h.length),h.othersClass,null,!1)})}},u.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var c=0;c<this.others.length;c++)this.session.removeMarker(this.others[c].markerId)}},u.prototype.onUpdate=function(c){if(this.$updating)return this.updateAnchors(c);var h=c;if(h.start.row===h.end.row&&h.start.row===this.pos.row){this.$updating=!0;var f=c.action==="insert"?h.end.column-h.start.column:h.start.column-h.end.column,p=h.start.column>=this.pos.column&&h.start.column<=this.pos.column+this.length+1,d=h.start.column-this.pos.column;if(this.updateAnchors(c),p&&(this.length+=f),p&&!this.session.$fromUndo){if(c.action==="insert")for(var g=this.others.length-1;g>=0;g--){var m=this.others[g],v={row:m.row,column:m.column+d};this.doc.insertMergedLines(v,c.lines)}else if(c.action==="remove")for(var g=this.others.length-1;g>=0;g--){var m=this.others[g],v={row:m.row,column:m.column+d};this.doc.remove(new o(v.row,v.column,v.row,v.column-f))}}this.$updating=!1,this.updateMarkers()}},u.prototype.updateAnchors=function(c){this.pos.onChange(c);for(var h=this.others.length;h--;)this.others[h].onChange(c);this.updateMarkers()},u.prototype.updateMarkers=function(){if(!this.$updating){var c=this,h=this.session,f=function(d,g){h.removeMarker(d.markerId),d.markerId=h.addMarker(new o(d.row,d.column,d.row,d.column+c.length),g,null,!1)};f(this.pos,this.mainClass);for(var p=this.others.length;p--;)f(this.others[p],this.othersClass)}},u.prototype.onCursorChange=function(c){if(!(this.$updating||!this.session)){var h=this.session.selection.getCursor();h.row===this.pos.row&&h.column>=this.pos.column&&h.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",c)):(this.hideOtherMarkers(),this._emit("cursorLeave",c))}},u.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},u.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var c=this.session.getUndoManager(),h=(c.$undoStack||c.$undostack).length-this.$undoStackDepth,f=0;f<h;f++)c.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},u}();l.implement(a.prototype,s),r.PlaceHolder=a}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var o=n("../lib/event"),s=n("../lib/useragent");function l(u,c){return u.row==c.row&&u.column==c.column}function a(u){var c=u.domEvent,h=c.altKey,f=c.shiftKey,p=c.ctrlKey,d=u.getAccelKey(),g=u.getButton();if(p&&s.isMac&&(g=c.button),u.editor.inMultiSelectMode&&g==2){u.editor.textInput.onContextMenu(u.domEvent);return}if(!p&&!h&&!d){g===0&&u.editor.inMultiSelectMode&&u.editor.exitMultiSelectMode();return}if(g===0){var m=u.editor,v=m.selection,b=m.inMultiSelectMode,C=u.getDocumentPosition(),x=v.getCursor(),_=u.inSelection()||v.isEmpty()&&l(C,x),w=u.x,y=u.y,S=function(G){w=G.clientX,y=G.clientY},A=m.session,M=m.renderer.pixelToScreenCoordinates(w,y),R=M,k;if(m.$mouseHandler.$enableJumpToDef)p&&h||d&&h?k=f?"block":"add":h&&m.$blockSelectEnabled&&(k="block");else if(d&&!h){if(k="add",!b&&f)return}else h&&m.$blockSelectEnabled&&(k="block");if(k&&s.isMac&&c.ctrlKey&&m.$mouseHandler.cancelContextMenu(),k=="add"){if(!b&&_)return;if(!b){var $=v.toOrientedRange();m.addSelectionMarker($)}var E=v.rangeList.rangeAtPoint(C);m.inVirtualSelectionMode=!0,f&&(E=null,$=v.ranges[0]||$,m.removeSelectionMarker($)),m.once("mouseup",function(){var G=v.toOrientedRange();E&&G.isEmpty()&&l(E.cursor,G.cursor)?v.substractPoint(G.cursor):(f?v.substractPoint($.cursor):$&&(m.removeSelectionMarker($),v.addRange($)),v.addRange(G)),m.inVirtualSelectionMode=!1})}else if(k=="block"){u.stop(),m.inVirtualSelectionMode=!0;var L,P=[],I=function(){var G=m.renderer.pixelToScreenCoordinates(w,y),Z=A.screenToDocumentPosition(G.row,G.column,G.offsetX);l(R,G)&&l(Z,v.lead)||(R=G,m.selection.moveToPosition(Z),m.renderer.scrollCursorIntoView(),m.removeSelectionMarkers(P),P=v.rectangularRangeBlock(R,M),m.$mouseHandler.$clickSelection&&P.length==1&&P[0].isEmpty()&&(P[0]=m.$mouseHandler.$clickSelection.clone()),P.forEach(m.addSelectionMarker,m),m.updateSelectionMarkers())};b&&!d?v.toSingleRange():!b&&d&&(L=v.toOrientedRange(),m.addSelectionMarker(L)),f?M=A.documentToScreenPosition(v.lead):v.moveToPosition(C),R={row:-1,column:-1};var D=function(G){I(),clearInterval(z),m.removeSelectionMarkers(P),P.length||(P=[v.toOrientedRange()]),L&&(m.removeSelectionMarker(L),v.toSingleRange(L));for(var Z=0;Z<P.length;Z++)v.addRange(P[Z]);m.inVirtualSelectionMode=!1,m.$mouseHandler.$clickSelection=null},W=I;o.capture(m.container,S,D);var z=setInterval(function(){W()},20);return u.preventDefault()}}}r.onMouseDown=a}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,r,i){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(s){s.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(s){s.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(s){s.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(s){s.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(s){s.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(s){s.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(s){s.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(s){s.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(s){s.multiSelect.rangeCount>1?s.multiSelect.joinSelections():s.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(s){s.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(s){s.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(s){s.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(s){s.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(s){return s&&s.inMultiSelectMode}}];var o=n("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new o(r.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,r,i){var o=n("./range_list").RangeList,s=n("./range").Range,l=n("./selection").Selection,a=n("./mouse/multi_select_handler").onMouseDown,u=n("./lib/event"),c=n("./lib/lang"),h=n("./commands/multi_select_commands");r.commands=h.defaultCommands.concat(h.multiSelectCommands);var f=n("./search").Search,p=new f;function d(x,_,w){return p.$options.wrap=!0,p.$options.needle=_,p.$options.backwards=w==-1,p.find(x)}var g=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(x,_){if(x){if(!this.inMultiSelectMode&&this.rangeCount===0){var w=this.toOrientedRange();if(this.rangeList.add(w),this.rangeList.add(x),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),_||this.fromOrientedRange(x);this.rangeList.removeAll(),this.rangeList.add(w),this.$onAddRange(w)}x.cursor||(x.cursor=x.end);var y=this.rangeList.add(x);return this.$onAddRange(x),y.length&&this.$onRemoveRange(y),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),_||this.fromOrientedRange(x)}},this.toSingleRange=function(x){x=x||this.ranges[0];var _=this.rangeList.removeAll();_.length&&this.$onRemoveRange(_),x&&this.fromOrientedRange(x)},this.substractPoint=function(x){var _=this.rangeList.substractPoint(x);if(_)return this.$onRemoveRange(_),_[0]},this.mergeOverlappingRanges=function(){var x=this.rangeList.merge();x.length&&this.$onRemoveRange(x)},this.$onAddRange=function(x){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(x),this._signal("addRange",{range:x})},this.$onRemoveRange=function(x){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var _=this.rangeList.ranges.pop();x.push(_),this.rangeCount=0}for(var w=x.length;w--;){var y=this.ranges.indexOf(x[w]);this.ranges.splice(y,1)}this._signal("removeRange",{ranges:x}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),_=_||this.ranges[0],_&&!_.isEqual(this.getRange())&&this.fromOrientedRange(_)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var x=this.ranges.length?this.ranges:[this.getRange()],_=[],w=0;w<x.length;w++){var y=x[w],S=y.start.row,A=y.end.row;if(S===A)_.push(y.clone());else{for(_.push(new s(S,y.start.column,S,this.session.getLine(S).length));++S<A;)_.push(this.getLineRange(S,!0));_.push(new s(A,0,A,y.end.column))}w==0&&!this.isBackwards()&&(_=_.reverse())}this.toSingleRange();for(var w=_.length;w--;)this.addRange(_[w])},this.joinSelections=function(){var x=this.rangeList.ranges,_=x[x.length-1],w=s.fromPoints(x[0].start,_.end);this.toSingleRange(),this.setSelectionRange(w,_.cursor==_.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var x=this.rangeList.ranges,_=x[x.length-1],w=s.fromPoints(x[0].start,_.end);this.toSingleRange(),this.setSelectionRange(w,_.cursor==_.start)}else{var y=this.session.documentToScreenPosition(this.cursor),S=this.session.documentToScreenPosition(this.anchor),A=this.rectangularRangeBlock(y,S);A.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(x,_,w){var y=[],S=x.column<_.column;if(S)var A=x.column,M=_.column,R=x.offsetX,k=_.offsetX;else var A=_.column,M=x.column,R=_.offsetX,k=x.offsetX;var $=x.row<_.row;if($)var E=x.row,L=_.row;else var E=_.row,L=x.row;A<0&&(A=0),E<0&&(E=0),E==L&&(w=!0);for(var P,I=E;I<=L;I++){var D=s.fromPoints(this.session.screenToDocumentPosition(I,A,R),this.session.screenToDocumentPosition(I,M,k));if(D.isEmpty()){if(P&&v(D.end,P))break;P=D.end}D.cursor=S?D.start:D.end,y.push(D)}if($&&y.reverse(),!w){for(var W=y.length-1;y[W].isEmpty()&&W>0;)W--;if(W>0)for(var z=0;y[z].isEmpty();)z++;for(var G=W;G>=z;G--)y[G].isEmpty()&&y.splice(G,1)}return y}}).call(l.prototype);var m=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(x){x.cursor||(x.cursor=x.end);var _=this.getSelectionStyle();return x.marker=this.session.addMarker(x,"ace_selection",_),this.session.$selectionMarkers.push(x),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,x},this.removeSelectionMarker=function(x){if(x.marker){this.session.removeMarker(x.marker);var _=this.session.$selectionMarkers.indexOf(x);_!=-1&&this.session.$selectionMarkers.splice(_,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(x){for(var _=this.session.$selectionMarkers,w=x.length;w--;){var y=x[w];if(y.marker){this.session.removeMarker(y.marker);var S=_.indexOf(y);S!=-1&&_.splice(S,1)}}this.session.selectionMarkerCount=_.length},this.$onAddRange=function(x){this.addSelectionMarker(x.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(x){this.removeSelectionMarkers(x.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(x){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(x){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(x){var _=x.command,w=x.editor;if(w.multiSelect){if(_.multiSelectAction)_.multiSelectAction=="forEach"?y=w.forEachSelection(_,x.args):_.multiSelectAction=="forEachLine"?y=w.forEachSelection(_,x.args,!0):_.multiSelectAction=="single"?(w.exitMultiSelectMode(),y=_.exec(w,x.args||{})):y=_.multiSelectAction(w,x.args||{});else{var y=_.exec(w,x.args||{});w.multiSelect.addRange(w.multiSelect.toOrientedRange()),w.multiSelect.mergeOverlappingRanges()}return y}},this.forEachSelection=function(x,_,w){if(!this.inVirtualSelectionMode){var y=w&&w.keepOrder,S=w==!0||w&&w.$byLines,A=this.session,M=this.selection,R=M.rangeList,k=(y?M:R).ranges,$;if(!k.length)return x.exec?x.exec(this,_||{}):x(this,_||{});var E=M._eventRegistry;M._eventRegistry={};var L=new l(A);this.inVirtualSelectionMode=!0;for(var P=k.length;P--;){if(S)for(;P>0&&k[P].start.row==k[P-1].end.row;)P--;L.fromOrientedRange(k[P]),L.index=P,this.selection=A.selection=L;var I=x.exec?x.exec(this,_||{}):x(this,_||{});!$&&I!==void 0&&($=I),L.toOrientedRange(k[P])}L.detach(),this.selection=A.selection=M,this.inVirtualSelectionMode=!1,M._eventRegistry=E,M.mergeOverlappingRanges(),M.ranges[0]&&M.fromOrientedRange(M.ranges[0]);var D=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),D&&D.from==D.to&&this.renderer.animateScrolling(D.from),$}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var x="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var _=this.multiSelect.rangeList.ranges,w=[],y=0;y<_.length;y++)w.push(this.session.getTextRange(_[y]));var S=this.session.getDocument().getNewLineCharacter();x=w.join(S),x.length==(w.length-1)*S.length&&(x="")}else this.selection.isEmpty()||(x=this.session.getTextRange(this.getSelectionRange()));return x},this.$checkMultiselectChange=function(x,_){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var w=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&_==this.multiSelect.anchor)return;var y=_==this.multiSelect.anchor?w.cursor==w.start?w.end:w.start:w.cursor;y.row!=_.row||this.session.$clipPositionToDocument(y.row,y.column).column!=_.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(x,_,w){if(_=_||{},_.needle=x||_.needle,_.needle==null){var y=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();_.needle=this.session.getTextRange(y)}this.$search.set(_);var S=this.$search.findAll(this.session);if(!S.length)return 0;var A=this.multiSelect;w||A.toSingleRange(S[0]);for(var M=S.length;M--;)A.addRange(S[M],!0);return y&&A.rangeList.rangeAtPoint(y.start)&&A.addRange(y,!0),S.length},this.selectMoreLines=function(x,_){var w=this.selection.toOrientedRange(),y=w.cursor==w.end,S=this.session.documentToScreenPosition(w.cursor);this.selection.$desiredColumn&&(S.column=this.selection.$desiredColumn);var A=this.session.screenToDocumentPosition(S.row+x,S.column);if(w.isEmpty())var R=A;else var M=this.session.documentToScreenPosition(y?w.end:w.start),R=this.session.screenToDocumentPosition(M.row+x,M.column);if(y){var k=s.fromPoints(A,R);k.cursor=k.start}else{var k=s.fromPoints(R,A);k.cursor=k.end}if(k.desiredColumn=S.column,!this.selection.inMultiSelectMode)this.selection.addRange(w);else if(_)var $=w.cursor;this.selection.addRange(k),$&&this.selection.substractPoint($)},this.transposeSelections=function(x){for(var _=this.session,w=_.multiSelect,y=w.ranges,S=y.length;S--;){var A=y[S];if(A.isEmpty()){var M=_.getWordRange(A.start.row,A.start.column);A.start.row=M.start.row,A.start.column=M.start.column,A.end.row=M.end.row,A.end.column=M.end.column}}w.mergeOverlappingRanges();for(var R=[],S=y.length;S--;){var A=y[S];R.unshift(_.getTextRange(A))}x<0?R.unshift(R.pop()):R.push(R.shift());for(var S=y.length;S--;){var A=y[S],k=A.clone();_.replace(A,R[S]),A.start.row=k.start.row,A.start.column=k.start.column}w.fromOrientedRange(w.ranges[0])},this.selectMore=function(x,_,w){var y=this.session,S=y.multiSelect,A=S.toOrientedRange();if(!(A.isEmpty()&&(A=y.getWordRange(A.start.row,A.start.column),A.cursor=x==-1?A.start:A.end,this.multiSelect.addRange(A),w))){var M=y.getTextRange(A),R=d(y,M,x);R&&(R.cursor=x==-1?R.start:R.end,this.session.unfold(R),this.multiSelect.addRange(R),this.renderer.scrollCursorIntoView(null,.5)),_&&this.multiSelect.substractPoint(A.cursor)}},this.alignCursors=function(){var x=this.session,_=x.multiSelect,w=_.ranges,y=-1,S=w.filter(function(W){if(W.cursor.row==y)return!0;y=W.cursor.row});if(!w.length||S.length==w.length-1){var A=this.selection.getRange(),M=A.start.row,R=A.end.row,k=M==R;if(k){var $=this.session.getLength(),E;do E=this.session.getLine(R);while(/[=:]/.test(E)&&++R<$);do E=this.session.getLine(M);while(/[=:]/.test(E)&&--M>0);M<0&&(M=0),R>=$&&(R=$-1)}var L=this.session.removeFullLines(M,R);L=this.$reAlignText(L,k),this.session.insert({row:M,column:0},L.join(`
`)+`
`),k||(A.start.column=0,A.end.column=L[L.length-1].length),this.selection.setRange(A)}else{S.forEach(function(W){_.substractPoint(W.cursor)});var P=0,I=1/0,D=w.map(function(W){var z=W.cursor,G=x.getLine(z.row),Z=G.substr(z.column).search(/\S/g);return Z==-1&&(Z=0),z.column>P&&(P=z.column),Z<I&&(I=Z),Z});w.forEach(function(W,z){var G=W.cursor,Z=P-G.column,q=D[z]-I;Z>q?x.insert(G,c.stringRepeat(" ",Z-q)):x.remove(new s(G.row,G.column,G.row,G.column-Z+q)),W.start.column=W.end.column=P,W.start.row=W.end.row=G.row,W.cursor=W.end}),_.fromOrientedRange(w[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(x,_){var w=!0,y=!0,S,A,M;return x.map(function(L){var P=L.match(/(\s*)(.*?)(\s*)([=:].*)/);return P?S==null?(S=P[1].length,A=P[2].length,M=P[3].length,P):(S+A+M!=P[1].length+P[2].length+P[3].length&&(y=!1),S!=P[1].length&&(w=!1),S>P[1].length&&(S=P[1].length),A<P[2].length&&(A=P[2].length),M>P[3].length&&(M=P[3].length),P):[L]}).map(_?k:w?y?$:k:E);function R(L){return c.stringRepeat(" ",L)}function k(L){return L[2]?R(S)+L[2]+R(A-L[2].length+M)+L[4].replace(/^([=:])\s+/,"$1 "):L[0]}function $(L){return L[2]?R(S+A-L[2].length)+L[2]+R(M)+L[4].replace(/^([=:])\s+/,"$1 "):L[0]}function E(L){return L[2]?R(S)+L[2]+R(M)+L[4].replace(/^([=:])\s+/,"$1 "):L[0]}}}).call(m.prototype);function v(x,_){return x.row==_.row&&x.column==_.column}r.onSessionChange=function(x){var _=x.session;_&&!_.multiSelect&&(_.$selectionMarkers=[],_.selection.$initRangeList(),_.multiSelect=_.selection),this.multiSelect=_&&_.multiSelect;var w=x.oldSession;w&&(w.multiSelect.off("addRange",this.$onAddRange),w.multiSelect.off("removeRange",this.$onRemoveRange),w.multiSelect.off("multiSelect",this.$onMultiSelect),w.multiSelect.off("singleSelect",this.$onSingleSelect),w.multiSelect.lead.off("change",this.$checkMultiselectChange),w.multiSelect.anchor.off("change",this.$checkMultiselectChange)),_&&(_.multiSelect.on("addRange",this.$onAddRange),_.multiSelect.on("removeRange",this.$onRemoveRange),_.multiSelect.on("multiSelect",this.$onMultiSelect),_.multiSelect.on("singleSelect",this.$onSingleSelect),_.multiSelect.lead.on("change",this.$checkMultiselectChange),_.multiSelect.anchor.on("change",this.$checkMultiselectChange)),_&&this.inMultiSelectMode!=_.selection.inMultiSelectMode&&(_.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function b(x){x.$multiselectOnSessionChange||(x.$onAddRange=x.$onAddRange.bind(x),x.$onRemoveRange=x.$onRemoveRange.bind(x),x.$onMultiSelect=x.$onMultiSelect.bind(x),x.$onSingleSelect=x.$onSingleSelect.bind(x),x.$multiselectOnSessionChange=r.onSessionChange.bind(x),x.$checkMultiselectChange=x.$checkMultiselectChange.bind(x),x.$multiselectOnSessionChange(x),x.on("changeSession",x.$multiselectOnSessionChange),x.on("mousedown",a),x.commands.addCommands(h.defaultCommands),C(x))}function C(x){if(!x.textInput)return;var _=x.textInput.getElement(),w=!1;u.addListener(_,"keydown",function(S){var A=S.keyCode==18&&!(S.ctrlKey||S.shiftKey||S.metaKey);x.$blockSelectEnabled&&A?w||(x.renderer.setMouseCursor("crosshair"),w=!0):w&&y()},x),u.addListener(_,"keyup",y,x),u.addListener(_,"blur",y,x);function y(S){w&&(x.renderer.setMouseCursor(""),w=!1)}}r.MultiSelect=b,n("./config").defineOptions(m.prototype,"editor",{enableMultiselect:{set:function(x){b(this),x?this.on("mousedown",a):this.off("mousedown",a)},value:!0},enableBlockSelect:{set:function(x){this.$blockSelectEnabled=x},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,r,i){var o=n("../../range").Range,s=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(l,a,u){var c=l.getLine(u);return this.foldingStartMarker.test(c)?"start":a=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(l,a,u){return null},this.indentationBlock=function(l,a,u){var c=/\S/,h=l.getLine(a),f=h.search(c);if(f!=-1){for(var p=u||h.length,d=l.getLength(),g=a,m=a;++a<d;){var v=l.getLine(a).search(c);if(v!=-1){if(v<=f){var b=l.getTokenAt(a,0);if(!b||b.type!=="string")break}m=a}}if(m>g){var C=l.getLine(m).length;return new o(g,p,m,C)}}},this.openingBracketBlock=function(l,a,u,c,h){var f={row:u,column:c+1},p=l.$findClosingBracket(a,f,h);if(p){var d=l.foldWidgets[p.row];return d==null&&(d=l.getFoldWidget(p.row)),d=="start"&&p.row>f.row&&(p.row--,p.column=l.getLine(p.row).length),o.fromPoints(f,p)}},this.closingBracketBlock=function(l,a,u,c,h){var f={row:u,column:c},p=l.$findOpeningBracket(a,f);if(p)return p.column++,f.column--,o.fromPoints(p,f)}}).call(s.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(n,r,i){var o=n("../line_widgets").LineWidgets,s=n("../lib/dom"),l=n("../range").Range,a=n("../config").nls;function u(h,f,p){for(var d=0,g=h.length-1;d<=g;){var m=d+g>>1,v=p(f,h[m]);if(v>0)d=m+1;else if(v<0)g=m-1;else return m}return-(d+1)}function c(h,f,p){var d=h.getAnnotations().sort(l.comparePoints);if(d.length){var g=u(d,{row:f,column:-1},l.comparePoints);g<0&&(g=-g-1),g>=d.length?g=p>0?0:d.length-1:g===0&&p<0&&(g=d.length-1);var m=d[g];if(!(!m||!p)){if(m.row===f){do m=d[g+=p];while(m&&m.row===f);if(!m)return d.slice()}var v=[];f=m.row;do v[p<0?"unshift":"push"](m),m=d[g+=p];while(m&&m.row==f);return v.length&&v}}}r.showErrorMarker=function(h,f){var p=h.session;p.widgetManager||(p.widgetManager=new o(p),p.widgetManager.attach(h));var d=h.getCursorPosition(),g=d.row,m=p.widgetManager.getWidgetsAtRow(g).filter(function(A){return A.type=="errorMarker"})[0];m?m.destroy():g-=f;var v=c(p,g,f),b;if(v){var C=v[0];d.column=(C.pos&&typeof C.column!="number"?C.pos.sc:C.column)||0,d.row=C.row,b=h.renderer.$gutterLayer.$annotations[d.row]}else{if(m)return;b={displayText:[a("error-marker.good-state","Looks good!")],className:"ace_ok"}}h.session.unfold(d.row),h.selection.moveToPosition(d);var x={row:d.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},_=x.el.appendChild(s.createElement("div")),w=x.el.appendChild(s.createElement("div"));w.className="error_widget_arrow "+b.className;var y=h.renderer.$cursorLayer.getPixelPosition(d).left;w.style.left=y+h.renderer.gutterWidth-5+"px",x.el.className="error_widget_wrapper",_.className="error_widget "+b.className,b.displayText.forEach(function(A,M){_.appendChild(s.createTextNode(A)),M<b.displayText.length-1&&_.appendChild(s.createElement("br"))}),_.appendChild(s.createElement("div"));var S=function(A,M,R){if(M===0&&(R==="esc"||R==="return"))return x.destroy(),{command:"null"}};x.destroy=function(){h.$mouseHandler.isMousePressed||(h.keyBinding.removeKeyboardHandler(S),p.widgetManager.removeLineWidget(x),h.off("changeSelection",x.destroy),h.off("changeSession",x.destroy),h.off("mouseup",x.destroy),h.off("change",x.destroy))},h.keyBinding.addKeyboardHandler(S),h.on("changeSelection",x.destroy),h.on("changeSession",x.destroy),h.on("mouseup",x.destroy),h.on("change",x.destroy),h.session.widgetManager.addLineWidget(x),x.el.onmousedown=h.focus.bind(h),h.renderer.scrollCursorIntoView(null,.5,{bottom:x.el.offsetHeight})},s.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,r,i){n("./loader_build")(r);var o=n("./lib/dom"),s=n("./range").Range,l=n("./editor").Editor,a=n("./edit_session").EditSession,u=n("./undomanager").UndoManager,c=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),r.config=n("./config"),r.edit=function(f,p){if(typeof f=="string"){var d=f;if(f=document.getElementById(d),!f)throw new Error("ace.edit can't find div #"+d)}if(f&&f.env&&f.env.editor instanceof l)return f.env.editor;var g="";if(f&&/input|textarea/i.test(f.tagName)){var m=f;g=m.value,f=o.createElement("pre"),m.parentNode.replaceChild(f,m)}else f&&(g=f.textContent,f.innerHTML="");var v=r.createEditSession(g),b=new l(new c(f),v,p),C={document:v,editor:b,onResize:b.resize.bind(b,null)};return m&&(C.textarea=m),b.on("destroy",function(){C.editor.container.env=null}),b.container.env=b.env=C,b},r.createEditSession=function(f,p){var d=new a(f,p);return d.setUndoManager(new u),d},r.Range=s,r.Editor=l,r.EditSession=a,r.UndoManager=u,r.VirtualRenderer=c;var h=r.config.version;r.version=h}),function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);var r=function(){return this}();!r&&typeof window<"u"&&(r=window),!r&&typeof self<"u"&&(r=self),r.ace||(r.ace=n);for(var i in n)n.hasOwnProperty(i)&&(r.ace[i]=n[i]);r.ace.default=r.ace,t&&(t.exports=r.ace)})}()})(dC);var xu=dC.exports;const pC=Wl(xu);var cd={exports:{}};cd.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,l="[object Arguments]",a="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",d="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Null]",b="[object Object]",C="[object Promise]",x="[object Proxy]",_="[object RegExp]",w="[object Set]",y="[object String]",S="[object Symbol]",A="[object Undefined]",M="[object WeakMap]",R="[object ArrayBuffer]",k="[object DataView]",$="[object Float32Array]",E="[object Float64Array]",L="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",D="[object Uint8Array]",W="[object Uint8ClampedArray]",z="[object Uint16Array]",G="[object Uint32Array]",Z=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,Y={};Y[$]=Y[E]=Y[L]=Y[P]=Y[I]=Y[D]=Y[W]=Y[z]=Y[G]=!0,Y[l]=Y[a]=Y[R]=Y[c]=Y[k]=Y[h]=Y[f]=Y[p]=Y[g]=Y[m]=Y[b]=Y[_]=Y[w]=Y[y]=Y[M]=!1;var ee=typeof _n=="object"&&_n&&_n.Object===Object&&_n,re=typeof self=="object"&&self&&self.Object===Object&&self,ie=ee||re||Function("return this")(),ue=e&&!e.nodeType&&e,he=ue&&!0&&t&&!t.nodeType&&t,_e=he&&he.exports===ue,Te=_e&&ee.process,tt=function(){try{return Te&&Te.binding&&Te.binding("util")}catch{}}(),ot=tt&&tt.isTypedArray;function we(Q,ae){for(var be=-1,Ne=Q==null?0:Q.length,$t=0,ct=[];++be<Ne;){var en=Q[be];ae(en,be,Q)&&(ct[$t++]=en)}return ct}function Ae(Q,ae){for(var be=-1,Ne=ae.length,$t=Q.length;++be<Ne;)Q[$t+be]=ae[be];return Q}function st(Q,ae){for(var be=-1,Ne=Q==null?0:Q.length;++be<Ne;)if(ae(Q[be],be,Q))return!0;return!1}function qe(Q,ae){for(var be=-1,Ne=Array(Q);++be<Q;)Ne[be]=ae(be);return Ne}function Ue(Q){return function(ae){return Q(ae)}}function _t(Q,ae){return Q.has(ae)}function Jt(Q,ae){return Q==null?void 0:Q[ae]}function At(Q){var ae=-1,be=Array(Q.size);return Q.forEach(function(Ne,$t){be[++ae]=[$t,Ne]}),be}function an(Q,ae){return function(be){return Q(ae(be))}}function yn(Q){var ae=-1,be=Array(Q.size);return Q.forEach(function(Ne){be[++ae]=Ne}),be}var Re=Array.prototype,de=Function.prototype,Le=Object.prototype,Oe=ie["__core-js_shared__"],at=de.toString,Ke=Le.hasOwnProperty,Se=function(){var Q=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return Q?"Symbol(src)_1."+Q:""}(),Be=Le.toString,ze=RegExp("^"+at.call(Ke).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=_e?ie.Buffer:void 0,rt=ie.Symbol,ln=ie.Uint8Array,ir=Le.propertyIsEnumerable,oo=Re.splice,Vr=rt?rt.toStringTag:void 0,Ma=Object.getOwnPropertySymbols,Ri=Ye?Ye.isBuffer:void 0,so=an(Object.keys,Object),We=jo(ie,"DataView"),Mt=jo(ie,"Map"),yt=jo(ie,"Promise"),Ot=jo(ie,"Set"),Ur=jo(ie,"WeakMap"),Li=jo(Object,"create"),Ea=Oi(We),ic=Oi(Mt),si=Oi(yt),Do=Oi(Ot),oc=Oi(Ur),Ps=rt?rt.prototype:void 0,sc=Ps?Ps.valueOf:void 0;function ao(Q){var ae=-1,be=Q==null?0:Q.length;for(this.clear();++ae<be;){var Ne=Q[ae];this.set(Ne[0],Ne[1])}}function Vp(){this.__data__=Li?Li(null):{},this.size=0}function rh(Q){var ae=this.has(Q)&&delete this.__data__[Q];return this.size-=ae?1:0,ae}function Up(Q){var ae=this.__data__;if(Li){var be=ae[Q];return be===r?void 0:be}return Ke.call(ae,Q)?ae[Q]:void 0}function Gp(Q){var ae=this.__data__;return Li?ae[Q]!==void 0:Ke.call(ae,Q)}function ih(Q,ae){var be=this.__data__;return this.size+=this.has(Q)?0:1,be[Q]=Li&&ae===void 0?r:ae,this}ao.prototype.clear=Vp,ao.prototype.delete=rh,ao.prototype.get=Up,ao.prototype.has=Gp,ao.prototype.set=ih;function ai(Q){var ae=-1,be=Q==null?0:Q.length;for(this.clear();++ae<be;){var Ne=Q[ae];this.set(Ne[0],Ne[1])}}function Fo(){this.__data__=[],this.size=0}function oh(Q){var ae=this.__data__,be=li(ae,Q);if(be<0)return!1;var Ne=ae.length-1;return be==Ne?ae.pop():oo.call(ae,be,1),--this.size,!0}function ac(Q){var ae=this.__data__,be=li(ae,Q);return be<0?void 0:ae[be][1]}function lc(Q){return li(this.__data__,Q)>-1}function $a(Q,ae){var be=this.__data__,Ne=li(be,Q);return Ne<0?(++this.size,be.push([Q,ae])):be[Ne][1]=ae,this}ai.prototype.clear=Fo,ai.prototype.delete=oh,ai.prototype.get=ac,ai.prototype.has=lc,ai.prototype.set=$a;function Ni(Q){var ae=-1,be=Q==null?0:Q.length;for(this.clear();++ae<be;){var Ne=Q[ae];this.set(Ne[0],Ne[1])}}function qp(){this.size=0,this.__data__={hash:new ao,map:new(Mt||ai),string:new ao}}function Os(Q){var ae=Pa(this,Q).delete(Q);return this.size-=ae?1:0,ae}function sh(Q){return Pa(this,Q).get(Q)}function ah(Q){return Pa(this,Q).has(Q)}function lh(Q,ae){var be=Pa(this,Q),Ne=be.size;return be.set(Q,ae),this.size+=be.size==Ne?0:1,this}Ni.prototype.clear=qp,Ni.prototype.delete=Os,Ni.prototype.get=sh,Ni.prototype.has=ah,Ni.prototype.set=lh;function Is(Q){var ae=-1,be=Q==null?0:Q.length;for(this.__data__=new Ni;++ae<be;)this.add(Q[ae])}function Kp(Q){return this.__data__.set(Q,r),this}function cc(Q){return this.__data__.has(Q)}Is.prototype.add=Is.prototype.push=Kp,Is.prototype.has=cc;function Pi(Q){var ae=this.__data__=new ai(Q);this.size=ae.size}function Yp(){this.__data__=new ai,this.size=0}function ch(Q){var ae=this.__data__,be=ae.delete(Q);return this.size=ae.size,be}function uh(Q){return this.__data__.get(Q)}function uc(Q){return this.__data__.has(Q)}function hh(Q,ae){var be=this.__data__;if(be instanceof ai){var Ne=be.__data__;if(!Mt||Ne.length<n-1)return Ne.push([Q,ae]),this.size=++be.size,this;be=this.__data__=new Ni(Ne)}return be.set(Q,ae),this.size=be.size,this}Pi.prototype.clear=Yp,Pi.prototype.delete=ch,Pi.prototype.get=uh,Pi.prototype.has=uc,Pi.prototype.set=hh;function Un(Q,ae){var be=Oa(Q),Ne=!be&&bh(Q),$t=!be&&!Ne&&Ws(Q),ct=!be&&!Ne&&!$t&&Ch(Q),en=be||Ne||$t||ct,Cn=en?qe(Q.length,String):[],cn=Cn.length;for(var Ht in Q)Ke.call(Q,Ht)&&!(en&&(Ht=="length"||$t&&(Ht=="offset"||Ht=="parent")||ct&&(Ht=="buffer"||Ht=="byteLength"||Ht=="byteOffset")||Xp(Ht,cn)))&&Cn.push(Ht);return Cn}function li(Q,ae){for(var be=Q.length;be--;)if(wh(Q[be][0],ae))return be;return-1}function Ra(Q,ae,be){var Ne=ae(Q);return Oa(Q)?Ne:Ae(Ne,be(Q))}function Ds(Q){return Q==null?Q===void 0?A:v:Vr&&Vr in Object(Q)?lo(Q):yh(Q)}function fh(Q){return js(Q)&&Ds(Q)==l}function La(Q,ae,be,Ne,$t){return Q===ae?!0:Q==null||ae==null||!js(Q)&&!js(ae)?Q!==Q&&ae!==ae:dh(Q,ae,be,Ne,La,$t)}function dh(Q,ae,be,Ne,$t,ct){var en=Oa(Q),Cn=Oa(ae),cn=en?a:Gr(Q),Ht=Cn?a:Gr(ae);cn=cn==l?b:cn,Ht=Ht==l?b:Ht;var Wn=cn==b,Mr=Ht==b,Pn=cn==Ht;if(Pn&&Ws(Q)){if(!Ws(ae))return!1;en=!0,Wn=!1}if(Pn&&!Wn)return ct||(ct=new Pi),en||Ch(Q)?gh(Q,ae,be,Ne,$t,ct):Ar(Q,ae,cn,be,Ne,$t,ct);if(!(be&i)){var gr=Wn&&Ke.call(Q,"__wrapped__"),T=Mr&&Ke.call(ae,"__wrapped__");if(gr||T){var N=gr?Q.value():Q,O=T?ae.value():ae;return ct||(ct=new Pi),$t(N,O,be,Ne,ct)}}return Pn?(ct||(ct=new Pi),mh(Q,ae,be,Ne,$t,ct)):!1}function Na(Q){if(!xh(Q)||vh(Q))return!1;var ae=_h(Q)?ze:q;return ae.test(Oi(Q))}function ph(Q){return js(Q)&&Sh(Q.length)&&!!Y[Ds(Q)]}function Qp(Q){if(!hc(Q))return so(Q);var ae=[];for(var be in Object(Q))Ke.call(Q,be)&&be!="constructor"&&ae.push(be);return ae}function gh(Q,ae,be,Ne,$t,ct){var en=be&i,Cn=Q.length,cn=ae.length;if(Cn!=cn&&!(en&&cn>Cn))return!1;var Ht=ct.get(Q);if(Ht&&ct.get(ae))return Ht==ae;var Wn=-1,Mr=!0,Pn=be&o?new Is:void 0;for(ct.set(Q,ae),ct.set(ae,Q);++Wn<Cn;){var gr=Q[Wn],T=ae[Wn];if(Ne)var N=en?Ne(T,gr,Wn,ae,Q,ct):Ne(gr,T,Wn,Q,ae,ct);if(N!==void 0){if(N)continue;Mr=!1;break}if(Pn){if(!st(ae,function(O,F){if(!_t(Pn,F)&&(gr===O||$t(gr,O,be,Ne,ct)))return Pn.push(F)})){Mr=!1;break}}else if(!(gr===T||$t(gr,T,be,Ne,ct))){Mr=!1;break}}return ct.delete(Q),ct.delete(ae),Mr}function Ar(Q,ae,be,Ne,$t,ct,en){switch(be){case k:if(Q.byteLength!=ae.byteLength||Q.byteOffset!=ae.byteOffset)return!1;Q=Q.buffer,ae=ae.buffer;case R:return!(Q.byteLength!=ae.byteLength||!ct(new ln(Q),new ln(ae)));case c:case h:case m:return wh(+Q,+ae);case f:return Q.name==ae.name&&Q.message==ae.message;case _:case y:return Q==ae+"";case g:var Cn=At;case w:var cn=Ne&i;if(Cn||(Cn=yn),Q.size!=ae.size&&!cn)return!1;var Ht=en.get(Q);if(Ht)return Ht==ae;Ne|=o,en.set(Q,ae);var Wn=gh(Cn(Q),Cn(ae),Ne,$t,ct,en);return en.delete(Q),Wn;case S:if(sc)return sc.call(Q)==sc.call(ae)}return!1}function mh(Q,ae,be,Ne,$t,ct){var en=be&i,Cn=Wo(Q),cn=Cn.length,Ht=Wo(ae),Wn=Ht.length;if(cn!=Wn&&!en)return!1;for(var Mr=cn;Mr--;){var Pn=Cn[Mr];if(!(en?Pn in ae:Ke.call(ae,Pn)))return!1}var gr=ct.get(Q);if(gr&&ct.get(ae))return gr==ae;var T=!0;ct.set(Q,ae),ct.set(ae,Q);for(var N=en;++Mr<cn;){Pn=Cn[Mr];var O=Q[Pn],F=ae[Pn];if(Ne)var j=en?Ne(F,O,Pn,ae,Q,ct):Ne(O,F,Pn,Q,ae,ct);if(!(j===void 0?O===F||$t(O,F,be,Ne,ct):j)){T=!1;break}N||(N=Pn=="constructor")}if(T&&!N){var B=Q.constructor,H=ae.constructor;B!=H&&"constructor"in Q&&"constructor"in ae&&!(typeof B=="function"&&B instanceof B&&typeof H=="function"&&H instanceof H)&&(T=!1)}return ct.delete(Q),ct.delete(ae),T}function Wo(Q){return Ra(Q,eg,co)}function Pa(Q,ae){var be=Q.__data__;return Fs(ae)?be[typeof ae=="string"?"string":"hash"]:be.map}function jo(Q,ae){var be=Jt(Q,ae);return Na(be)?be:void 0}function lo(Q){var ae=Ke.call(Q,Vr),be=Q[Vr];try{Q[Vr]=void 0;var Ne=!0}catch{}var $t=Be.call(Q);return Ne&&(ae?Q[Vr]=be:delete Q[Vr]),$t}var co=Ma?function(Q){return Q==null?[]:(Q=Object(Q),we(Ma(Q),function(ae){return ir.call(Q,ae)}))}:Th,Gr=Ds;(We&&Gr(new We(new ArrayBuffer(1)))!=k||Mt&&Gr(new Mt)!=g||yt&&Gr(yt.resolve())!=C||Ot&&Gr(new Ot)!=w||Ur&&Gr(new Ur)!=M)&&(Gr=function(Q){var ae=Ds(Q),be=ae==b?Q.constructor:void 0,Ne=be?Oi(be):"";if(Ne)switch(Ne){case Ea:return k;case ic:return g;case si:return C;case Do:return w;case oc:return M}return ae});function Xp(Q,ae){return ae=ae??s,!!ae&&(typeof Q=="number"||X.test(Q))&&Q>-1&&Q%1==0&&Q<ae}function Fs(Q){var ae=typeof Q;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?Q!=="__proto__":Q===null}function vh(Q){return!!Se&&Se in Q}function hc(Q){var ae=Q&&Q.constructor,be=typeof ae=="function"&&ae.prototype||Le;return Q===be}function yh(Q){return Be.call(Q)}function Oi(Q){if(Q!=null){try{return at.call(Q)}catch{}try{return Q+""}catch{}}return""}function wh(Q,ae){return Q===ae||Q!==Q&&ae!==ae}var bh=fh(function(){return arguments}())?fh:function(Q){return js(Q)&&Ke.call(Q,"callee")&&!ir.call(Q,"callee")},Oa=Array.isArray;function Zp(Q){return Q!=null&&Sh(Q.length)&&!_h(Q)}var Ws=Ri||fc;function Jp(Q,ae){return La(Q,ae)}function _h(Q){if(!xh(Q))return!1;var ae=Ds(Q);return ae==p||ae==d||ae==u||ae==x}function Sh(Q){return typeof Q=="number"&&Q>-1&&Q%1==0&&Q<=s}function xh(Q){var ae=typeof Q;return Q!=null&&(ae=="object"||ae=="function")}function js(Q){return Q!=null&&typeof Q=="object"}var Ch=ot?Ue(ot):ph;function eg(Q){return Zp(Q)?Un(Q):Qp(Q)}function Th(){return[]}function fc(){return!1}t.exports=Jp})(cd,cd.exports);var gC=cd.exports,vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.getAceInstance=vi.debounce=vi.editorEvents=vi.editorOptions=void 0;var XN=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];vi.editorOptions=XN;var ZN=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];vi.editorEvents=ZN;var JN=function(){var t;return typeof window>"u"?(_n.window={},t=xu,delete _n.window):window.ace?(t=window.ace,t.acequire=window.ace.require||window.ace.acequire):t=xu,t};vi.getAceInstance=JN;var eP=function(t,e){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(r,i)},e)}};vi.debounce=eP;var tP=_n&&_n.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kv=_n&&_n.__assign||function(){return kv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kv.apply(this,arguments)};Object.defineProperty(m0,"__esModule",{value:!0});var nP=xu,je=u0,d1=V,Jh=gC,Ga=vi,p1=(0,Ga.getAceInstance)(),rP=function(t){tP(e,t);function e(n){var r=t.call(this,n)||this;return Ga.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=Ga.debounce,r}return e.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},e.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,o=r.onBeforeLoad,s=r.onValidate,l=r.mode,a=r.focus,u=r.theme,c=r.fontSize,h=r.lineHeight,f=r.value,p=r.defaultValue,d=r.showGutter,g=r.wrapEnabled,m=r.showPrintMargin,v=r.scrollMargin,b=v===void 0?[0,0,0,0]:v,C=r.keyboardHandler,x=r.onLoad,_=r.commands,w=r.annotations,y=r.markers,S=r.placeholder;this.editor=p1.edit(this.refEditor),o&&o(p1);for(var A=Object.keys(this.props.editorProps),M=0;M<A.length;M++)this.editor[A[M]]=this.props.editorProps[A[M]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(b[0],b[1],b[2],b[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof l=="string"?"ace/mode/".concat(l):l),u&&u!==""&&this.editor.setTheme("ace/theme/".concat(u)),this.editor.setFontSize(typeof c=="number"?"".concat(c,"px"):c),h&&(this.editor.container.style.lineHeight=typeof h=="number"?"".concat(h,"px"):"".concat(h),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(p||f||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(d),this.editor.getSession().setUseWrapMode(g),this.editor.setShowPrintMargin(m),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),S&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),s&&this.editor.getSession().on("changeAnnotation",function(){var k=n.editor.getSession().getAnnotations();n.props.onValidate(k)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(w||[]),y&&y.length>0&&this.handleMarkers(y);var R=this.editor.$options;Ga.editorOptions.forEach(function(k){R.hasOwnProperty(k)?n.editor.setOption(k,n.props[k]):n.props[k]&&console.warn("ReactAce: editor option ".concat(k," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(_)&&_.forEach(function(k){typeof k.exec=="string"?n.editor.commands.bindKey(k.bindKey,k.exec):n.editor.commands.addCommand(k)}),C&&this.editor.setKeyboardHandler("ace/keyboard/"+C),i&&(this.refEditor.className+=" "+i),x&&x(this.editor),this.editor.resize(),a&&this.editor.focus()},e.prototype.componentDidUpdate=function(n){for(var r=n,i=this.props,o=0;o<Ga.editorOptions.length;o++){var s=Ga.editorOptions[o];i[s]!==r[s]&&this.editor.setOption(s,i[s])}if(i.className!==r.className){var l=this.refEditor.className,a=l.trim().split(" "),u=r.className.trim().split(" ");u.forEach(function(f){var p=a.indexOf(f);a.splice(p,1)}),this.refEditor.className=" "+i.className+" "+a.join(" ")}var c=this.editor&&i.value!=null&&this.editor.getValue()!==i.value;if(c){this.silent=!0;var h=this.editor.session.selection.toJSON();this.editor.setValue(i.value,i.cursorStart),this.editor.session.selection.fromJSON(h),this.silent=!1}i.placeholder!==r.placeholder&&this.updatePlaceholder(),i.mode!==r.mode&&this.editor.getSession().setMode(typeof i.mode=="string"?"ace/mode/".concat(i.mode):i.mode),i.theme!==r.theme&&this.editor.setTheme("ace/theme/"+i.theme),i.keyboardHandler!==r.keyboardHandler&&(i.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+i.keyboardHandler):this.editor.setKeyboardHandler(null)),i.fontSize!==r.fontSize&&this.editor.setFontSize(typeof i.fontSize=="number"?"".concat(i.fontSize,"px"):i.fontSize),i.lineHeight!==r.lineHeight&&(this.editor.container.style.lineHeight=typeof i.lineHeight=="number"?"".concat(i.lineHeight,"px"):i.lineHeight,this.editor.renderer.updateFontSize()),i.wrapEnabled!==r.wrapEnabled&&this.editor.getSession().setUseWrapMode(i.wrapEnabled),i.showPrintMargin!==r.showPrintMargin&&this.editor.setShowPrintMargin(i.showPrintMargin),i.showGutter!==r.showGutter&&this.editor.renderer.setShowGutter(i.showGutter),Jh(i.setOptions,r.setOptions)||this.handleOptions(i),(c||!Jh(i.annotations,r.annotations))&&this.editor.getSession().setAnnotations(i.annotations||[]),!Jh(i.markers,r.markers)&&Array.isArray(i.markers)&&this.handleMarkers(i.markers),Jh(i.scrollMargin,r.scrollMargin)||this.handleScrollMargins(i.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},e.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},e.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},e.prototype.onChange=function(n){if(this.editor&&this.props.onChange&&!this.silent){var r=this.editor.getValue();this.props.onChange(r,n)}},e.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=this.editor.getSelection();this.props.onSelectionChange(r,n)}},e.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=this.editor.getSelection();this.props.onCursorChange(r,n)}},e.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},e.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},e.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},e.prototype.onCopy=function(n){var r=n.text;this.props.onCopy&&this.props.onCopy(r)},e.prototype.onPaste=function(n){var r=n.text;this.props.onPaste&&this.props.onPaste(r)},e.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},e.prototype.handleOptions=function(n){for(var r=Object.keys(n.setOptions),i=0;i<r.length;i++)this.editor.setOption(r[i],n.setOptions[r[i]])},e.prototype.handleMarkers=function(n){var r=this,i=this.editor.getSession().getMarkers(!0);for(var o in i)i.hasOwnProperty(o)&&this.editor.getSession().removeMarker(i[o].id);i=this.editor.getSession().getMarkers(!1);for(var o in i)i.hasOwnProperty(o)&&i[o].clazz!=="ace_active-line"&&i[o].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(i[o].id);n.forEach(function(s){var l=s.startRow,a=s.startCol,u=s.endRow,c=s.endCol,h=s.className,f=s.type,p=s.inFront,d=p===void 0?!1:p,g=new nP.Range(l,a,u,c);r.editor.getSession().addMarker(g,h,f,d)})},e.prototype.updatePlaceholder=function(){var n=this.editor,r=this.props.placeholder,i=!n.session.getValue().length,o=n.renderer.placeholderNode;!i&&o?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):i&&!o?(o=n.renderer.placeholderNode=document.createElement("div"),o.textContent=r||"",o.className="ace_comment ace_placeholder",o.style.padding="0 9px",o.style.position="absolute",o.style.zIndex="3",n.renderer.scroller.appendChild(o)):i&&o&&(o.textContent=r)},e.prototype.updateRef=function(n){this.refEditor=n},e.prototype.render=function(){var n=this.props,r=n.name,i=n.width,o=n.height,s=n.style,l=kv({width:i,height:o},s);return d1.createElement("div",{ref:this.updateRef,id:r,style:l})},e.propTypes={mode:je.oneOfType([je.string,je.object]),focus:je.bool,theme:je.string,name:je.string,className:je.string,height:je.string,width:je.string,fontSize:je.oneOfType([je.number,je.string]),lineHeight:je.oneOfType([je.number,je.string]),showGutter:je.bool,onChange:je.func,onCopy:je.func,onPaste:je.func,onFocus:je.func,onInput:je.func,onBlur:je.func,onScroll:je.func,value:je.string,defaultValue:je.string,onLoad:je.func,onSelectionChange:je.func,onCursorChange:je.func,onBeforeLoad:je.func,onValidate:je.func,minLines:je.number,maxLines:je.number,readOnly:je.bool,highlightActiveLine:je.bool,tabSize:je.number,showPrintMargin:je.bool,cursorStart:je.number,debounceChangePeriod:je.number,editorProps:je.object,setOptions:je.object,style:je.object,scrollMargin:je.array,annotations:je.array,markers:je.array,keyboardHandler:je.string,wrapEnabled:je.bool,enableSnippets:je.bool,enableBasicAutocompletion:je.oneOfType([je.bool,je.array]),enableLiveAutocompletion:je.oneOfType([je.bool,je.array]),navigateToFileEnd:je.bool,commands:je.array,placeholder:je.string},e.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},e}(d1.Component);m0.default=rP;var v0={},lp={},mC={exports:{}};(function(t,e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,r,i){var o=n("./lib/oop");n("./lib/lang");var s=n("./lib/event_emitter").EventEmitter,l=n("./editor").Editor,a=n("./virtual_renderer").VirtualRenderer,u=n("./edit_session").EditSession,c;c=function(h,f,p){this.BELOW=1,this.BESIDE=0,this.$container=h,this.$theme=f,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(p||1),this.$cEditor=this.$editors[0],this.on("focus",(function(d){this.$cEditor=d}).bind(this))},(function(){o.implement(this,s),this.$createEditor=function(){var h=document.createElement("div");h.className=this.$editorCSS,h.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(h);var f=new l(new a(h,this.$theme));return f.on("focus",(function(){this._emit("focus",f)}).bind(this)),this.$editors.push(f),f.setFontSize(this.$fontSize),f},this.setSplits=function(h){var f;if(h<1)throw"The number of splits have to be > 0!";if(h!=this.$splits){if(h>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<h;)f=this.$editors[this.$splits],this.$container.appendChild(f.container),f.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<h;)this.$createEditor(),this.$splits++}else for(;this.$splits>h;)f=this.$editors[this.$splits-1],this.$container.removeChild(f.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(h){return this.$editors[h]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(h){this.$editors.forEach(function(f){f.setTheme(h)})},this.setKeyboardHandler=function(h){this.$editors.forEach(function(f){f.setKeyboardHandler(h)})},this.forEach=function(h,f){this.$editors.forEach(h,f)},this.$fontSize="",this.setFontSize=function(h){this.$fontSize=h,this.forEach(function(f){f.setFontSize(h)})},this.$cloneSession=function(h){var f=new u(h.getDocument(),h.getMode()),p=h.getUndoManager();return f.setUndoManager(p),f.setTabSize(h.getTabSize()),f.setUseSoftTabs(h.getUseSoftTabs()),f.setOverwrite(h.getOverwrite()),f.setBreakpoints(h.getBreakpoints()),f.setUseWrapMode(h.getUseWrapMode()),f.setUseWorker(h.getUseWorker()),f.setWrapLimitRange(h.$wrapLimitRange.min,h.$wrapLimitRange.max),f.$foldData=h.$cloneFoldData(),f},this.setSession=function(h,f){var p;f==null?p=this.$cEditor:p=this.$editors[f];var d=this.$editors.some(function(g){return g.session===h});return d&&(h=this.$cloneSession(h)),p.setSession(h),h},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(h){this.$orientation!=h&&(this.$orientation=h,this.resize())},this.resize=function(){var h=this.$container.clientWidth,f=this.$container.clientHeight,p;if(this.$orientation==this.BESIDE)for(var d=h/this.$splits,g=0;g<this.$splits;g++)p=this.$editors[g],p.container.style.width=d+"px",p.container.style.top="0px",p.container.style.left=g*d+"px",p.container.style.height=f+"px",p.resize();else for(var m=f/this.$splits,g=0;g<this.$splits;g++)p=this.$editors[g],p.container.style.width=h+"px",p.container.style.top=g*m+"px",p.container.style.left="0px",p.container.style.height=m+"px",p.resize()}}).call(c.prototype),r.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(n,r,i){i.exports=n("../split")}),function(){ace.require(["ace/ext/split"],function(n){t&&(t.exports=n)})}()})(mC);var iP=mC.exports,oP="Expected a function",vC="__lodash_hash_undefined__",yC=1/0,sP="[object Function]",aP="[object GeneratorFunction]",lP="[object Symbol]",cP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uP=/^\w*$/,hP=/^\./,fP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dP=/[\\^$.*+?()[\]{}|]/g,pP=/\\(\\)?/g,gP=/^\[object .+?Constructor\]$/,mP=typeof _n=="object"&&_n&&_n.Object===Object&&_n,vP=typeof self=="object"&&self&&self.Object===Object&&self,y0=mP||vP||Function("return this")();function yP(t,e){return t==null?void 0:t[e]}function wP(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var bP=Array.prototype,_P=Function.prototype,wC=Object.prototype,em=y0["__core-js_shared__"],g1=function(){var t=/[^.]+$/.exec(em&&em.keys&&em.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),bC=_P.toString,w0=wC.hasOwnProperty,_C=wC.toString,SP=RegExp("^"+bC.call(w0).replace(dP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m1=y0.Symbol,xP=bP.splice,CP=SC(y0,"Map"),Cu=SC(Object,"create"),v1=m1?m1.prototype:void 0,y1=v1?v1.toString:void 0;function pa(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function TP(){this.__data__=Cu?Cu(null):{}}function kP(t){return this.has(t)&&delete this.__data__[t]}function AP(t){var e=this.__data__;if(Cu){var n=e[t];return n===vC?void 0:n}return w0.call(e,t)?e[t]:void 0}function MP(t){var e=this.__data__;return Cu?e[t]!==void 0:w0.call(e,t)}function EP(t,e){var n=this.__data__;return n[t]=Cu&&e===void 0?vC:e,this}pa.prototype.clear=TP;pa.prototype.delete=kP;pa.prototype.get=AP;pa.prototype.has=MP;pa.prototype.set=EP;function Gl(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $P(){this.__data__=[]}function RP(t){var e=this.__data__,n=cp(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():xP.call(e,n,1),!0}function LP(t){var e=this.__data__,n=cp(e,t);return n<0?void 0:e[n][1]}function NP(t){return cp(this.__data__,t)>-1}function PP(t,e){var n=this.__data__,r=cp(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}Gl.prototype.clear=$P;Gl.prototype.delete=RP;Gl.prototype.get=LP;Gl.prototype.has=NP;Gl.prototype.set=PP;function xa(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function OP(){this.__data__={hash:new pa,map:new(CP||Gl),string:new pa}}function IP(t){return up(this,t).delete(t)}function DP(t){return up(this,t).get(t)}function FP(t){return up(this,t).has(t)}function WP(t,e){return up(this,t).set(t,e),this}xa.prototype.clear=OP;xa.prototype.delete=IP;xa.prototype.get=DP;xa.prototype.has=FP;xa.prototype.set=WP;function cp(t,e){for(var n=t.length;n--;)if(QP(t[n][0],e))return n;return-1}function jP(t,e){e=VP(e,t)?[e]:HP(e);for(var n=0,r=e.length;t!=null&&n<r;)t=t[KP(e[n++])];return n&&n==r?t:void 0}function BP(t){if(!CC(t)||GP(t))return!1;var e=XP(t)||wP(t)?SP:gP;return e.test(YP(t))}function zP(t){if(typeof t=="string")return t;if(_0(t))return y1?y1.call(t):"";var e=t+"";return e=="0"&&1/t==-yC?"-0":e}function HP(t){return xC(t)?t:qP(t)}function up(t,e){var n=t.__data__;return UP(e)?n[typeof e=="string"?"string":"hash"]:n.map}function SC(t,e){var n=yP(t,e);return BP(n)?n:void 0}function VP(t,e){if(xC(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_0(t)?!0:uP.test(t)||!cP.test(t)||e!=null&&t in Object(e)}function UP(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function GP(t){return!!g1&&g1 in t}var qP=b0(function(t){t=JP(t);var e=[];return hP.test(t)&&e.push(""),t.replace(fP,function(n,r,i,o){e.push(i?o.replace(pP,"$1"):r||n)}),e});function KP(t){if(typeof t=="string"||_0(t))return t;var e=t+"";return e=="0"&&1/t==-yC?"-0":e}function YP(t){if(t!=null){try{return bC.call(t)}catch{}try{return t+""}catch{}}return""}function b0(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(oP);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(b0.Cache||xa),n}b0.Cache=xa;function QP(t,e){return t===e||t!==t&&e!==e}var xC=Array.isArray;function XP(t){var e=CC(t)?_C.call(t):"";return e==sP||e==aP}function CC(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ZP(t){return!!t&&typeof t=="object"}function _0(t){return typeof t=="symbol"||ZP(t)&&_C.call(t)==lP}function JP(t){return t==null?"":zP(t)}function eO(t,e,n){var r=t==null?void 0:jP(t,e);return r===void 0?n:r}var tO=eO,nO=_n&&_n.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Av=_n&&_n.__assign||function(){return Av=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Av.apply(this,arguments)};Object.defineProperty(lp,"__esModule",{value:!0});var qs=vi,tm=(0,qs.getAceInstance)(),rO=xu,iO=iP,Ge=u0,w1=V,nm=gC,fo=tO,oO=function(t){nO(e,t);function e(n){var r=t.call(this,n)||this;return qs.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=qs.debounce,r}return e.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},e.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,o=r.onBeforeLoad,s=r.mode,l=r.focus,a=r.theme,u=r.fontSize,c=r.value,h=r.defaultValue,f=r.cursorStart,p=r.showGutter,d=r.wrapEnabled,g=r.showPrintMargin,m=r.scrollMargin,v=m===void 0?[0,0,0,0]:m,b=r.keyboardHandler,C=r.onLoad,x=r.commands,_=r.annotations,w=r.markers,y=r.splits;this.editor=tm.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(a)),o&&o(tm);var S=Object.keys(this.props.editorProps),A=new iO.Split(this.editor.container,"ace/theme/".concat(a),y);this.editor.env.split=A,this.splitEditor=A.getEditor(0),this.split=A,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var M=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),A.forEach(function(k,$){for(var E=0;E<S.length;E++)k[S[E]]=n.props.editorProps[S[E]];var L=fo(h,$),P=fo(c,$,"");k.session.setUndoManager(new tm.UndoManager),k.setTheme("ace/theme/".concat(a)),k.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),k.getSession().setMode("ace/mode/".concat(s)),k.setFontSize(u),k.renderer.setShowGutter(p),k.getSession().setUseWrapMode(d),k.setShowPrintMargin(g),k.on("focus",n.onFocus),k.on("blur",n.onBlur),k.on("input",n.onInput),k.on("copy",n.onCopy),k.on("paste",n.onPaste),k.on("change",n.onChange),k.getSession().selection.on("changeSelection",n.onSelectionChange),k.getSession().selection.on("changeCursor",n.onCursorChange),k.session.on("changeScrollTop",n.onScroll),k.setValue(L===void 0?P:L,f);var I=fo(_,$,[]),D=fo(w,$,[]);k.getSession().setAnnotations(I),D&&D.length>0&&n.handleMarkers(D,k);for(var E=0;E<qs.editorOptions.length;E++){var W=qs.editorOptions[E];M.hasOwnProperty(W)?k.setOption(W,n.props[W]):n.props[W]&&console.warn("ReaceAce: editor option ".concat(W," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}n.handleOptions(n.props,k),Array.isArray(x)&&x.forEach(function(z){typeof z.exec=="string"?k.commands.bindKey(z.bindKey,z.exec):k.commands.addCommand(z)}),b&&k.setKeyboardHandler("ace/keyboard/"+b)}),i&&(this.refEditor.className+=" "+i),l&&this.splitEditor.focus();var R=this.editor.env.split;R.setOrientation(this.props.orientation==="below"?R.BELOW:R.BESIDE),R.resize(!0),C&&C(R)},e.prototype.componentDidUpdate=function(n){var r=this,i=n,o=this.props,s=this.editor.env.split;if(o.splits!==i.splits&&s.setSplits(o.splits),o.orientation!==i.orientation&&s.setOrientation(o.orientation==="below"?s.BELOW:s.BESIDE),s.forEach(function(c,h){o.mode!==i.mode&&c.getSession().setMode("ace/mode/"+o.mode),o.keyboardHandler!==i.keyboardHandler&&(o.keyboardHandler?c.setKeyboardHandler("ace/keyboard/"+o.keyboardHandler):c.setKeyboardHandler(null)),o.fontSize!==i.fontSize&&c.setFontSize(o.fontSize),o.wrapEnabled!==i.wrapEnabled&&c.getSession().setUseWrapMode(o.wrapEnabled),o.showPrintMargin!==i.showPrintMargin&&c.setShowPrintMargin(o.showPrintMargin),o.showGutter!==i.showGutter&&c.renderer.setShowGutter(o.showGutter);for(var f=0;f<qs.editorOptions.length;f++){var p=qs.editorOptions[f];o[p]!==i[p]&&c.setOption(p,o[p])}nm(o.setOptions,i.setOptions)||r.handleOptions(o,c);var d=fo(o.value,h,"");if(c.getValue()!==d){r.silent=!0;var g=c.session.selection.toJSON();c.setValue(d,o.cursorStart),c.session.selection.fromJSON(g),r.silent=!1}var m=fo(o.annotations,h,[]),v=fo(i.annotations,h,[]);nm(m,v)||c.getSession().setAnnotations(m);var b=fo(o.markers,h,[]),C=fo(i.markers,h,[]);!nm(b,C)&&Array.isArray(b)&&r.handleMarkers(b,c)}),o.className!==i.className){var l=this.refEditor.className,a=l.trim().split(" "),u=i.className.trim().split(" ");u.forEach(function(c){var h=a.indexOf(c);a.splice(h,1)}),this.refEditor.className=" "+o.className+" "+a.join(" ")}o.theme!==i.theme&&s.setTheme("ace/theme/"+o.theme),o.focus&&!i.focus&&this.splitEditor.focus(),(o.height!==this.props.height||o.width!==this.props.width)&&this.editor.resize()},e.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},e.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getValue())}),this.props.onChange(r,n)}},e.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onSelectionChange(r,n)}},e.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onCursorChange(r,n)}},e.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n)},e.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n)},e.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n)},e.prototype.onCopy=function(n){this.props.onCopy&&this.props.onCopy(n)},e.prototype.onPaste=function(n){this.props.onPaste&&this.props.onPaste(n)},e.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},e.prototype.handleOptions=function(n,r){for(var i=Object.keys(n.setOptions),o=0;o<i.length;o++)r.setOption(i[o],n.setOptions[i[o]])},e.prototype.handleMarkers=function(n,r){var i=r.getSession().getMarkers(!0);for(var o in i)i.hasOwnProperty(o)&&r.getSession().removeMarker(i[o].id);i=r.getSession().getMarkers(!1);for(var o in i)i.hasOwnProperty(o)&&r.getSession().removeMarker(i[o].id);n.forEach(function(s){var l=s.startRow,a=s.startCol,u=s.endRow,c=s.endCol,h=s.className,f=s.type,p=s.inFront,d=p===void 0?!1:p,g=new rO.Range(l,a,u,c);r.getSession().addMarker(g,h,f,d)})},e.prototype.updateRef=function(n){this.refEditor=n},e.prototype.render=function(){var n=this.props,r=n.name,i=n.width,o=n.height,s=n.style,l=Av({width:i,height:o},s);return w1.createElement("div",{ref:this.updateRef,id:r,style:l})},e.propTypes={className:Ge.string,debounceChangePeriod:Ge.number,defaultValue:Ge.arrayOf(Ge.string),focus:Ge.bool,fontSize:Ge.oneOfType([Ge.number,Ge.string]),height:Ge.string,mode:Ge.string,name:Ge.string,onBlur:Ge.func,onChange:Ge.func,onCopy:Ge.func,onFocus:Ge.func,onInput:Ge.func,onLoad:Ge.func,onPaste:Ge.func,onScroll:Ge.func,orientation:Ge.string,showGutter:Ge.bool,splits:Ge.number,theme:Ge.string,value:Ge.arrayOf(Ge.string),width:Ge.string,onSelectionChange:Ge.func,onCursorChange:Ge.func,onBeforeLoad:Ge.func,minLines:Ge.number,maxLines:Ge.number,readOnly:Ge.bool,highlightActiveLine:Ge.bool,tabSize:Ge.number,showPrintMargin:Ge.bool,cursorStart:Ge.number,editorProps:Ge.object,setOptions:Ge.object,style:Ge.object,scrollMargin:Ge.array,annotations:Ge.array,markers:Ge.array,keyboardHandler:Ge.string,wrapEnabled:Ge.bool,enableBasicAutocompletion:Ge.oneOfType([Ge.bool,Ge.array]),enableLiveAutocompletion:Ge.oneOfType([Ge.bool,Ge.array]),commands:Ge.array},e.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},e}(w1.Component);lp.default=oO;var TC={exports:{}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;e.Diff=function(o,s){return[o,s]},e.prototype.diff_main=function(o,s,l,a){typeof a>"u"&&(this.Diff_Timeout<=0?a=Number.MAX_VALUE:a=new Date().getTime()+this.Diff_Timeout*1e3);var u=a;if(o==null||s==null)throw new Error("Null input. (diff_main)");if(o==s)return o?[new e.Diff(i,o)]:[];typeof l>"u"&&(l=!0);var c=l,h=this.diff_commonPrefix(o,s),f=o.substring(0,h);o=o.substring(h),s=s.substring(h),h=this.diff_commonSuffix(o,s);var p=o.substring(o.length-h);o=o.substring(0,o.length-h),s=s.substring(0,s.length-h);var d=this.diff_compute_(o,s,c,u);return f&&d.unshift(new e.Diff(i,f)),p&&d.push(new e.Diff(i,p)),this.diff_cleanupMerge(d),d},e.prototype.diff_compute_=function(o,s,l,a){var u;if(!o)return[new e.Diff(r,s)];if(!s)return[new e.Diff(n,o)];var c=o.length>s.length?o:s,h=o.length>s.length?s:o,f=c.indexOf(h);if(f!=-1)return u=[new e.Diff(r,c.substring(0,f)),new e.Diff(i,h),new e.Diff(r,c.substring(f+h.length))],o.length>s.length&&(u[0][0]=u[2][0]=n),u;if(h.length==1)return[new e.Diff(n,o),new e.Diff(r,s)];var p=this.diff_halfMatch_(o,s);if(p){var d=p[0],g=p[1],m=p[2],v=p[3],b=p[4],C=this.diff_main(d,m,l,a),x=this.diff_main(g,v,l,a);return C.concat([new e.Diff(i,b)],x)}return l&&o.length>100&&s.length>100?this.diff_lineMode_(o,s,a):this.diff_bisect_(o,s,a)},e.prototype.diff_lineMode_=function(o,s,l){var a=this.diff_linesToChars_(o,s);o=a.chars1,s=a.chars2;var u=a.lineArray,c=this.diff_main(o,s,!1,l);this.diff_charsToLines_(c,u),this.diff_cleanupSemantic(c),c.push(new e.Diff(i,""));for(var h=0,f=0,p=0,d="",g="";h<c.length;){switch(c[h][0]){case r:p++,g+=c[h][1];break;case n:f++,d+=c[h][1];break;case i:if(f>=1&&p>=1){c.splice(h-f-p,f+p),h=h-f-p;for(var m=this.diff_main(d,g,!1,l),v=m.length-1;v>=0;v--)c.splice(h,0,m[v]);h=h+m.length}p=0,f=0,d="",g="";break}h++}return c.pop(),c},e.prototype.diff_bisect_=function(o,s,l){for(var a=o.length,u=s.length,c=Math.ceil((a+u)/2),h=c,f=2*c,p=new Array(f),d=new Array(f),g=0;g<f;g++)p[g]=-1,d[g]=-1;p[h+1]=0,d[h+1]=0;for(var m=a-u,v=m%2!=0,b=0,C=0,x=0,_=0,w=0;w<c&&!(new Date().getTime()>l);w++){for(var y=-w+b;y<=w-C;y+=2){var S=h+y,A;y==-w||y!=w&&p[S-1]<p[S+1]?A=p[S+1]:A=p[S-1]+1;for(var M=A-y;A<a&&M<u&&o.charAt(A)==s.charAt(M);)A++,M++;if(p[S]=A,A>a)C+=2;else if(M>u)b+=2;else if(v){var R=h+m-y;if(R>=0&&R<f&&d[R]!=-1){var k=a-d[R];if(A>=k)return this.diff_bisectSplit_(o,s,A,M,l)}}}for(var $=-w+x;$<=w-_;$+=2){var R=h+$,k;$==-w||$!=w&&d[R-1]<d[R+1]?k=d[R+1]:k=d[R-1]+1;for(var E=k-$;k<a&&E<u&&o.charAt(a-k-1)==s.charAt(u-E-1);)k++,E++;if(d[R]=k,k>a)_+=2;else if(E>u)x+=2;else if(!v){var S=h+m-$;if(S>=0&&S<f&&p[S]!=-1){var A=p[S],M=h+A-S;if(k=a-k,A>=k)return this.diff_bisectSplit_(o,s,A,M,l)}}}}return[new e.Diff(n,o),new e.Diff(r,s)]},e.prototype.diff_bisectSplit_=function(o,s,l,a,u){var c=o.substring(0,l),h=s.substring(0,a),f=o.substring(l),p=s.substring(a),d=this.diff_main(c,h,!1,u),g=this.diff_main(f,p,!1,u);return d.concat(g)},e.prototype.diff_linesToChars_=function(o,s){var l=[],a={};l[0]="";function u(p){for(var d="",g=0,m=-1,v=l.length;m<p.length-1;){m=p.indexOf(`
`,g),m==-1&&(m=p.length-1);var b=p.substring(g,m+1);(a.hasOwnProperty?a.hasOwnProperty(b):a[b]!==void 0)?d+=String.fromCharCode(a[b]):(v==c&&(b=p.substring(g),m=p.length),d+=String.fromCharCode(v),a[b]=v,l[v++]=b),g=m+1}return d}var c=4e4,h=u(o);c=65535;var f=u(s);return{chars1:h,chars2:f,lineArray:l}},e.prototype.diff_charsToLines_=function(o,s){for(var l=0;l<o.length;l++){for(var a=o[l][1],u=[],c=0;c<a.length;c++)u[c]=s[a.charCodeAt(c)];o[l][1]=u.join("")}},e.prototype.diff_commonPrefix=function(o,s){if(!o||!s||o.charAt(0)!=s.charAt(0))return 0;for(var l=0,a=Math.min(o.length,s.length),u=a,c=0;l<u;)o.substring(c,u)==s.substring(c,u)?(l=u,c=l):a=u,u=Math.floor((a-l)/2+l);return u},e.prototype.diff_commonSuffix=function(o,s){if(!o||!s||o.charAt(o.length-1)!=s.charAt(s.length-1))return 0;for(var l=0,a=Math.min(o.length,s.length),u=a,c=0;l<u;)o.substring(o.length-u,o.length-c)==s.substring(s.length-u,s.length-c)?(l=u,c=l):a=u,u=Math.floor((a-l)/2+l);return u},e.prototype.diff_commonOverlap_=function(o,s){var l=o.length,a=s.length;if(l==0||a==0)return 0;l>a?o=o.substring(l-a):l<a&&(s=s.substring(0,l));var u=Math.min(l,a);if(o==s)return u;for(var c=0,h=1;;){var f=o.substring(u-h),p=s.indexOf(f);if(p==-1)return c;h+=p,(p==0||o.substring(u-h)==s.substring(0,h))&&(c=h,h++)}},e.prototype.diff_halfMatch_=function(o,s){if(this.Diff_Timeout<=0)return null;var l=o.length>s.length?o:s,a=o.length>s.length?s:o;if(l.length<4||a.length*2<l.length)return null;var u=this;function c(C,x,_){for(var w=C.substring(_,_+Math.floor(C.length/4)),y=-1,S="",A,M,R,k;(y=x.indexOf(w,y+1))!=-1;){var $=u.diff_commonPrefix(C.substring(_),x.substring(y)),E=u.diff_commonSuffix(C.substring(0,_),x.substring(0,y));S.length<E+$&&(S=x.substring(y-E,y)+x.substring(y,y+$),A=C.substring(0,_-E),M=C.substring(_+$),R=x.substring(0,y-E),k=x.substring(y+$))}return S.length*2>=C.length?[A,M,R,k,S]:null}var h=c(l,a,Math.ceil(l.length/4)),f=c(l,a,Math.ceil(l.length/2)),p;if(!h&&!f)return null;f?h?p=h[4].length>f[4].length?h:f:p=f:p=h;var d,g,m,v;o.length>s.length?(d=p[0],g=p[1],m=p[2],v=p[3]):(m=p[0],v=p[1],d=p[2],g=p[3]);var b=p[4];return[d,g,m,v,b]},e.prototype.diff_cleanupSemantic=function(o){for(var s=!1,l=[],a=0,u=null,c=0,h=0,f=0,p=0,d=0;c<o.length;)o[c][0]==i?(l[a++]=c,h=p,f=d,p=0,d=0,u=o[c][1]):(o[c][0]==r?p+=o[c][1].length:d+=o[c][1].length,u&&u.length<=Math.max(h,f)&&u.length<=Math.max(p,d)&&(o.splice(l[a-1],0,new e.Diff(n,u)),o[l[a-1]+1][0]=r,a--,a--,c=a>0?l[a-1]:-1,h=0,f=0,p=0,d=0,u=null,s=!0)),c++;for(s&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),c=1;c<o.length;){if(o[c-1][0]==n&&o[c][0]==r){var g=o[c-1][1],m=o[c][1],v=this.diff_commonOverlap_(g,m),b=this.diff_commonOverlap_(m,g);v>=b?(v>=g.length/2||v>=m.length/2)&&(o.splice(c,0,new e.Diff(i,m.substring(0,v))),o[c-1][1]=g.substring(0,g.length-v),o[c+1][1]=m.substring(v),c++):(b>=g.length/2||b>=m.length/2)&&(o.splice(c,0,new e.Diff(i,g.substring(0,b))),o[c-1][0]=r,o[c-1][1]=m.substring(0,m.length-b),o[c+1][0]=n,o[c+1][1]=g.substring(b),c++),c++}c++}},e.prototype.diff_cleanupSemanticLossless=function(o){function s(b,C){if(!b||!C)return 6;var x=b.charAt(b.length-1),_=C.charAt(0),w=x.match(e.nonAlphaNumericRegex_),y=_.match(e.nonAlphaNumericRegex_),S=w&&x.match(e.whitespaceRegex_),A=y&&_.match(e.whitespaceRegex_),M=S&&x.match(e.linebreakRegex_),R=A&&_.match(e.linebreakRegex_),k=M&&b.match(e.blanklineEndRegex_),$=R&&C.match(e.blanklineStartRegex_);return k||$?5:M||R?4:w&&!S&&A?3:S||A?2:w||y?1:0}for(var l=1;l<o.length-1;){if(o[l-1][0]==i&&o[l+1][0]==i){var a=o[l-1][1],u=o[l][1],c=o[l+1][1],h=this.diff_commonSuffix(a,u);if(h){var f=u.substring(u.length-h);a=a.substring(0,a.length-h),u=f+u.substring(0,u.length-h),c=f+c}for(var p=a,d=u,g=c,m=s(a,u)+s(u,c);u.charAt(0)===c.charAt(0);){a+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var v=s(a,u)+s(u,c);v>=m&&(m=v,p=a,d=u,g=c)}o[l-1][1]!=p&&(p?o[l-1][1]=p:(o.splice(l-1,1),l--),o[l][1]=d,g?o[l+1][1]=g:(o.splice(l+1,1),l--))}l++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(o){for(var s=!1,l=[],a=0,u=null,c=0,h=!1,f=!1,p=!1,d=!1;c<o.length;)o[c][0]==i?(o[c][1].length<this.Diff_EditCost&&(p||d)?(l[a++]=c,h=p,f=d,u=o[c][1]):(a=0,u=null),p=d=!1):(o[c][0]==n?d=!0:p=!0,u&&(h&&f&&p&&d||u.length<this.Diff_EditCost/2&&h+f+p+d==3)&&(o.splice(l[a-1],0,new e.Diff(n,u)),o[l[a-1]+1][0]=r,a--,u=null,h&&f?(p=d=!0,a=0):(a--,c=a>0?l[a-1]:-1,p=d=!1),s=!0)),c++;s&&this.diff_cleanupMerge(o)},e.prototype.diff_cleanupMerge=function(o){o.push(new e.Diff(i,""));for(var s=0,l=0,a=0,u="",c="",h;s<o.length;)switch(o[s][0]){case r:a++,c+=o[s][1],s++;break;case n:l++,u+=o[s][1],s++;break;case i:l+a>1?(l!==0&&a!==0&&(h=this.diff_commonPrefix(c,u),h!==0&&(s-l-a>0&&o[s-l-a-1][0]==i?o[s-l-a-1][1]+=c.substring(0,h):(o.splice(0,0,new e.Diff(i,c.substring(0,h))),s++),c=c.substring(h),u=u.substring(h)),h=this.diff_commonSuffix(c,u),h!==0&&(o[s][1]=c.substring(c.length-h)+o[s][1],c=c.substring(0,c.length-h),u=u.substring(0,u.length-h))),s-=l+a,o.splice(s,l+a),u.length&&(o.splice(s,0,new e.Diff(n,u)),s++),c.length&&(o.splice(s,0,new e.Diff(r,c)),s++),s++):s!==0&&o[s-1][0]==i?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,a=0,l=0,u="",c="";break}o[o.length-1][1]===""&&o.pop();var f=!1;for(s=1;s<o.length-1;)o[s-1][0]==i&&o[s+1][0]==i&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)==o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),f=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),f=!0)),s++;f&&this.diff_cleanupMerge(o)},e.prototype.diff_xIndex=function(o,s){var l=0,a=0,u=0,c=0,h;for(h=0;h<o.length&&(o[h][0]!==r&&(l+=o[h][1].length),o[h][0]!==n&&(a+=o[h][1].length),!(l>s));h++)u=l,c=a;return o.length!=h&&o[h][0]===n?c:c+(s-u)},e.prototype.diff_prettyHtml=function(o){for(var s=[],l=/&/g,a=/</g,u=/>/g,c=/\n/g,h=0;h<o.length;h++){var f=o[h][0],p=o[h][1],d=p.replace(l,"&amp;").replace(a,"&lt;").replace(u,"&gt;").replace(c,"&para;<br>");switch(f){case r:s[h]='<ins style="background:#e6ffe6;">'+d+"</ins>";break;case n:s[h]='<del style="background:#ffe6e6;">'+d+"</del>";break;case i:s[h]="<span>"+d+"</span>";break}}return s.join("")},e.prototype.diff_text1=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==r&&(s[l]=o[l][1]);return s.join("")},e.prototype.diff_text2=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==n&&(s[l]=o[l][1]);return s.join("")},e.prototype.diff_levenshtein=function(o){for(var s=0,l=0,a=0,u=0;u<o.length;u++){var c=o[u][0],h=o[u][1];switch(c){case r:l+=h.length;break;case n:a+=h.length;break;case i:s+=Math.max(l,a),l=0,a=0;break}}return s+=Math.max(l,a),s},e.prototype.diff_toDelta=function(o){for(var s=[],l=0;l<o.length;l++)switch(o[l][0]){case r:s[l]="+"+encodeURI(o[l][1]);break;case n:s[l]="-"+o[l][1].length;break;case i:s[l]="="+o[l][1].length;break}return s.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(o,s){for(var l=[],a=0,u=0,c=s.split(/\t/g),h=0;h<c.length;h++){var f=c[h].substring(1);switch(c[h].charAt(0)){case"+":try{l[a++]=new e.Diff(r,decodeURI(f))}catch{throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var p=parseInt(f,10);if(isNaN(p)||p<0)throw new Error("Invalid number in diff_fromDelta: "+f);var d=o.substring(u,u+=p);c[h].charAt(0)=="="?l[a++]=new e.Diff(i,d):l[a++]=new e.Diff(n,d);break;default:if(c[h])throw new Error("Invalid diff operation in diff_fromDelta: "+c[h])}}if(u!=o.length)throw new Error("Delta length ("+u+") does not equal source text length ("+o.length+").");return l},e.prototype.match_main=function(o,s,l){if(o==null||s==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,o.length)),o==s?0:o.length?o.substring(l,l+s.length)==s?l:this.match_bitap_(o,s,l):-1},e.prototype.match_bitap_=function(o,s,l){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var a=this.match_alphabet_(s),u=this;function c(A,M){var R=A/s.length,k=Math.abs(l-M);return u.Match_Distance?R+k/u.Match_Distance:k?1:R}var h=this.Match_Threshold,f=o.indexOf(s,l);f!=-1&&(h=Math.min(c(0,f),h),f=o.lastIndexOf(s,l+s.length),f!=-1&&(h=Math.min(c(0,f),h)));var p=1<<s.length-1;f=-1;for(var d,g,m=s.length+o.length,v,b=0;b<s.length;b++){for(d=0,g=m;d<g;)c(b,l+g)<=h?d=g:m=g,g=Math.floor((m-d)/2+d);m=g;var C=Math.max(1,l-g+1),x=Math.min(l+g,o.length)+s.length,_=Array(x+2);_[x+1]=(1<<b)-1;for(var w=x;w>=C;w--){var y=a[o.charAt(w-1)];if(b===0?_[w]=(_[w+1]<<1|1)&y:_[w]=(_[w+1]<<1|1)&y|((v[w+1]|v[w])<<1|1)|v[w+1],_[w]&p){var S=c(b,w-1);if(S<=h)if(h=S,f=w-1,f>l)C=Math.max(1,2*l-f);else break}}if(c(b+1,l)>h)break;v=_}return f},e.prototype.match_alphabet_=function(o){for(var s={},l=0;l<o.length;l++)s[o.charAt(l)]=0;for(var l=0;l<o.length;l++)s[o.charAt(l)]|=1<<o.length-l-1;return s},e.prototype.patch_addContext_=function(o,s){if(s.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var l=s.substring(o.start2,o.start2+o.length1),a=0;s.indexOf(l)!=s.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)a+=this.Patch_Margin,l=s.substring(o.start2-a,o.start2+o.length1+a);a+=this.Patch_Margin;var u=s.substring(o.start2-a,o.start2);u&&o.diffs.unshift(new e.Diff(i,u));var c=s.substring(o.start2+o.length1,o.start2+o.length1+a);c&&o.diffs.push(new e.Diff(i,c)),o.start1-=u.length,o.start2-=u.length,o.length1+=u.length+c.length,o.length2+=u.length+c.length}},e.prototype.patch_make=function(o,s,l){var a,u;if(typeof o=="string"&&typeof s=="string"&&typeof l>"u")a=o,u=this.diff_main(a,s,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(o&&typeof o=="object"&&typeof s>"u"&&typeof l>"u")u=o,a=this.diff_text1(u);else if(typeof o=="string"&&s&&typeof s=="object"&&typeof l>"u")a=o,u=s;else if(typeof o=="string"&&typeof s=="string"&&l&&typeof l=="object")a=o,u=l;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var c=[],h=new e.patch_obj,f=0,p=0,d=0,g=a,m=a,v=0;v<u.length;v++){var b=u[v][0],C=u[v][1];switch(!f&&b!==i&&(h.start1=p,h.start2=d),b){case r:h.diffs[f++]=u[v],h.length2+=C.length,m=m.substring(0,d)+C+m.substring(d);break;case n:h.length1+=C.length,h.diffs[f++]=u[v],m=m.substring(0,d)+m.substring(d+C.length);break;case i:C.length<=2*this.Patch_Margin&&f&&u.length!=v+1?(h.diffs[f++]=u[v],h.length1+=C.length,h.length2+=C.length):C.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(h,g),c.push(h),h=new e.patch_obj,f=0,g=m,p=d);break}b!==r&&(p+=C.length),b!==n&&(d+=C.length)}return f&&(this.patch_addContext_(h,g),c.push(h)),c},e.prototype.patch_deepCopy=function(o){for(var s=[],l=0;l<o.length;l++){var a=o[l],u=new e.patch_obj;u.diffs=[];for(var c=0;c<a.diffs.length;c++)u.diffs[c]=new e.Diff(a.diffs[c][0],a.diffs[c][1]);u.start1=a.start1,u.start2=a.start2,u.length1=a.length1,u.length2=a.length2,s[l]=u}return s},e.prototype.patch_apply=function(o,s){if(o.length==0)return[s,[]];o=this.patch_deepCopy(o);var l=this.patch_addPadding(o);s=l+s+l,this.patch_splitMax(o);for(var a=0,u=[],c=0;c<o.length;c++){var h=o[c].start2+a,f=this.diff_text1(o[c].diffs),p,d=-1;if(f.length>this.Match_MaxBits?(p=this.match_main(s,f.substring(0,this.Match_MaxBits),h),p!=-1&&(d=this.match_main(s,f.substring(f.length-this.Match_MaxBits),h+f.length-this.Match_MaxBits),(d==-1||p>=d)&&(p=-1))):p=this.match_main(s,f,h),p==-1)u[c]=!1,a-=o[c].length2-o[c].length1;else{u[c]=!0,a=p-h;var g;if(d==-1?g=s.substring(p,p+f.length):g=s.substring(p,d+this.Match_MaxBits),f==g)s=s.substring(0,p)+this.diff_text2(o[c].diffs)+s.substring(p+f.length);else{var m=this.diff_main(f,g,!1);if(f.length>this.Match_MaxBits&&this.diff_levenshtein(m)/f.length>this.Patch_DeleteThreshold)u[c]=!1;else{this.diff_cleanupSemanticLossless(m);for(var v=0,b,C=0;C<o[c].diffs.length;C++){var x=o[c].diffs[C];x[0]!==i&&(b=this.diff_xIndex(m,v)),x[0]===r?s=s.substring(0,p+b)+x[1]+s.substring(p+b):x[0]===n&&(s=s.substring(0,p+b)+s.substring(p+this.diff_xIndex(m,v+x[1].length))),x[0]!==n&&(v+=x[1].length)}}}}}return s=s.substring(l.length,s.length-l.length),[s,u]},e.prototype.patch_addPadding=function(o){for(var s=this.Patch_Margin,l="",a=1;a<=s;a++)l+=String.fromCharCode(a);for(var a=0;a<o.length;a++)o[a].start1+=s,o[a].start2+=s;var u=o[0],c=u.diffs;if(c.length==0||c[0][0]!=i)c.unshift(new e.Diff(i,l)),u.start1-=s,u.start2-=s,u.length1+=s,u.length2+=s;else if(s>c[0][1].length){var h=s-c[0][1].length;c[0][1]=l.substring(c[0][1].length)+c[0][1],u.start1-=h,u.start2-=h,u.length1+=h,u.length2+=h}if(u=o[o.length-1],c=u.diffs,c.length==0||c[c.length-1][0]!=i)c.push(new e.Diff(i,l)),u.length1+=s,u.length2+=s;else if(s>c[c.length-1][1].length){var h=s-c[c.length-1][1].length;c[c.length-1][1]+=l.substring(0,h),u.length1+=h,u.length2+=h}return l},e.prototype.patch_splitMax=function(o){for(var s=this.Match_MaxBits,l=0;l<o.length;l++)if(!(o[l].length1<=s)){var a=o[l];o.splice(l--,1);for(var u=a.start1,c=a.start2,h="";a.diffs.length!==0;){var f=new e.patch_obj,p=!0;for(f.start1=u-h.length,f.start2=c-h.length,h!==""&&(f.length1=f.length2=h.length,f.diffs.push(new e.Diff(i,h)));a.diffs.length!==0&&f.length1<s-this.Patch_Margin;){var d=a.diffs[0][0],g=a.diffs[0][1];d===r?(f.length2+=g.length,c+=g.length,f.diffs.push(a.diffs.shift()),p=!1):d===n&&f.diffs.length==1&&f.diffs[0][0]==i&&g.length>2*s?(f.length1+=g.length,u+=g.length,p=!1,f.diffs.push(new e.Diff(d,g)),a.diffs.shift()):(g=g.substring(0,s-f.length1-this.Patch_Margin),f.length1+=g.length,u+=g.length,d===i?(f.length2+=g.length,c+=g.length):p=!1,f.diffs.push(new e.Diff(d,g)),g==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(g.length))}h=this.diff_text2(f.diffs),h=h.substring(h.length-this.Patch_Margin);var m=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);m!==""&&(f.length1+=m.length,f.length2+=m.length,f.diffs.length!==0&&f.diffs[f.diffs.length-1][0]===i?f.diffs[f.diffs.length-1][1]+=m:f.diffs.push(new e.Diff(i,m))),p||o.splice(++l,0,f)}}},e.prototype.patch_toText=function(o){for(var s=[],l=0;l<o.length;l++)s[l]=o[l];return s.join("")},e.prototype.patch_fromText=function(o){var s=[];if(!o)return s;for(var l=o.split(`
`),a=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<l.length;){var c=l[a].match(u);if(!c)throw new Error("Invalid patch string: "+l[a]);var h=new e.patch_obj;for(s.push(h),h.start1=parseInt(c[1],10),c[2]===""?(h.start1--,h.length1=1):c[2]=="0"?h.length1=0:(h.start1--,h.length1=parseInt(c[2],10)),h.start2=parseInt(c[3],10),c[4]===""?(h.start2--,h.length2=1):c[4]=="0"?h.length2=0:(h.start2--,h.length2=parseInt(c[4],10)),a++;a<l.length;){var f=l[a].charAt(0);try{var p=decodeURI(l[a].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+p)}if(f=="-")h.diffs.push(new e.Diff(n,p));else if(f=="+")h.diffs.push(new e.Diff(r,p));else if(f==" ")h.diffs.push(new e.Diff(i,p));else{if(f=="@")break;if(f!=="")throw new Error('Invalid patch mode "'+f+'" in: '+p)}a++}}return s},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var o,s;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var l=["@@ -"+o+" +"+s+` @@
`],a,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case r:a="+";break;case n:a="-";break;case i:a=" ";break}l[u+1]=a+encodeURI(this.diffs[u][1])+`
`}return l.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=r,t.exports.DIFF_EQUAL=i})(TC);var sO=TC.exports,aO=_n&&_n.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(v0,"__esModule",{value:!0});var Et=u0,b1=V,lO=lp,cO=sO,uO=function(t){aO(e,t);function e(n){var r=t.call(this,n)||this;return r.state={value:r.props.value},r.onChange=r.onChange.bind(r),r.diff=r.diff.bind(r),r}return e.prototype.componentDidUpdate=function(){var n=this.props.value;n!==this.state.value&&this.setState({value:n})},e.prototype.onChange=function(n){this.setState({value:n}),this.props.onChange&&this.props.onChange(n)},e.prototype.diff=function(){var n=new cO,r=this.state.value[0],i=this.state.value[1];if(r.length===0&&i.length===0)return[];var o=n.diff_main(r,i);n.diff_cleanupSemantic(o);var s=this.generateDiffedLines(o),l=this.setCodeMarkers(s);return l},e.prototype.generateDiffedLines=function(n){var r={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},i={left:[],right:[]},o={left:1,right:1};return n.forEach(function(s){var l=s[0],a=s[1],u=a.split(`
`).length-1;if(a.length!==0){var c=a[0],h=a[a.length-1],f=0;switch(l){case r.DIFF_EQUAL:o.left+=u,o.right+=u;break;case r.DIFF_DELETE:c===`
`&&(o.left++,u--),f=u,f===0&&i.right.push({startLine:o.right,endLine:o.right}),h===`
`&&(f-=1),i.left.push({startLine:o.left,endLine:o.left+f}),o.left+=u;break;case r.DIFF_INSERT:c===`
`&&(o.right++,u--),f=u,f===0&&i.left.push({startLine:o.left,endLine:o.left}),h===`
`&&(f-=1),i.right.push({startLine:o.right,endLine:o.right+f}),o.right+=u;break;default:throw new Error("Diff type was not defined.")}}}),i},e.prototype.setCodeMarkers=function(n){n===void 0&&(n={left:[],right:[]});for(var r=[],i={left:[],right:[]},o=0;o<n.left.length;o++){var s={startRow:n.left[o].startLine-1,endRow:n.left[o].endLine,type:"text",className:"codeMarker"};i.left.push(s)}for(var o=0;o<n.right.length;o++){var s={startRow:n.right[o].startLine-1,endRow:n.right[o].endLine,type:"text",className:"codeMarker"};i.right.push(s)}return r[0]=i.left,r[1]=i.right,r},e.prototype.render=function(){var n=this.diff();return b1.createElement(lO.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:n})},e.propTypes={cursorStart:Et.number,editorProps:Et.object,enableBasicAutocompletion:Et.bool,enableLiveAutocompletion:Et.bool,focus:Et.bool,fontSize:Et.number,height:Et.string,highlightActiveLine:Et.bool,maxLines:Et.number,minLines:Et.number,mode:Et.string,name:Et.string,className:Et.string,onLoad:Et.func,onPaste:Et.func,onScroll:Et.func,onChange:Et.func,orientation:Et.string,readOnly:Et.bool,scrollMargin:Et.array,setOptions:Et.object,showGutter:Et.bool,showPrintMargin:Et.bool,splits:Et.number,style:Et.object,tabSize:Et.number,theme:Et.string,value:Et.array,width:Et.string,wrapEnabled:Et.bool},e.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},e}(b1.Component);v0.default=uO;Object.defineProperty($l,"__esModule",{value:!0});$l.diff=$l.split=void 0;var hO=m0,fO=v0;$l.diff=fO.default;var dO=lp;$l.split=dO.default;var pO=$l.default=hO.default,gO={exports:{}};(function(t,e){ace.define("ace/ext/searchbox-css",["require","exports","module"],function(n,r,i){i.exports=`

/* ------------------------------------------------------------------------------------------
 * Editor Search Form
 * --------------------------------------------------------------------------------------- */
.ace_search {
    background-color: #ddd;
    color: #666;
    border: 1px solid #cbcbcb;
    border-top: 0 none;
    overflow: hidden;
    margin: 0;
    padding: 4px 6px 0 4px;
    position: absolute;
    top: 0;
    z-index: 99;
    white-space: normal;
}
.ace_search.left {
    border-left: 0 none;
    border-radius: 0px 0px 5px 0px;
    left: 0;
}
.ace_search.right {
    border-radius: 0px 0px 0px 5px;
    border-right: 0 none;
    right: 0;
}

.ace_search_form, .ace_replace_form {
    margin: 0 20px 4px 0;
    overflow: hidden;
    line-height: 1.9;
}
.ace_replace_form {
    margin-right: 0;
}
.ace_search_form.ace_nomatch {
    outline: 1px solid red;
}

.ace_search_field {
    border-radius: 3px 0 0 3px;
    background-color: white;
    color: black;
    border: 1px solid #cbcbcb;
    border-right: 0 none;
    outline: 0;
    padding: 0;
    font-size: inherit;
    margin: 0;
    line-height: inherit;
    padding: 0 6px;
    min-width: 17em;
    vertical-align: top;
    min-height: 1.8em;
    box-sizing: content-box;
}
.ace_searchbtn {
    border: 1px solid #cbcbcb;
    line-height: inherit;
    display: inline-block;
    padding: 0 6px;
    background: #fff;
    border-right: 0 none;
    border-left: 1px solid #dcdcdc;
    cursor: pointer;
    margin: 0;
    position: relative;
    color: #666;
}
.ace_searchbtn:last-child {
    border-radius: 0 3px 3px 0;
    border-right: 1px solid #cbcbcb;
}
.ace_searchbtn:disabled {
    background: none;
    cursor: default;
}
.ace_searchbtn:hover {
    background-color: #eef1f6;
}
.ace_searchbtn.prev, .ace_searchbtn.next {
     padding: 0px 0.7em
}
.ace_searchbtn.prev:after, .ace_searchbtn.next:after {
     content: "";
     border: solid 2px #888;
     width: 0.5em;
     height: 0.5em;
     border-width:  2px 0 0 2px;
     display:inline-block;
     transform: rotate(-45deg);
}
.ace_searchbtn.next:after {
     border-width: 0 2px 2px 0 ;
}
.ace_searchbtn_close {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;
    border-radius: 50%;
    border: 0 none;
    color: #656565;
    cursor: pointer;
    font: 16px/16px Arial;
    padding: 0;
    height: 14px;
    width: 14px;
    top: 9px;
    right: 7px;
    position: absolute;
}
.ace_searchbtn_close:hover {
    background-color: #656565;
    background-position: 50% 100%;
    color: white;
}

.ace_button {
    margin-left: 2px;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    overflow: hidden;
    opacity: 0.7;
    border: 1px solid rgba(100,100,100,0.23);
    padding: 1px;
    box-sizing:    border-box!important;
    color: black;
}

.ace_button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_button:active {
    background-color: #ddd;
}

.ace_button.checked {
    border-color: #3399ff;
    opacity:1;
}

.ace_search_options{
    margin-bottom: 3px;
    text-align: right;
    -webkit-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
    clear: both;
}

.ace_search_counter {
    float: left;
    font-family: arial;
    padding: 0 8px;
}`}),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/ext/searchbox-css","ace/keyboard/hash_handler","ace/lib/keys","ace/config"],function(n,r,i){var o=n("../lib/dom"),s=n("../lib/lang"),l=n("../lib/event"),a=n("./searchbox-css"),u=n("../keyboard/hash_handler").HashHandler,c=n("../lib/keys"),h=n("../config").nls,f=999;o.importCssString(a,"ace_searchbox",!1);var p=function(){function m(v,b,C){this.activeInput;var x=o.createElement("div");o.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:h("search-box.find.placeholder","Search for"),spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"​"],["span",{action:"findNext",class:"ace_searchbtn next"},"​"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},h("search-box.find-all.text","All")]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:h("search-box.replace.placeholder","Replace with"),spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},h("search-box.replace-next.text","Replace")],["span",{action:"replaceAll",class:"ace_searchbtn"},h("search-box.replace-all.text","All")]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:h("search-box.toggle-replace.title","Toggle Replace mode"),style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:h("search-box.toggle-regexp.title","RegExp Search")},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:h("search-box.toggle-case.title","CaseSensitive Search")},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:h("search-box.toggle-whole-word.title","Whole Word Search")},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:h("search-box.toggle-in-selection.title","Search In Selection")},"S"]]],x),this.element=x.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(v),o.importCssString(a,"ace_searchbox",v.container)}return m.prototype.setEditor=function(v){v.searchBox=this,v.renderer.scroller.appendChild(this.element),this.editor=v},m.prototype.setSession=function(v){this.searchRange=null,this.$syncOptions(!0)},m.prototype.$initElements=function(v){this.searchBox=v.querySelector(".ace_search_form"),this.replaceBox=v.querySelector(".ace_replace_form"),this.searchOption=v.querySelector("[action=searchInSelection]"),this.replaceOption=v.querySelector("[action=toggleReplace]"),this.regExpOption=v.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=v.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=v.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=v.querySelector(".ace_search_counter")},m.prototype.$init=function(){var v=this.element;this.$initElements(v);var b=this;l.addListener(v,"mousedown",function(C){setTimeout(function(){b.activeInput.focus()},0),l.stopPropagation(C)}),l.addListener(v,"click",function(C){var x=C.target||C.srcElement,_=x.getAttribute("action");_&&b[_]?b[_]():b.$searchBarKb.commands[_]&&b.$searchBarKb.commands[_].exec(b),l.stopPropagation(C)}),l.addCommandKeyListener(v,function(C,x,_){var w=c.keyCodeToString(_),y=b.$searchBarKb.findKeyCommand(x,w);y&&y.exec&&(y.exec(b),l.stopEvent(C))}),this.$onChange=s.delayedCall(function(){b.find(!1,!1)}),l.addListener(this.searchInput,"input",function(){b.$onChange.schedule(20)}),l.addListener(this.searchInput,"focus",function(){b.activeInput=b.searchInput,b.searchInput.value&&b.highlight()}),l.addListener(this.replaceInput,"focus",function(){b.activeInput=b.replaceInput,b.searchInput.value&&b.highlight()})},m.prototype.setSearchRange=function(v){this.searchRange=v,v?this.searchRangeMarker=this.editor.session.addMarker(v,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},m.prototype.$syncOptions=function(v){o.setCssClass(this.replaceOption,"checked",this.searchRange),o.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",o.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),o.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),o.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var b=this.editor.getReadOnly();this.replaceOption.style.display=b?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!b?"":"none",this.find(!1,!1,v)},m.prototype.highlight=function(v){this.editor.session.highlight(v||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},m.prototype.find=function(v,b,C){var x=this.editor.find(this.searchInput.value,{skipCurrent:v,backwards:b,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:C,range:this.searchRange}),_=!x&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",_),this.editor._emit("findSearchBox",{match:!_}),this.highlight(),this.updateCounter()},m.prototype.updateCounter=function(){var v=this.editor,b=v.$search.$options.re,C=b.unicode,x=0,_=0;if(b){var w=this.searchRange?v.session.getTextRange(this.searchRange):v.getValue(),y=v.session.doc.positionToIndex(v.selection.anchor);this.searchRange&&(y-=v.session.doc.positionToIndex(this.searchRange.start));for(var S=b.lastIndex=0,A;(A=b.exec(w))&&(x++,S=A.index,S<=y&&_++,!(x>f||!A[0]&&(b.lastIndex=S+=s.skipEmptyMatch(w,S,C),S>=w.length))););}this.searchCounter.textContent=h("search-box.search-counter","$0 of $1",[_,x>f?f+"+":x])},m.prototype.findNext=function(){this.find(!0,!1)},m.prototype.findPrev=function(){this.find(!0,!0)},m.prototype.findAll=function(){var v=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),b=!v&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",b),this.editor._emit("findSearchBox",{match:!b}),this.highlight(),this.hide()},m.prototype.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},m.prototype.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},m.prototype.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},m.prototype.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},m.prototype.show=function(v,b){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=b,v&&(this.searchInput.value=v),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},m.prototype.isFocused=function(){var v=document.activeElement;return v==this.searchInput||v==this.replaceInput},m}(),d=new u;d.bindKeys({"Ctrl-f|Command-f":function(m){var v=m.isReplace=!m.isReplace;m.replaceBox.style.display=v?"":"none",m.replaceOption.checked=!1,m.$syncOptions(),m.searchInput.focus()},"Ctrl-H|Command-Option-F":function(m){m.editor.getReadOnly()||(m.replaceOption.checked=!0,m.$syncOptions(),m.replaceInput.focus())},"Ctrl-G|Command-G":function(m){m.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(m){m.findPrev()},esc:function(m){setTimeout(function(){m.hide()})},Return:function(m){m.activeInput==m.replaceInput&&m.replace(),m.findNext()},"Shift-Return":function(m){m.activeInput==m.replaceInput&&m.replace(),m.findPrev()},"Alt-Return":function(m){m.activeInput==m.replaceInput&&m.replaceAll(),m.findAll()},Tab:function(m){(m.activeInput==m.replaceInput?m.searchInput:m.replaceInput).focus()}}),d.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(m){m.regExpOption.checked=!m.regExpOption.checked,m.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(m){m.caseSensitiveOption.checked=!m.caseSensitiveOption.checked,m.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(m){m.wholeWordOption.checked=!m.wholeWordOption.checked,m.$syncOptions()}},{name:"toggleReplace",exec:function(m){m.replaceOption.checked=!m.replaceOption.checked,m.$syncOptions()}},{name:"searchInSelection",exec:function(m){m.searchOption.checked=!m.searchRange,m.setSearchRange(m.searchOption.checked&&m.editor.getSelectionRange()),m.$syncOptions()}}]);var g=new u([{bindKey:"Esc",name:"closeSearchBar",exec:function(m){m.searchBox.hide()}}]);p.prototype.$searchBarKb=d,p.prototype.$closeSearchBarKb=g,r.SearchBox=p,r.Search=function(m,v){var b=m.searchBox||new p(m);b.show(m.session.getTextRange(),v)}}),function(){ace.require(["ace/ext/searchbox"],function(n){t&&(t.exports=n)})}()})(gO);var mO={exports:{}};(function(t,e){(function(){ace.require(["ace/mode/text"],function(n){t&&(t.exports=n)})})()})(mO);var vO={exports:{}};(function(t,e){ace.define("ace/mode/plain_text",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/text_highlight_rules","ace/mode/behaviour"],function(n,r,i){var o=n("../lib/oop"),s=n("./text").Mode,l=n("./text_highlight_rules").TextHighlightRules,a=n("./behaviour").Behaviour,u=function(){this.HighlightRules=l,this.$behaviour=new a};o.inherits(u,s),(function(){this.type="text",this.getNextLineIndent=function(c,h,f){return""},this.$id="ace/mode/plain_text"}).call(u.prototype),r.Mode=u}),function(){ace.require(["ace/mode/plain_text"],function(n){t&&(t.exports=n)})}()})(vO);var yO={exports:{}};(function(t,e){ace.define("ace/theme/tomorrow-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tomorrow .ace_gutter {
  background: #f6f6f6;
  color: #4D4D4C
}

.ace-tomorrow .ace_print-margin {
  width: 1px;
  background: #f6f6f6
}

.ace-tomorrow {
  background-color: #FFFFFF;
  color: #4D4D4C
}

.ace-tomorrow .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow .ace_marker-layer .ace_selection {
  background: #D6D6D6
}

.ace-tomorrow.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FFFFFF;
}

.ace-tomorrow .ace_marker-layer .ace_step {
  background: rgb(255, 255, 0)
}

.ace-tomorrow .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #D1D1D1
}

.ace-tomorrow .ace_marker-layer .ace_active-line {
  background: #EFEFEF
}

.ace-tomorrow .ace_gutter-active-line {
  background-color : #dcdcdc
}

.ace-tomorrow .ace_marker-layer .ace_selected-word {
  border: 1px solid #D6D6D6
}

.ace-tomorrow .ace_invisible {
  color: #D1D1D1
}

.ace-tomorrow .ace_keyword,
.ace-tomorrow .ace_meta,
.ace-tomorrow .ace_storage,
.ace-tomorrow .ace_storage.ace_type,
.ace-tomorrow .ace_support.ace_type {
  color: #8959A8
}

.ace-tomorrow .ace_keyword.ace_operator {
  color: #3E999F
}

.ace-tomorrow .ace_constant.ace_character,
.ace-tomorrow .ace_constant.ace_language,
.ace-tomorrow .ace_constant.ace_numeric,
.ace-tomorrow .ace_keyword.ace_other.ace_unit,
.ace-tomorrow .ace_support.ace_constant,
.ace-tomorrow .ace_variable.ace_parameter {
  color: #F5871F
}

.ace-tomorrow .ace_constant.ace_other {
  color: #666969
}

.ace-tomorrow .ace_invalid {
  color: #FFFFFF;
  background-color: #C82829
}

.ace-tomorrow .ace_invalid.ace_deprecated {
  color: #FFFFFF;
  background-color: #8959A8
}

.ace-tomorrow .ace_fold {
  background-color: #4271AE;
  border-color: #4D4D4C
}

.ace-tomorrow .ace_entity.ace_name.ace_function,
.ace-tomorrow .ace_support.ace_function,
.ace-tomorrow .ace_variable {
  color: #4271AE
}

.ace-tomorrow .ace_support.ace_class,
.ace-tomorrow .ace_support.ace_type {
  color: #C99E00
}

.ace-tomorrow .ace_heading,
.ace-tomorrow .ace_markup.ace_heading,
.ace-tomorrow .ace_string {
  color: #718C00
}

.ace-tomorrow .ace_entity.ace_name.ace_tag,
.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow .ace_meta.ace_tag,
.ace-tomorrow .ace_string.ace_regexp,
.ace-tomorrow .ace_variable {
  color: #C82829
}

.ace-tomorrow .ace_comment {
  color: #8E908C
}

.ace-tomorrow .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y
}

.ace-tomorrow .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/tomorrow",["require","exports","module","ace/theme/tomorrow-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-tomorrow",r.cssText=n("./tomorrow-css");var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow"],function(n){t&&(t.exports=n)})}()})(yO);var wO={exports:{}};(function(t,e){ace.define("ace/theme/twilight-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-twilight .ace_gutter {
  background: #232323;
  color: #E2E2E2
}

.ace-twilight .ace_print-margin {
  width: 1px;
  background: #232323
}

.ace-twilight {
  background-color: #141414;
  color: #F8F8F8
}

.ace-twilight .ace_cursor {
  color: #A7A7A7
}

.ace-twilight .ace_marker-layer .ace_selection {
  background: rgba(221, 240, 255, 0.20)
}

.ace-twilight.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #141414;
}

.ace-twilight .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-twilight .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgba(255, 255, 255, 0.25)
}

.ace-twilight .ace_marker-layer .ace_active-line {
  background: rgba(255, 255, 255, 0.031)
}

.ace-twilight .ace_gutter-active-line {
  background-color: rgba(255, 255, 255, 0.031)
}

.ace-twilight .ace_marker-layer .ace_selected-word {
  border: 1px solid rgba(221, 240, 255, 0.20)
}

.ace-twilight .ace_invisible {
  color: rgba(255, 255, 255, 0.25)
}

.ace-twilight .ace_keyword,
.ace-twilight .ace_meta {
  color: #CDA869
}

.ace-twilight .ace_constant,
.ace-twilight .ace_constant.ace_character,
.ace-twilight .ace_constant.ace_character.ace_escape,
.ace-twilight .ace_constant.ace_other,
.ace-twilight .ace_heading,
.ace-twilight .ace_markup.ace_heading,
.ace-twilight .ace_support.ace_constant {
  color: #CF6A4C
}

.ace-twilight .ace_invalid.ace_illegal {
  color: #F8F8F8;
  background-color: rgba(86, 45, 86, 0.75)
}

.ace-twilight .ace_invalid.ace_deprecated {
  text-decoration: underline;
  font-style: italic;
  color: #D2A8A1
}

.ace-twilight .ace_support {
  color: #9B859D
}

.ace-twilight .ace_fold {
  background-color: #AC885B;
  border-color: #F8F8F8
}

.ace-twilight .ace_support.ace_function {
  color: #DAD085
}

.ace-twilight .ace_list,
.ace-twilight .ace_markup.ace_list,
.ace-twilight .ace_storage {
  color: #F9EE98
}

.ace-twilight .ace_entity.ace_name.ace_function,
.ace-twilight .ace_meta.ace_tag {
  color: #AC885B
}

.ace-twilight .ace_string {
  color: #8F9D6A
}

.ace-twilight .ace_string.ace_regexp {
  color: #E9C062
}

.ace-twilight .ace_comment {
  font-style: italic;
  color: #5F5A60
}

.ace-twilight .ace_variable {
  color: #7587A6
}

.ace-twilight .ace_xml-pe {
  color: #494949
}

.ace-twilight .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMQERFpYLC1tf0PAAgOAnPnhxyiAAAAAElFTkSuQmCC) right repeat-y
}

.ace-twilight .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/twilight",["require","exports","module","ace/theme/twilight-css","ace/lib/dom"],function(n,r,i){r.isDark=!0,r.cssClass="ace-twilight",r.cssText=n("./twilight-css");var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/twilight"],function(n){t&&(t.exports=n)})}()})(wO);var bO={exports:{}};(function(t,e){ace.define("ace/theme/tomorrow_night-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tomorrow-night .ace_gutter {
  background: #25282c;
  color: #C5C8C6
}

.ace-tomorrow-night .ace_print-margin {
  width: 1px;
  background: #25282c
}

.ace-tomorrow-night {
  background-color: #1D1F21;
  color: #C5C8C6
}

.ace-tomorrow-night .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow-night .ace_marker-layer .ace_selection {
  background: #373B41
}

.ace-tomorrow-night.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #1D1F21;
}

.ace-tomorrow-night .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #4B4E55
}

.ace-tomorrow-night .ace_marker-layer .ace_active-line {
  background: #282A2E
}

.ace-tomorrow-night .ace_gutter-active-line {
  background-color: #282A2E
}

.ace-tomorrow-night .ace_marker-layer .ace_selected-word {
  border: 1px solid #373B41
}

.ace-tomorrow-night .ace_invisible {
  color: #4B4E55
}

.ace-tomorrow-night .ace_keyword,
.ace-tomorrow-night .ace_meta,
.ace-tomorrow-night .ace_storage,
.ace-tomorrow-night .ace_storage.ace_type,
.ace-tomorrow-night .ace_support.ace_type {
  color: #B294BB
}

.ace-tomorrow-night .ace_keyword.ace_operator {
  color: #8ABEB7
}

.ace-tomorrow-night .ace_constant.ace_character,
.ace-tomorrow-night .ace_constant.ace_language,
.ace-tomorrow-night .ace_constant.ace_numeric,
.ace-tomorrow-night .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night .ace_support.ace_constant,
.ace-tomorrow-night .ace_variable.ace_parameter {
  color: #DE935F
}

.ace-tomorrow-night .ace_constant.ace_other {
  color: #CED1CF
}

.ace-tomorrow-night .ace_invalid {
  color: #CED2CF;
  background-color: #DF5F5F
}

.ace-tomorrow-night .ace_invalid.ace_deprecated {
  color: #CED2CF;
  background-color: #B798BF
}

.ace-tomorrow-night .ace_fold {
  background-color: #81A2BE;
  border-color: #C5C8C6
}

.ace-tomorrow-night .ace_entity.ace_name.ace_function,
.ace-tomorrow-night .ace_support.ace_function,
.ace-tomorrow-night .ace_variable {
  color: #81A2BE
}

.ace-tomorrow-night .ace_support.ace_class,
.ace-tomorrow-night .ace_support.ace_type {
  color: #F0C674
}

.ace-tomorrow-night .ace_heading,
.ace-tomorrow-night .ace_markup.ace_heading,
.ace-tomorrow-night .ace_string {
  color: #B5BD68
}

.ace-tomorrow-night .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night .ace_meta.ace_tag,
.ace-tomorrow-night .ace_string.ace_regexp,
.ace-tomorrow-night .ace_variable {
  color: #CC6666
}

.ace-tomorrow-night .ace_comment {
  color: #969896
}

.ace-tomorrow-night .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night",["require","exports","module","ace/theme/tomorrow_night-css","ace/lib/dom"],function(n,r,i){r.isDark=!0,r.cssClass="ace-tomorrow-night",r.cssText=n("./tomorrow_night-css");var o=n("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow_night"],function(n){t&&(t.exports=n)})}()})(bO);var _O={exports:{}};(function(t,e){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,r,i){var o=n("./lib/dom"),s=n("./lib/oop"),l=n("./lib/event_emitter").EventEmitter,a=n("./lib/lang"),u=n("./range").Range,c=n("./range_list").RangeList,h=n("./keyboard/hash_handler").HashHandler,f=n("./tokenizer").Tokenizer,p=n("./clipboard"),d={CURRENT_WORD:function(w){return w.session.getTextRange(w.session.getWordRange())},SELECTION:function(w,y,S){var A=w.session.getTextRange();return S?A.replace(/\n\r?([ \t]*\S)/g,`
`+S+"$1"):A},CURRENT_LINE:function(w){return w.session.getLine(w.getCursorPosition().row)},PREV_LINE:function(w){return w.session.getLine(w.getCursorPosition().row-1)},LINE_INDEX:function(w){return w.getCursorPosition().row},LINE_NUMBER:function(w){return w.getCursorPosition().row+1},SOFT_TABS:function(w){return w.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(w){return w.session.getTabSize()},CLIPBOARD:function(w){return p.getText&&p.getText()},FILENAME:function(w){return/[^/\\]*$/.exec(this.FILEPATH(w))[0]},FILENAME_BASE:function(w){return/[^/\\]*$/.exec(this.FILEPATH(w))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(w){return this.FILEPATH(w).replace(/[^/\\]*$/,"")},FILEPATH:function(w){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(w){var y=w.session.$mode||{};return y.blockComment&&y.blockComment.start||""},BLOCK_COMMENT_END:function(w){var y=w.session.$mode||{};return y.blockComment&&y.blockComment.end||""},LINE_COMMENT:function(w){var y=w.session.$mode||{};return y.lineCommentStart||""},CURRENT_YEAR:g.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:g.bind(null,{year:"2-digit"}),CURRENT_MONTH:g.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:g.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:g.bind(null,{month:"short"}),CURRENT_DATE:g.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:g.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:g.bind(null,{weekday:"short"}),CURRENT_HOUR:g.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:g.bind(null,{minute:"2-digit"}),CURRENT_SECOND:g.bind(null,{second:"2-digit"})};d.SELECTED_TEXT=d.SELECTION;function g(w){var y=new Date().toLocaleString("en-us",w);return y.length==1?"0"+y:y}var m=function(){function w(){this.snippetMap={},this.snippetNameMap={},this.variables=d}return w.prototype.getTokenizer=function(){return w.$tokenizer||this.createTokenizer()},w.prototype.createTokenizer=function(){function y(M){return M=M.substr(1),/^\d+$/.test(M)?[{tabstopId:parseInt(M,10)}]:[{text:M}]}function S(M){return"(?:[^\\\\"+M+"]|\\\\.)"}var A={regex:"/("+S("/")+"+)/",onMatch:function(M,R,k){var $=k[0];return $.fmtString=!0,$.guard=M.slice(1,-1),$.flag="",""},next:"formatString"};return w.$tokenizer=new f({start:[{regex:/\\./,onMatch:function(M,R,k){var $=M[1];return($=="}"&&k.length||"`$\\".indexOf($)!=-1)&&(M=$),[M]}},{regex:/}/,onMatch:function(M,R,k){return[k.length?k.shift():M]}},{regex:/\$(?:\d+|\w+)/,onMatch:y},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(M,R,k){var $=y(M.substr(1));return k.unshift($[0]),$},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+S("\\|")+"*\\|",onMatch:function(M,R,k){var $=M.slice(1,-1).replace(/\\[,|\\]|,/g,function(E){return E.length==2?E[1]:"\0"}).split("\0").map(function(E){return{value:E}});return k[0].choices=$,[$[0]]},next:"start"},A,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(M,R,k){return k.length&&k[0].expectElse?(k[0].expectElse=!1,k[0].ifEnd={elseEnd:k[0]},[k[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(M,R,k){var $=M[1];return $=="}"&&k.length||"`$\\".indexOf($)!=-1?M=$:$=="n"?M=`
`:$=="t"?M="	":"ulULE".indexOf($)!=-1&&(M={changeCase:$,local:$>"a"}),[M]}},{regex:"/\\w*}",onMatch:function(M,R,k){var $=k.shift();return $&&($.flag=M.slice(1,-1)),this.next=$&&$.tabstopId?"start":"",[$||M]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(M,R,k){return[{text:M.slice(1)}]}},{regex:/\${\w+/,onMatch:function(M,R,k){var $={text:M.slice(2)};return k.unshift($),[$]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(M,R,k){var $=k.shift();return this.next=$&&$.tabstopId?"start":"",[$||M]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(M,R,k){var $=k[0];return $.formatFunction=M.slice(2,-1),[k.shift()]},next:"formatString"},A,{regex:/:[\?\-+]?/,onMatch:function(M,R,k){M[1]=="+"&&(k[0].ifEnd=k[0]),M[1]=="?"&&(k[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),w.$tokenizer},w.prototype.tokenizeTmSnippet=function(y,S){return this.getTokenizer().getLineTokens(y,S).tokens.map(function(A){return A.value||A})},w.prototype.getVariableValue=function(y,S,A){if(/^\d+$/.test(S))return(this.variables.__||{})[S]||"";if(/^[A-Z]\d+$/.test(S))return(this.variables[S[0]+"__"]||{})[S.substr(1)]||"";if(S=S.replace(/^TM_/,""),!this.variables.hasOwnProperty(S))return"";var M=this.variables[S];return typeof M=="function"&&(M=this.variables[S](y,S,A)),M??""},w.prototype.tmStrFormat=function(y,S,A){if(!S.fmt)return y;var M=S.flag||"",R=S.guard;R=new RegExp(R,M.replace(/[^gim]/g,""));var k=typeof S.fmt=="string"?this.tokenizeTmSnippet(S.fmt,"formatString"):S.fmt,$=this,E=y.replace(R,function(){var L=$.variables.__;$.variables.__=[].slice.call(arguments);for(var P=$.resolveVariables(k,A),I="E",D=0;D<P.length;D++){var W=P[D];if(typeof W=="object")if(P[D]="",W.changeCase&&W.local){var z=P[D+1];z&&typeof z=="string"&&(W.changeCase=="u"?P[D]=z[0].toUpperCase():P[D]=z[0].toLowerCase(),P[D+1]=z.substr(1))}else W.changeCase&&(I=W.changeCase);else I=="U"?P[D]=W.toUpperCase():I=="L"&&(P[D]=W.toLowerCase())}return $.variables.__=L,P.join("")});return E},w.prototype.tmFormatFunction=function(y,S,A){return S.formatFunction=="upcase"?y.toUpperCase():S.formatFunction=="downcase"?y.toLowerCase():y},w.prototype.resolveVariables=function(y,S){for(var A=[],M="",R=!0,k=0;k<y.length;k++){var $=y[k];if(typeof $=="string"){A.push($),$==`
`?(R=!0,M=""):R&&(M=/^\t*/.exec($)[0],R=/\S/.test($));continue}if($){if(R=!1,$.fmtString){var E=y.indexOf($,k+1);E==-1&&(E=y.length),$.fmt=y.slice(k+1,E),k=E}if($.text){var L=this.getVariableValue(S,$.text,M)+"";$.fmtString&&(L=this.tmStrFormat(L,$,S)),$.formatFunction&&(L=this.tmFormatFunction(L,$,S)),L&&!$.ifEnd?(A.push(L),P($)):!L&&$.ifEnd&&P($.ifEnd)}else $.elseEnd?P($.elseEnd):($.tabstopId!=null||$.changeCase!=null)&&A.push($)}}function P(I){var D=y.indexOf(I,k+1);D!=-1&&(k=D)}return A},w.prototype.getDisplayTextForSnippet=function(y,S){var A=v.call(this,y,S);return A.text},w.prototype.insertSnippetForSelection=function(y,S,A){A===void 0&&(A={});var M=v.call(this,y,S,A),R=y.getSelectionRange(),k=y.session.replace(R,M.text),$=new b(y),E=y.inVirtualSelectionMode&&y.selection.index;$.addTabstops(M.tabstops,R.start,k,E)},w.prototype.insertSnippet=function(y,S,A){A===void 0&&(A={});var M=this;if(y.inVirtualSelectionMode)return M.insertSnippetForSelection(y,S,A);y.forEachSelection(function(){M.insertSnippetForSelection(y,S,A)},null,{keepOrder:!0}),y.tabstopManager&&y.tabstopManager.tabNext()},w.prototype.$getScope=function(y){var S=y.session.$mode.$id||"";if(S=S.split("/").pop(),S==="html"||S==="php"){S==="php"&&!y.session.$mode.inlinePhp&&(S="html");var A=y.getCursorPosition(),M=y.session.getState(A.row);typeof M=="object"&&(M=M[0]),M.substring&&(M.substring(0,3)=="js-"?S="javascript":M.substring(0,4)=="css-"?S="css":M.substring(0,4)=="php-"&&(S="php"))}return S},w.prototype.getActiveScopes=function(y){var S=this.$getScope(y),A=[S],M=this.snippetMap;return M[S]&&M[S].includeScopes&&A.push.apply(A,M[S].includeScopes),A.push("_"),A},w.prototype.expandWithTab=function(y,S){var A=this,M=y.forEachSelection(function(){return A.expandSnippetForSelection(y,S)},null,{keepOrder:!0});return M&&y.tabstopManager&&y.tabstopManager.tabNext(),M},w.prototype.expandSnippetForSelection=function(y,S){var A=y.getCursorPosition(),M=y.session.getLine(A.row),R=M.substring(0,A.column),k=M.substr(A.column),$=this.snippetMap,E;return this.getActiveScopes(y).some(function(L){var P=$[L];return P&&(E=this.findMatchingSnippet(P,R,k)),!!E},this),E?(S&&S.dryRun||(y.session.doc.removeInLine(A.row,A.column-E.replaceBefore.length,A.column+E.replaceAfter.length),this.variables.M__=E.matchBefore,this.variables.T__=E.matchAfter,this.insertSnippetForSelection(y,E.content),this.variables.M__=this.variables.T__=null),!0):!1},w.prototype.findMatchingSnippet=function(y,S,A){for(var M=y.length;M--;){var R=y[M];if(!(R.startRe&&!R.startRe.test(S))&&!(R.endRe&&!R.endRe.test(A))&&!(!R.startRe&&!R.endRe))return R.matchBefore=R.startRe?R.startRe.exec(S):[""],R.matchAfter=R.endRe?R.endRe.exec(A):[""],R.replaceBefore=R.triggerRe?R.triggerRe.exec(S)[0]:"",R.replaceAfter=R.endTriggerRe?R.endTriggerRe.exec(A)[0]:"",R}},w.prototype.register=function(y,S){var A=this.snippetMap,M=this.snippetNameMap,R=this;y||(y=[]);function k(L){return L&&!/^\^?\(.*\)\$?$|^\\b$/.test(L)&&(L="(?:"+L+")"),L||""}function $(L,P,I){return L=k(L),P=k(P),L=P+L,L&&L[L.length-1]!="$"&&(L=L+"$"),new RegExp(L)}function E(L){L.scope||(L.scope=S||"_"),S=L.scope,A[S]||(A[S]=[],M[S]={});var P=M[S];if(L.name){var I=P[L.name];I&&R.unregister(I),P[L.name]=L}A[S].push(L),L.prefix&&(L.tabTrigger=L.prefix),!L.content&&L.body&&(L.content=Array.isArray(L.body)?L.body.join(`
`):L.body),L.tabTrigger&&!L.trigger&&(!L.guard&&/^\w/.test(L.tabTrigger)&&(L.guard="\\b"),L.trigger=a.escapeRegExp(L.tabTrigger)),!(!L.trigger&&!L.guard&&!L.endTrigger&&!L.endGuard)&&(L.startRe=$(L.trigger,L.guard),L.triggerRe=new RegExp(L.trigger),L.endRe=$(L.endTrigger,L.endGuard),L.endTriggerRe=new RegExp(L.endTrigger))}Array.isArray(y)?y.forEach(E):Object.keys(y).forEach(function(L){E(y[L])}),this._signal("registerSnippets",{scope:S})},w.prototype.unregister=function(y,S){var A=this.snippetMap,M=this.snippetNameMap;function R(k){var $=M[k.scope||S];if($&&$[k.name]){delete $[k.name];var E=A[k.scope||S],L=E&&E.indexOf(k);L>=0&&E.splice(L,1)}}y.content?R(y):Array.isArray(y)&&y.forEach(R)},w.prototype.parseSnippetFile=function(y){y=y.replace(/\r/g,"");for(var S=[],A={},M=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,R;R=M.exec(y);){if(R[1])try{A=JSON.parse(R[1]),S.push(A)}catch{}if(R[4])A.content=R[4].replace(/^\t/gm,""),S.push(A),A={};else{var k=R[2],$=R[3];if(k=="regex"){var E=/\/((?:[^\/\\]|\\.)*)|$/g;A.guard=E.exec($)[1],A.trigger=E.exec($)[1],A.endTrigger=E.exec($)[1],A.endGuard=E.exec($)[1]}else k=="snippet"?(A.tabTrigger=$.match(/^\S*/)[0],A.name||(A.name=$)):k&&(A[k]=$)}}return S},w.prototype.getSnippetByName=function(y,S){var A=this.snippetNameMap,M;return this.getActiveScopes(S).some(function(R){var k=A[R];return k&&(M=k[y]),!!M},this),M},w}();s.implement(m.prototype,l);var v=function(w,y,S){S===void 0&&(S={});var A=w.getCursorPosition(),M=w.session.getLine(A.row),R=w.session.getTabString(),k=M.match(/^\s*/)[0];A.column<k.length&&(k=k.slice(0,A.column)),y=y.replace(/\r/g,"");var $=this.tokenizeTmSnippet(y);$=this.resolveVariables($,w),$=$.map(function(ee){return ee==`
`&&!S.excludeExtraIndent?ee+k:typeof ee=="string"?ee.replace(/\t/g,R):ee});var E=[];$.forEach(function(ee,re){if(typeof ee=="object"){var ie=ee.tabstopId,ue=E[ie];if(ue||(ue=E[ie]=[],ue.index=ie,ue.value="",ue.parents={}),ue.indexOf(ee)===-1){ee.choices&&!ue.choices&&(ue.choices=ee.choices),ue.push(ee);var he=$.indexOf(ee,re+1);if(he!==-1){var _e=$.slice(re+1,he),Te=_e.some(function(tt){return typeof tt=="object"});Te&&!ue.value?ue.value=_e:_e.length&&(!ue.value||typeof ue.value!="string")&&(ue.value=_e.join(""))}}}}),E.forEach(function(ee){ee.length=0});var L={};function P(ee){for(var re=[],ie=0;ie<ee.length;ie++){var ue=ee[ie];if(typeof ue=="object"){if(L[ue.tabstopId])continue;var he=ee.lastIndexOf(ue,ie-1);ue=re[he]||{tabstopId:ue.tabstopId}}re[ie]=ue}return re}for(var I=0;I<$.length;I++){var D=$[I];if(typeof D=="object"){var W=D.tabstopId,z=E[W],G=$.indexOf(D,I+1);if(L[W]){L[W]===D&&(delete L[W],Object.keys(L).forEach(function(ee){z.parents[ee]=!0}));continue}L[W]=D;var Z=z.value;typeof Z!="string"?Z=P(Z):D.fmt&&(Z=this.tmStrFormat(Z,D,w)),$.splice.apply($,[I+1,Math.max(0,G-I)].concat(Z,D)),z.indexOf(D)===-1&&z.push(D)}}var q=0,X=0,Y="";return $.forEach(function(ee){if(typeof ee=="string"){var re=ee.split(`
`);re.length>1?(X=re[re.length-1].length,q+=re.length-1):X+=ee.length,Y+=ee}else ee&&(ee.start?ee.end={row:q,column:X}:ee.start={row:q,column:X})}),{text:Y,tabstops:E,tokens:$}},b=function(){function w(y){if(this.index=0,this.ranges=[],this.tabstops=[],y.tabstopManager)return y.tabstopManager;y.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=a.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(y)}return w.prototype.attach=function(y){this.$openTabstops=null,this.selectedTabstop=null,this.editor=y,this.session=y.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},w.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},w.prototype.onChange=function(y){for(var S=y.action[0]=="r",A=this.selectedTabstop||{},M=A.parents||{},R=this.tabstops.slice(),k=0;k<R.length;k++){var $=R[k],E=$==A||M[$.index];if($.rangeList.$bias=E?0:1,y.action=="remove"&&$!==A){var L=$.parents&&$.parents[A.index],P=$.rangeList.pointIndex(y.start,L);P=P<0?-P-1:P+1;var I=$.rangeList.pointIndex(y.end,L);I=I<0?-I-1:I-1;for(var D=$.rangeList.ranges.slice(P,I),W=0;W<D.length;W++)this.removeRange(D[W])}$.rangeList.$onChange(y)}var z=this.session;!this.$inChange&&S&&z.getLength()==1&&!z.getValue()&&this.detach()},w.prototype.updateLinkedFields=function(){var y=this.selectedTabstop;if(!(!y||!y.hasLinkedRanges||!y.firstNonLinked)){this.$inChange=!0;for(var S=this.session,A=S.getTextRange(y.firstNonLinked),M=0;M<y.length;M++){var R=y[M];if(R.linked){var k=R.original,$=r.snippetManager.tmStrFormat(A,k,this.editor);S.replace(R,$)}}this.$inChange=!1}},w.prototype.onAfterExec=function(y){y.command&&!y.command.readOnly&&this.updateLinkedFields()},w.prototype.onChangeSelection=function(){if(this.editor){for(var y=this.editor.selection.lead,S=this.editor.selection.anchor,A=this.editor.selection.isEmpty(),M=0;M<this.ranges.length;M++)if(!this.ranges[M].linked){var R=this.ranges[M].contains(y.row,y.column),k=A||this.ranges[M].contains(S.row,S.column);if(R&&k)return}this.detach()}},w.prototype.onChangeSession=function(){this.detach()},w.prototype.tabNext=function(y){var S=this.tabstops.length,A=this.index+(y||1);A=Math.min(Math.max(A,1),S),A==S&&(A=0),this.selectTabstop(A),this.updateTabstopMarkers(),A===0&&this.detach()},w.prototype.selectTabstop=function(y){this.$openTabstops=null;var S=this.tabstops[this.index];if(S&&this.addTabstopMarkers(S),this.index=y,S=this.tabstops[this.index],!(!S||!S.length)){this.selectedTabstop=S;var A=S.firstNonLinked||S;if(S.choices&&(A.cursor=A.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(A);else{var M=this.editor.multiSelect;M.toSingleRange(A);for(var R=0;R<S.length;R++)S.hasLinkedRanges&&S[R].linked||M.addRange(S[R].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},w.prototype.addTabstops=function(y,S,A){var M=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!y[0]){var R=u.fromPoints(A,A);x(R.start,S),x(R.end,S),y[0]=[R],y[0].index=0}var k=this.index,$=[k+1,0],E=this.ranges,L=this.snippetId=(this.snippetId||0)+1;y.forEach(function(P,I){var D=this.$openTabstops[I]||P;D.snippetId=L;for(var W=0;W<P.length;W++){var z=P[W],G=u.fromPoints(z.start,z.end||z.start);C(G.start,S),C(G.end,S),G.original=z,G.tabstop=D,E.push(G),D!=P?D.unshift(G):D[W]=G,z.fmtString||D.firstNonLinked&&M?(G.linked=!0,D.hasLinkedRanges=!0):D.firstNonLinked||(D.firstNonLinked=G)}D.firstNonLinked||(D.hasLinkedRanges=!1),D===P&&($.push(D),this.$openTabstops[I]=D),this.addTabstopMarkers(D),D.rangeList=D.rangeList||new c,D.rangeList.$bias=0,D.rangeList.addList(D)},this),$.length>2&&(this.tabstops.length&&$.push($.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,$))},w.prototype.addTabstopMarkers=function(y){var S=this.session;y.forEach(function(A){A.markerId||(A.markerId=S.addMarker(A,"ace_snippet-marker","text"))})},w.prototype.removeTabstopMarkers=function(y){var S=this.session;y.forEach(function(A){S.removeMarker(A.markerId),A.markerId=null})},w.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var y=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&y--,this.tabstops.forEach(function(S){S.snippetId===y?this.addTabstopMarkers(S):this.removeTabstopMarkers(S)},this)}},w.prototype.removeRange=function(y){var S=y.tabstop.indexOf(y);S!=-1&&y.tabstop.splice(S,1),S=this.ranges.indexOf(y),S!=-1&&this.ranges.splice(S,1),S=y.tabstop.rangeList.ranges.indexOf(y),S!=-1&&y.tabstop.splice(S,1),this.session.removeMarker(y.markerId),y.tabstop.length||(S=this.tabstops.indexOf(y.tabstop),S!=-1&&this.tabstops.splice(S,1),this.tabstops.length||this.detach())},w}();b.prototype.keyboardHandler=new h,b.prototype.keyboardHandler.bindKeys({Tab:function(w){r.snippetManager&&r.snippetManager.expandWithTab(w)||(w.tabstopManager.tabNext(1),w.renderer.scrollCursorIntoView())},"Shift-Tab":function(w){w.tabstopManager.tabNext(-1),w.renderer.scrollCursorIntoView()},Esc:function(w){w.tabstopManager.detach()}});var C=function(w,y){w.row==0&&(w.column+=y.column),w.row+=y.row},x=function(w,y){w.row==y.row&&(w.column-=y.column),w.row-=y.row};o.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),r.snippetManager=new m;var _=n("./editor").Editor;(function(){this.insertSnippet=function(w,y){return r.snippetManager.insertSnippet(this,w,y)},this.expandSnippet=function(w){return r.snippetManager.expandWithTab(this,w)}}).call(_.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(n,r,i){var o=n("../virtual_renderer").VirtualRenderer,s=n("../editor").Editor,l=n("../range").Range,a=n("../lib/event"),u=n("../lib/lang"),c=n("../lib/dom"),h=n("../config").nls,f=n("./../lib/useragent"),p=function(C){return"suggest-aria-id:".concat(C)},d=f.isSafari?"menu":"listbox",g=f.isSafari?"menuitem":"option",m=f.isSafari?"aria-current":"aria-selected",v=function(C){var x=new o(C);x.$maxLines=4;var _=new s(x);return _.setHighlightActiveLine(!1),_.setShowPrintMargin(!1),_.renderer.setShowGutter(!1),_.renderer.setHighlightGutterLine(!1),_.$mouseHandler.$focusTimeout=0,_.$highlightTagPending=!0,_},b=function(){function C(x){var _=c.createElement("div"),w=v(_);x&&x.appendChild(_),_.style.display="none",w.renderer.content.style.cursor="default",w.renderer.setStyle("ace_autocomplete"),w.renderer.$textLayer.element.setAttribute("role",d),w.renderer.$textLayer.element.setAttribute("aria-roledescription",h("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),w.renderer.$textLayer.element.setAttribute("aria-label",h("autocomplete.popup.aria-label","Autocomplete suggestions")),w.renderer.textarea.setAttribute("aria-hidden","true"),w.setOption("displayIndentGuides",!1),w.setOption("dragDelay",150);var y=function(){};w.focus=y,w.$isFocused=!0,w.renderer.$cursorLayer.restartTimer=y,w.renderer.$cursorLayer.element.style.opacity="0",w.renderer.$maxLines=8,w.renderer.$keepTextAreaAtCursor=!1,w.setHighlightActiveLine(!1),w.session.highlight(""),w.session.$searchHighlight.clazz="ace_highlight-marker",w.on("mousedown",function(E){var L=E.getDocumentPosition();w.selection.moveToPosition(L),M.start.row=M.end.row=L.row,E.stop()});var S,A=new l(-1,0,-1,1/0),M=new l(-1,0,-1,1/0);M.id=w.session.addMarker(M,"ace_active-line","fullLine"),w.setSelectOnHover=function(E){E?A.id&&(w.session.removeMarker(A.id),A.id=null):A.id=w.session.addMarker(A,"ace_line-hover","fullLine")},w.setSelectOnHover(!1),w.on("mousemove",function(E){if(!S){S=E;return}if(!(S.x==E.x&&S.y==E.y)){S=E,S.scrollTop=w.renderer.scrollTop,w.isMouseOver=!0;var L=S.getDocumentPosition().row;A.start.row!=L&&(A.id||w.setRow(L),k(L))}}),w.renderer.on("beforeRender",function(){if(S&&A.start.row!=-1){S.$pos=null;var E=S.getDocumentPosition().row;A.id||w.setRow(E),k(E,!0)}}),w.renderer.on("afterRender",function(){var E=w.getRow(),L=w.renderer.$textLayer,P=L.element.childNodes[E-L.config.firstRow],I=document.activeElement;if(P!==w.selectedNode&&w.selectedNode&&(c.removeCssClass(w.selectedNode,"ace_selected"),I.removeAttribute("aria-activedescendant"),w.selectedNode.removeAttribute(m),w.selectedNode.removeAttribute("id")),w.selectedNode=P,P){c.addCssClass(P,"ace_selected");var D=p(E);P.id=D,L.element.setAttribute("aria-activedescendant",D),I.setAttribute("aria-activedescendant",D),P.setAttribute("role",g),P.setAttribute("aria-roledescription",h("autocomplete.popup.item.aria-roledescription","item")),P.setAttribute("aria-label",w.getData(E).caption||w.getData(E).value),P.setAttribute("aria-setsize",w.data.length),P.setAttribute("aria-posinset",E+1),P.setAttribute("aria-describedby","doc-tooltip"),P.setAttribute(m,"true")}});var R=function(){k(-1)},k=function(E,L){E!==A.start.row&&(A.start.row=A.end.row=E,L||w.session._emit("changeBackMarker"),w._emit("changeHoverMarker"))};w.getHoveredRow=function(){return A.start.row},a.addListener(w.container,"mouseout",function(){w.isMouseOver=!1,R()}),w.on("hide",R),w.on("changeSelection",R),w.session.doc.getLength=function(){return w.data.length},w.session.doc.getLine=function(E){var L=w.data[E];return typeof L=="string"?L:L&&L.value||""};var $=w.session.bgTokenizer;return $.$tokenizeRow=function(E){var L=w.data[E],P=[];if(!L)return P;typeof L=="string"&&(L={value:L});var I=L.caption||L.value||L.name;function D(ee,re){ee&&P.push({type:(L.className||"")+(re||""),value:ee})}for(var W=I.toLowerCase(),z=(w.filterText||"").toLowerCase(),G=0,Z=0,q=0;q<=z.length;q++)if(q!=Z&&(L.matchMask&1<<q||q==z.length)){var X=z.slice(Z,q);Z=q;var Y=W.indexOf(X,G);if(Y==-1)continue;D(I.slice(G,Y),""),G=Y+X.length,D(I.slice(Y,G),"completion-highlight")}return D(I.slice(G,I.length),""),P.push({type:"completion-spacer",value:" "}),L.meta&&P.push({type:"completion-meta",value:L.meta}),L.message&&P.push({type:"completion-message",value:L.message}),P},$.$updateOnChange=y,$.start=y,w.session.$computeWidth=function(){return this.screenWidth=0},w.isOpen=!1,w.isTopdown=!1,w.autoSelect=!0,w.filterText="",w.isMouseOver=!1,w.data=[],w.setData=function(E,L){w.filterText=L||"",w.setValue(u.stringRepeat(`
`,E.length),-1),w.data=E||[],w.setRow(0)},w.getData=function(E){return w.data[E]},w.getRow=function(){return M.start.row},w.setRow=function(E){E=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,E)),M.start.row!=E&&(w.selection.clearSelection(),M.start.row=M.end.row=E||0,w.session._emit("changeBackMarker"),w.moveCursorTo(E||0,0),w.isOpen&&w._signal("select"))},w.on("changeSelection",function(){w.isOpen&&w.setRow(w.selection.lead.row),w.renderer.scrollCursorIntoView()}),w.hide=function(){this.container.style.display="none",w.anchorPos=null,w.anchor=null,w.isOpen&&(w.isOpen=!1,this._signal("hide"))},w.tryShow=function(E,L,P,I){if(!I&&w.isOpen&&w.anchorPos&&w.anchor&&w.anchorPos.top===E.top&&w.anchorPos.left===E.left&&w.anchor===P)return!0;var D=this.container,W=window.innerHeight,z=window.innerWidth,G=this.renderer,Z=G.$maxLines*L*1.4,q={top:0,bottom:0,left:0},X=W-E.top-3*this.$borderSize-L,Y=E.top-3*this.$borderSize;P||(Y<=X||X>=Z?P="bottom":P="top"),P==="top"?(q.bottom=E.top-this.$borderSize,q.top=q.bottom-Z):P==="bottom"&&(q.top=E.top+L+this.$borderSize,q.bottom=q.top+Z);var ee=q.top>=0&&q.bottom<=W;if(!I&&!ee)return!1;ee?G.$maxPixelHeight=null:P==="top"?G.$maxPixelHeight=Y:G.$maxPixelHeight=X,P==="top"?(D.style.top="",D.style.bottom=W-q.bottom+"px",w.isTopdown=!1):(D.style.top=q.top+"px",D.style.bottom="",w.isTopdown=!0),D.style.display="";var re=E.left;return re+D.offsetWidth>z&&(re=z-D.offsetWidth),D.style.left=re+"px",D.style.right="",w.isOpen||(w.isOpen=!0,this._signal("show"),S=null),w.anchorPos=E,w.anchor=P,!0},w.show=function(E,L,P){this.tryShow(E,L,P?"bottom":void 0,!0)},w.goTo=function(E){var L=this.getRow(),P=this.session.getLength()-1;switch(E){case"up":L=L<=0?P:L-1;break;case"down":L=L>=P?-1:L+1;break;case"start":L=0;break;case"end":L=P;break}this.setRow(L)},w.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},w.$imageSize=0,w.$borderSize=1,w}return C}();c.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),r.AcePopup=b,r.$singleLineEditor=v,r.getAriaId=p}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(n,r,i){var o=function(){function s(l){this.editor=l,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return s.prototype.setScreenReaderContent=function(l){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var u=this.popup.getRow(),c=this.popup.renderer.$textLayer,h=c.element.childNodes[u-c.config.firstRow];if(h){for(var f="doc-tooltip ",p=0;p<this._lines.length;p++)f+="ace-inline-screenreader-line-".concat(p," ");h.setAttribute("aria-describedby",f)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=l.split(/\r\n|\r|\n/);var a=this.createCodeBlock();this.screenReaderDiv.appendChild(a)},s.prototype.destroy=function(){this.screenReaderDiv.remove()},s.prototype.createCodeBlock=function(){var l=document.createElement("pre");l.setAttribute("id","ace-inline-screenreader");for(var a=0;a<this._lines.length;a++){var u=document.createElement("code");u.setAttribute("id","ace-inline-screenreader-line-".concat(a));var c=document.createTextNode(this._lines[a]);u.appendChild(c),l.appendChild(u)}return l},s}();r.AceInlineScreenReader=o}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(n,r,i){var o=n("../snippets").snippetManager,s=n("./inline_screenreader").AceInlineScreenReader,l=function(){function a(){this.editor=null}return a.prototype.show=function(u,c,h){if(h=h||"",u&&this.editor&&this.editor!==u&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!u||!c)return!1;this.inlineScreenReader||(this.inlineScreenReader=new s(u));var f=c.snippet?o.getDisplayTextForSnippet(u,c.snippet):c.value;return c.hideInlinePreview||!f||!f.startsWith(h)?!1:(this.editor=u,this.inlineScreenReader.setScreenReaderContent(f),f=f.slice(h.length),f===""?u.removeGhostText():u.setGhostText(f),!0)},a.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},a.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},a.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},a}();r.AceInline=l}),ace.define("ace/autocomplete/util",["require","exports","module"],function(n,r,i){r.parForEach=function(s,l,a){var u=0,c=s.length;c===0&&a();for(var h=0;h<c;h++)l(s[h],function(f,p){u++,u===c&&a(f,p)})};var o=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;r.retrievePrecedingIdentifier=function(s,l,a){a=a||o;for(var u=[],c=l-1;c>=0&&a.test(s[c]);c--)u.push(s[c]);return u.reverse().join("")},r.retrieveFollowingIdentifier=function(s,l,a){a=a||o;for(var u=[],c=l;c<s.length&&a.test(s[c]);c++)u.push(s[c]);return u},r.getCompletionPrefix=function(s){var l=s.getCursorPosition(),a=s.session.getLine(l.row),u;return s.completers.forEach((function(c){c.identifierRegexps&&c.identifierRegexps.forEach((function(h){!u&&h&&(u=this.retrievePrecedingIdentifier(a,l.column,h))}).bind(this))}).bind(this)),u||this.retrievePrecedingIdentifier(a,l.column)},r.triggerAutocomplete=function(s,a){var a=a??s.session.getPrecedingCharacter();return s.completers.some(function(u){if(u.triggerCharacters&&Array.isArray(u.triggerCharacters))return u.triggerCharacters.includes(a)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(n,r,i){var o=n("./keyboard/hash_handler").HashHandler,s=n("./autocomplete/popup").AcePopup,l=n("./autocomplete/inline").AceInline,a=n("./autocomplete/popup").getAriaId,u=n("./autocomplete/util"),c=n("./lib/lang"),h=n("./lib/dom"),f=n("./snippets").snippetManager,p=n("./config"),d=n("./lib/event"),g=n("./lib/scroll").preventParentScroll,m=function(x,_){_.completer&&_.completer.destroy()},v=function(){function x(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new o,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=c.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=c.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=c.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=c.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=c.delayedCall((function(){var _=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!_||this.editor.completers.length===0||(this.completions=new C(x.completionsForLoading),this.openPopup(this.editor,_.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(x,"completionsForLoading",{get:function(){return[{caption:p.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),x.prototype.$init=function(){return this.popup=new s(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(_){this.insertMatch(),_.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),d.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},x.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new l,this.inlineRenderer},x.prototype.getPopup=function(){return this.popup||this.$init()},x.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},x.prototype.$seen=function(_){!this.hasSeen.has(_)&&_&&_.completer&&_.completer.onSeen&&typeof _.completer.onSeen=="function"&&(_.completer.onSeen(this.editor,_),this.hasSeen.add(_))},x.prototype.$onPopupChange=function(_){if(this.inlineRenderer&&this.inlineEnabled){var w=_?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(w),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},x.prototype.$updateGhostText=function(_){var w=this.base.row,y=this.base.column,S=this.editor.getCursorPosition().column,A=this.editor.session.getLine(w).slice(y,S);this.inlineRenderer.show(this.editor,_,A)?this.$seen(_):this.inlineRenderer.hide()},x.prototype.$onPopupRender=function(){var _=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var w=this.popup.getFirstVisibleRow();w<=this.popup.getLastVisibleRow();w++){var y=this.popup.getData(w);y&&(!_||y.hideInlinePreview)&&this.$seen(y)}},x.prototype.$onPopupShow=function(_){this.$onPopupChange(_),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},x.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var _=this.editor.container.parentNode,w=[];_;)w.push(_),_.addEventListener("scroll",this.onLayoutChange,{passive:!0}),_=_.parentNode;this.$elements=w}},x.prototype.unObserveLayoutChanges=function(){var _=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(w){w.removeEventListener("scroll",_.onLayoutChange,{passive:!0})}),this.$elements=null},x.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},x.prototype.$updatePopupPosition=function(){var _=this.editor,w=_.renderer,y=w.layerConfig.lineHeight,S=w.$cursorLayer.getPixelPosition(this.base,!0);S.left-=this.popup.getTextLeftOffset();var A=_.container.getBoundingClientRect();S.top+=A.top-w.layerConfig.offset,S.left+=A.left-_.renderer.scrollLeft,S.left+=w.gutterWidth;var M={top:S.top,left:S.left};w.$ghostText&&w.$ghostTextWidget&&this.base.row===w.$ghostText.position.row&&(M.top+=w.$ghostTextWidget.el.offsetHeight);var R=_.container.getBoundingClientRect().bottom-y,k=R<M.top?{top:R,left:M.left}:M;this.popup.tryShow(k,y,"bottom")||this.popup.tryShow(S,y,"top")||this.popup.show(S,y)},x.prototype.openPopup=function(_,w,y){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var S=this.popup.getRow(),A=this.popup.data[S];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:a(this.popup.getRow()),inline:this.inlineEnabled}),_.keyBinding.addKeyboardHandler(this.keyboardHandler);var M;this.stickySelection&&(M=this.popup.data.indexOf(A)),(!M||M===-1)&&(M=0),this.popup.setRow(this.autoSelect?M:-1),M===S&&A!==this.completions.filtered[M]&&this.$onPopupChange();var R=this.inlineRenderer&&this.inlineEnabled;if(M===S&&R){var k=this.popup.getData(this.popup.getRow());this.$updateGhostText(k)}y||(this.popup.setTheme(_.getTheme()),this.popup.setFontSize(_.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},x.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},x.prototype.changeListener=function(_){var w=this.editor.selection.lead;(w.row!=this.base.row||w.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},x.prototype.blurListener=function(_){var w=document.activeElement,y=this.editor.textInput.getElement(),S=_.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(_.relatedTarget),A=this.popup&&this.popup.container;w!=y&&w.parentNode!=A&&!S&&w!=this.tooltipNode&&_.relatedTarget!=y&&this.detach()},x.prototype.mousedownListener=function(_){this.detach()},x.prototype.mousewheelListener=function(_){this.popup&&!this.popup.isMouseOver&&this.detach()},x.prototype.mouseOutListener=function(_){this.popup.isOpen&&this.$updatePopupPosition()},x.prototype.goTo=function(_){this.popup.goTo(_)},x.prototype.insertMatch=function(_,w){if(_||(_=this.popup.getData(this.popup.getRow())),!_)return!1;if(_.value==="")return this.detach();var y=this.completions,S=this.getCompletionProvider().insertMatch(this.editor,_,y.filterText,w);return this.completions==y&&this.detach(),S},x.prototype.showPopup=function(_,w){this.editor&&this.detach(),this.activated=!0,this.editor=_,_.completer!=this&&(_.completer&&_.completer.detach(),_.completer=this),_.on("changeSelection",this.changeListener),_.on("blur",this.blurListener),_.on("mousedown",this.mousedownListener),_.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,w)},x.prototype.getCompletionProvider=function(_){return this.completionProvider||(this.completionProvider=new b(_)),this.completionProvider},x.prototype.gatherCompletions=function(_,w){return this.getCompletionProvider().gatherCompletions(_,w)},x.prototype.updateCompletions=function(_,w){if(_&&this.base&&this.completions){var S=this.editor.getCursorPosition(),A=this.editor.session.getTextRange({start:this.base,end:S});if(A==this.completions.filterText)return;if(this.completions.setFilter(A),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==A&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,A,_);return}if(w&&w.matches){var S=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(S.row,S.column),this.base.$insertRight=!0,this.completions=new C(w.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",_)}var y=this.editor.getSession(),S=this.editor.getCursorPosition(),A=u.getCompletionPrefix(this.editor);this.base=y.doc.createAnchor(S.row,S.column-A.length),this.base.$insertRight=!0;var M={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:A,pos:S}).provideCompletions(this.editor,M,(function(R,k,$){var E=k.filtered,L=u.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),$){if(!E.length){var P=!this.autoShown&&this.emptyMessage;if(typeof P=="function"&&(P=this.emptyMessage(L)),P){var I=[{caption:P,value:""}];this.completions=new C(I),this.openPopup(this.editor,L,_),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(E.length==1&&E[0].value==L&&!E[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&E.length==1)return this.insertMatch(E[0])}this.completions=!$&&this.showLoadingState?new C(x.completionsForLoading.concat(E),k.filterText):k,this.openPopup(this.editor,L,_),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!$)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},x.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},x.prototype.updateDocTooltip=function(){var _=this.popup,w=this.completions.filtered,y=w&&(w[_.getHoveredRow()]||w[_.getRow()]),S=null;if(!y||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var A=this.editor.completers.length,M=0;M<A;M++){var R=this.editor.completers[M];if(R.getDocTooltip&&y.completerId===R.id){S=R.getDocTooltip(y);break}}if(!S&&typeof y!="string"&&(S=y),typeof S=="string"&&(S={docText:S}),!S||!(S.docHTML||S.docText))return this.hideDocTooltip();this.showDocTooltip(S)},x.prototype.showDocTooltip=function(_){this.tooltipNode||(this.tooltipNode=h.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",g));var w=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(w.isDark?"ace_dark ":"")+(w.cssClass||"");var y=this.tooltipNode;_.docHTML?y.innerHTML=_.docHTML:_.docText&&(y.textContent=_.docText),y.parentNode||this.popup.container.appendChild(this.tooltipNode);var S=this.popup,A=S.container.getBoundingClientRect();y.style.top=S.container.style.top,y.style.bottom=S.container.style.bottom,y.style.display="block",window.innerWidth-A.right<320?A.left<320?S.isTopdown?(y.style.top=A.bottom+"px",y.style.left=A.left+"px",y.style.right="",y.style.bottom=""):(y.style.top=S.container.offsetTop-y.offsetHeight+"px",y.style.left=A.left+"px",y.style.right="",y.style.bottom=""):(y.style.right=window.innerWidth-A.left+"px",y.style.left=""):(y.style.left=A.right+1+"px",y.style.right="")},x.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var _=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==_&&this.editor.focus(),this.tooltipNode=null,_.parentNode&&_.parentNode.removeChild(_)}},x.prototype.onTooltipClick=function(_){for(var w=_.target;w&&w!=this.tooltipNode;){if(w.nodeName=="A"&&w.href){w.rel="noreferrer",w.target="_blank";break}w=w.parentNode}},x.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var _=this.popup.container;_&&_.parentNode&&_.parentNode.removeChild(_)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",m),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},x.for=function(_){return _.completer instanceof x||(_.completer&&(_.completer.destroy(),_.completer=null),p.get("sharedPopups")?(x.$sharedInstance||(x.$sharedInstance=new x),_.completer=x.$sharedInstance):(_.completer=new x,_.once("destroy",m))),_.completer},x}();v.prototype.commands={Up:function(x){x.completer.goTo("up")},Down:function(x){x.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(x){x.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(x){x.completer.goTo("end")},Esc:function(x){x.completer.detach()},Return:function(x){return x.completer.insertMatch()},"Shift-Return":function(x){x.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(x){var _=x.completer.insertMatch();if(!_&&!x.tabstopManager)x.completer.goTo("down");else return _},Backspace:function(x){x.execCommand("backspace");var _=u.getCompletionPrefix(x);!_&&x.completer&&x.completer.detach()},PageUp:function(x){x.completer.popup.gotoPageUp()},PageDown:function(x){x.completer.popup.gotoPageDown()}},v.startCommand={name:"startAutocomplete",exec:function(x,_){var w=v.for(x);w.autoInsert=!1,w.autoSelect=!0,w.autoShown=!1,w.showPopup(x,_),w.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var b=function(){function x(_){this.initialPosition=_,this.active=!0}return x.prototype.insertByIndex=function(_,w,y){return!this.completions||!this.completions.filtered?!1:this.insertMatch(_,this.completions.filtered[w],y)},x.prototype.insertMatch=function(_,w,y){if(!w)return!1;if(_.startOperation({command:{name:"insertMatch"}}),w.completer&&w.completer.insertMatch)w.completer.insertMatch(_,w);else{if(!this.completions)return!1;var S=this.completions.filterText.length,A=0;if(w.range&&w.range.start.row===w.range.end.row&&(S-=this.initialPosition.prefix.length,S+=this.initialPosition.pos.column-w.range.start.column,A+=w.range.end.column-this.initialPosition.pos.column),S||A){var M;_.selection.getAllRanges?M=_.selection.getAllRanges():M=[_.getSelectionRange()];for(var R=0,k;k=M[R];R++)k.start.column-=S,k.end.column+=A,_.session.remove(k)}w.snippet?f.insertSnippet(_,w.snippet):this.$insertString(_,w),w.completer&&w.completer.onInsert&&typeof w.completer.onInsert=="function"&&w.completer.onInsert(_,w),w.command&&w.command==="startAutocomplete"&&_.execCommand(w.command)}return _.endOperation(),!0},x.prototype.$insertString=function(_,w){var y=w.value||w;_.execCommand("insertstring",y)},x.prototype.gatherCompletions=function(_,w){var y=_.getSession(),S=_.getCursorPosition(),A=u.getCompletionPrefix(_),M=[];this.completers=_.completers;var R=_.completers.length;return _.completers.forEach(function(k,$){k.getCompletions(_,y,S,A,function(E,L){k.hideInlinePreview&&(L=L.map(function(P){return Object.assign(P,{hideInlinePreview:k.hideInlinePreview})})),!E&&L&&(M=M.concat(L)),w(null,{prefix:u.getCompletionPrefix(_),matches:M,finished:--R===0})})}),!0},x.prototype.provideCompletions=function(_,w,y){var S=(function(k){var $=k.prefix,E=k.matches;this.completions=new C(E),w.exactMatch&&(this.completions.exactMatch=!0),w.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter($),(k.finished||this.completions.filtered.length)&&y(null,this.completions,k.finished)}).bind(this),A=!0,M=null;if(this.gatherCompletions(_,(function(k,$){if(this.active){k&&(y(k,[],!0),this.detach());var E=$.prefix;if(E.indexOf($.prefix)===0){if(A){M=$;return}S($)}}}).bind(this)),A=!1,M){var R=M;M=null,S(R)}},x.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(_){typeof _.cancel=="function"&&_.cancel()})},x}(),C=function(){function x(_,w){this.all=_,this.filtered=_,this.filterText=w||"",this.exactMatch=!1,this.ignoreCaption=!1}return x.prototype.setFilter=function(_){if(_.length>this.filterText&&_.lastIndexOf(this.filterText,0)===0)var w=this.filtered;else var w=this.all;this.filterText=_,w=this.filterCompletions(w,this.filterText),w=w.sort(function(S,A){return A.exactMatch-S.exactMatch||A.$score-S.$score||(S.caption||S.value).localeCompare(A.caption||A.value)});var y=null;w=w.filter(function(S){var A=S.snippet||S.caption||S.value;return A===y?!1:(y=A,!0)}),this.filtered=w},x.prototype.filterCompletions=function(_,w){var y=[],S=w.toUpperCase(),A=w.toLowerCase();e:for(var M=0,R;R=_[M];M++){var k=!this.ignoreCaption&&R.caption||R.value||R.snippet;if(k){var $=-1,E=0,L=0,P,I;if(this.exactMatch){if(w!==k.substr(0,w.length))continue e}else{var D=k.toLowerCase().indexOf(A);if(D>-1)L=D;else for(var W=0;W<w.length;W++){var z=k.indexOf(A[W],$+1),G=k.indexOf(S[W],$+1);if(P=z>=0&&(G<0||z<G)?z:G,P<0)continue e;I=P-$-1,I>0&&($===-1&&(L+=10),L+=I,E=E|1<<W),$=P}}R.matchMask=E,R.exactMatch=L?0:1,R.$score=(R.score||0)-L,y.push(R)}}return y},x}();r.Autocomplete=v,r.CompletionProvider=b,r.FilteredList=C}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,r,i){var o=n("../range").Range,s=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function l(u,c){var h=u.getTextRange(o.fromPoints({row:0,column:0},c));return h.split(s).length-1}function a(u,c){var h=l(u,c),f=u.getValue().split(s),p=Object.create(null),d=f[h];return f.forEach(function(g,m){if(!(!g||g===d)){var v=Math.abs(h-m),b=f.length-v;p[g]?p[g]=Math.max(b,p[g]):p[g]=b}}),p}r.getCompletions=function(u,c,h,f,p){var d=a(c,h),g=Object.keys(d);p(null,g.map(function(m){return{caption:m,value:m,score:d[m],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,r,i){var o=n("../snippets").snippetManager,s=n("../autocomplete").Autocomplete,l=n("../config"),a=n("../lib/lang"),u=n("../autocomplete/util"),c=n("../autocomplete/text_completer"),h={getCompletions:function(S,A,M,R,k){if(A.$mode.completer)return A.$mode.completer.getCompletions(S,A,M,R,k);var $=S.session.getState(M.row),E=A.$mode.getCompletions($,A,M,R);E=E.map(function(L){return L.completerId=h.id,L}),k(null,E)},id:"keywordCompleter"},f=function(S){var A={};return S.replace(/\${(\d+)(:(.*?))?}/g,function(M,R,k,$){return A[R]=$||""}).replace(/\$(\d+?)/g,function(M,R){return A[R]})},p={getCompletions:function(S,A,M,R,k){var $=[],E=A.getTokenAt(M.row,M.column);E&&E.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?$.push("html-tag"):$=o.getActiveScopes(S);var L=o.snippetMap,P=[];$.forEach(function(I){for(var D=L[I]||[],W=D.length;W--;){var z=D[W],G=z.name||z.tabTrigger;G&&P.push({caption:G,snippet:z.content,meta:z.tabTrigger&&!z.name?z.tabTrigger+"⇥ ":"snippet",completerId:p.id})}},this),k(null,P)},getDocTooltip:function(S){S.snippet&&!S.docHTML&&(S.docHTML=["<b>",a.escapeHTML(S.caption),"</b>","<hr></hr>",a.escapeHTML(f(S.snippet))].join(""))},id:"snippetCompleter"},d=[p,c,h];r.setCompleters=function(S){d.length=0,S&&d.push.apply(d,S)},r.addCompleter=function(S){d.push(S)},r.textCompleter=c,r.keyWordCompleter=h,r.snippetCompleter=p;var g={name:"expandSnippet",exec:function(S){return o.expandWithTab(S)},bindKey:"Tab"},m=function(S,A){v(A.session.$mode)},v=function(S){typeof S=="string"&&(S=l.$modes[S]),S&&(o.files||(o.files={}),b(S.$id,S.snippetFileId),S.modes&&S.modes.forEach(v))},b=function(S,A){!A||!S||o.files[S]||(o.files[S]={},l.loadModule(A,function(M){M&&(o.files[S]=M,!M.snippets&&M.snippetText&&(M.snippets=o.parseSnippetFile(M.snippetText)),o.register(M.snippets||[],M.scope),M.includeScopes&&(o.snippetMap[M.scope].includeScopes=M.includeScopes,M.includeScopes.forEach(function(R){v("ace/mode/"+R)})))}))},C=function(S){var A=S.editor,M=A.completer&&A.completer.activated;if(S.command.name==="backspace")M&&!u.getCompletionPrefix(A)&&A.completer.detach();else if(S.command.name==="insertstring"&&!M){x=S;var R=S.editor.$liveAutocompletionDelay;R?_.delay(R):w(S)}},x,_=a.delayedCall(function(){w(x)},0),w=function(S){var A=S.editor,M=u.getCompletionPrefix(A),R=S.args,k=u.triggerAutocomplete(A,R);if(M&&M.length>=A.$liveAutocompletionThreshold||k){var $=s.for(A);$.autoShown=!0,$.showPopup(A)}},y=n("../editor").Editor;n("../config").defineOptions(y.prototype,"editor",{enableBasicAutocompletion:{set:function(S){S?(this.completers||(this.completers=Array.isArray(S)?S:d),this.commands.addCommand(s.startCommand)):this.commands.removeCommand(s.startCommand)},value:!1},enableLiveAutocompletion:{set:function(S){S?(this.completers||(this.completers=Array.isArray(S)?S:d),this.commands.on("afterExec",C)):this.commands.off("afterExec",C)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(S){S?(this.commands.addCommand(g),this.on("changeMode",m),m(null,this)):(this.commands.removeCommand(g),this.off("changeMode",m))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(n){t&&(t.exports=n)})}()})(_O);const SO=dt.forwardRef((t,e)=>{let n=(t.widthFlag??0).toString();return U.jsx(pO,{name:t.name,mode:t.mode,theme:"tomorrow",value:t.value,height:"100%",width:`calc(100% - ${n}px + ${n}px)`,fontSize:t.fontSize??15,highlightActiveLine:!1,onChange:t.onChange,onCursorChange:t.onCursorChange,setOptions:{scrollPastEnd:!0,enableLiveAutocompletion:!0,printMarginColumn:143},wrapEnabled:t.lineWrap,ref:e,onLoad:t.onLoad,annotations:t.annotations})});pC.define("ace/mode/sparksnmn_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e,n){var r=t("../lib/oop"),i=t("./text_highlight_rules").TextHighlightRules,o=function(){var s=`\\\\(x[0-9A-Fa-f]{2}|[\\\\rnt*'"/]|u[0-9A-Fa-f]{4})`;let l={};function a(_,w){_ in l||(l[_]=w)}function u(_,w){return a("comment",[{token:w?"comment":"text",regex:"\\\\$",next:"comment"},{token:"comment",regex:/$/,next:"start"},{defaultToken:"comment"}]),[{token:"comment",regex:/\/\//,next:"comment"}]}function c(_,w){return a("string_"+_,[{token:w?"comment":"constant.language.escape",regex:s},{token:w?"comment":"text",regex:"\\\\$",next:"string_"+_},{token:w?"comment":"string",regex:/"$/,next:"start"},{token:w?"comment":"string",regex:/"/,next:_},{token:w?"comment":"string",regex:/$/,next:"start"},{defaultToken:w?"comment":"string"}]),[{token:w?"comment":"string",regex:/"/,next:"string_"+_}]}function h(_,w){return[...u(_,w),...c(_,w),{defaultToken:w?"comment":"text"}]}function f(_){return[{token:"text",regex:"\\\\$",next:_},{token:"string",regex:/$/,next:"start"}]}function p(_){return[{token:"text",regex:"\\\\$",next:_},{token:"string",regex:/"|$/,next:"start"}]}function d(_,w,y){_=_.concat(_.map(A=>oa(A).headFull));let S=[];return _.forEach(A=>{let M=y?"string":"variable";oa(A).hasProps=="none"&&(M="invalid"),S.push({token:["keyword","bracket",M,"bracket","operator"],regex:"^(\\s*"+A+"\\b\\s*)(\\[)(.*?)(\\])(\\s*:\\s*)$",next:"start"}),S.push({token:["keyword","comment","operator"],regex:"^(\\s*"+A+"\\b)([^:]*?)(:\\s*)$",next:"start"}),S.push({token:["keyword","bracket",M,"bracket","operator"],regex:"^(\\s*"+A+"\\b\\s*)(\\[)(.*?)(\\])(\\s*:\\s*)",next:w}),S.push({token:["keyword","comment","operator"],regex:"^(\\s*"+A+"\\b)(.*?)(:\\s*)",next:w})}),S}function g(_){const w="line_string";return a(w,[...u(w,!1),...f(w),{token:"constant.language.escape",regex:s},{defaultToken:"string"}]),d(_,w,!0)}function m(_){const w="line_none";return a(w,[...u(w,!1),...f(w),{defaultToken:"invalid"}]),d(_,w,!0)}function v(_){const w="line_general";return a(w,[...h(w,!1),...p(w),{token:"constant.numeric",regex:/,/},{token:"operator",regex:/[\(\)\[\]\{\}]/},{defaultToken:"text"}]),d(_,w,!0)}function b(_){const w="line_notes";return a(w+"_bracket",[...h(w+"_bracket",!1),...p(w+"_bracket"),{token:"constant.numeric",regex:/\]$/,next:"start"},{token:"constant.numeric",regex:/\]/,next:w},{defaultToken:"constant.numeric"}]),a(w+"_brace",[...h(w+"_brace",!1),...p(w+"_brace"),{token:"keyword",regex:/\}$/,next:"start"},{token:"keyword",regex:/\}/,next:w},{defaultToken:"keyword"}]),a(w,[...h(w,!1),...p(w),{token:"comment",regex:/[\(\)]/},{token:"operator",regex:/[\|\/:]/},{token:"constant.numeric",regex:/\[/,next:w+"_bracket"},{token:"keyword",regex:/\{/,next:w+"_brace"},{defaultToken:"variable"}]),d(_,w,!1)}function C(_){const w="line_auto_lyrics";return a(w+"_bracket",[...h(w+"_bracket",!1),...p(w+"_bracket"),{token:"constant.numeric",regex:/\]\]$/,next:"start"},{token:"constant.numeric",regex:/\]\]/,next:w},{defaultToken:"constant.numeric"}]),a(w+"_brace",[...h(w+"_brace",!1),...p(w+"_brace"),{token:"keyword",regex:/\}$/,next:"start"},{token:"keyword",regex:/\}/,next:w},{defaultToken:"keyword"}]),a(w,[...h(w,!1),...p(w),{token:"comment",regex:/[\(\)]/},{token:"constant.numeric",regex:/\[\[/,next:w+"_bracket"},{token:"text",regex:/[\[\]]/},{token:"keyword",regex:/[%_]/},{token:"keyword",regex:/\{/,next:w+"_brace"},{defaultToken:"text"}]),d(_,w,!1)}function x(_){const w="line_lyrics";return a(w+"_bracket",[...h(w+"_bracket",!1),...p(w+"_bracket"),{token:"constant.numeric",regex:/\]\]/,next:w},{defaultToken:"constant.numeric"}]),a(w,[...h(w,!1),...p(w),{token:"constant.comment",regex:/\//},{token:"constant.keyword",regex:/[#@_]/},{token:"constant.numeric",regex:/\[\[/,next:w+"_bracket"},{token:"operator",regex:/[\(\)\[\]\{\}]/},{defaultToken:"text"}]),d(_,w,!1)}this.$rules={start:[...h("start",!0),...g(["Dt","Df","Dv","Dp","Ds","Da","Dl","Dr","P","Pi","Sp","Frp","Rp","Srp","T","S"]),...m(["B"]),...v(["J"]),...b(["N","Na","Nc","Ns","A","La"]),...C(["Lc","Lw"]),...x(["L"]),{token:["invalid","comment","operator"],regex:"^(\\s*\\w+\\b)(.*?)(:\\s*)",next:"line_string"},{token:"operator",regex:/^\s*(\-+|=+)\s*$/},{defaultToken:"text"}]},this.$rules={...this.$rules,...l},this.normalizeRules()};r.inherits(o,i),e.SparksnmnHighlightRules=o});pC.define("ace/mode/sparksnmn",function(t,e,n){const r=t("../lib/oop"),i=t("./text").Mode,o=t("./sparksnmn_highlight_rules").SparksnmnHighlightRules,s=function(){this.lineCommentStart="//",this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};r.inherits(s,i),e.Mode=s});const xO=dt.forwardRef((t,e)=>{const n=dt.useRef(null);V.useImperativeHandle(e,()=>(n.current&&n.current.editor.session.setAnnotations(i),n.current));const r=t.language,i=dt.useMemo(()=>{var l;return((l=t.issues)==null?void 0:l.map(a=>({row:Math.max(0,a.lineNumber-1),column:a.index,type:a.severity=="error"?"error":"warning",text:Me.issueDescription(r,a)})))??[]},[t.issues,r]);function o(s){s.completers=[],s.completers.push({getCompletions:(l,a,u,c,h)=>{const f=a.getValue(),p=qi.unconvertCursor(f,[u.row+1,u.column]);let g=p.code.substring(0,p.position[1]).trim();if(g==c){const m=Hb.commandDefs.map(v=>({caption:v.head,value:v.head+": ",score:100,meta:Me.commandDescription(r,v.head)})).concat(Hb.commandDefs.map(v=>({caption:v.headFull,value:v.headFull+": ",score:90,meta:Me.commandDescription(r,v.head)}))).filter(v=>v.caption.slice(0,c.length).toLocaleLowerCase()==c.toLocaleLowerCase());h(null,m);return}if(/^(Rp|Srp|Frp)(.*?):/.test(g)&&!/=(\S*)$/.test(g)){const m=er(n0,(v,b)=>({caption:b,value:b+"=",score:100,meta:Me.renderPropsDesc(r,b)})).filter(v=>!(!g.startsWith("Rp")&&Rx.includes(v.caption??"")||g.startsWith("Frp")&&!Lx.includes(v.caption??"")));h(null,m)}}})}return U.jsx(SO,{name:t.name,mode:"sparksnmn",value:t.value??"",onChange:t.onChange,onCursorChange:t.onCursorChange,ref:n,lineWrap:!1,onLoad:o,fontSize:t.fontSize})}),ql=t=>V.useMemo(()=>Mn({pill:{verticalAlign:"middle",fontSize:"13.5px",padding:"0 8px",height:"100%",border:"none",background:"#0000",color:"#333","&:hover:not([disabled])":{background:t.voidaryHover},"&:active:not([disabled])":{background:t.voidaryActive},"&.active":{background:t.voidarySelected}}}),[t])();function CO(t){const{language:e,prefs:n,colorScheme:r}=V.useContext(zt),i=ql(r),o="status.displaymode.";return U.jsx(U.Fragment,{children:["edit","split","preview"].map(s=>U.jsx("button",{type:"button",className:[i.pill,...t.value==s?["active"]:[]].join(" "),style:{color:"#000"},onClick:()=>t.onChange(s),children:Me.editorText(e,o+s)},s))})}function kC(t){return dt.useEffect(()=>t(),[])}function _1(t){let e;return function(n){return function(){const r=this,i=arguments;e&&clearTimeout(e),e=setTimeout(()=>n.apply(r,i),t)}}}function TO(t){const{language:e,prefs:n,colorScheme:r}=V.useContext(zt),i=ql(r);return U.jsx(U.Fragment,{children:U.jsx("button",{type:"button",className:i.pill,children:Me.editorText(e,"status.timing.both",""+t.parseTime,""+t.renderTime)})})}function kO(t){const{language:e,prefs:n,colorScheme:r}=V.useContext(zt),i=ql(r),o="status.size.",s=n.fileSizeUnit,l={b:1,kunb:2.5,kb:1024,kkunb:1024*2.5,mb:1024**2,mkunb:1024**2*2.5}[s],a=Me.editorText(e,`${o}unit.${s}`),u=c=>{let h=0;return l>1.1&&(h=1),l>500&&(h=2),l>500*1024&&(h=3),(c/l).toFixed(h)+a};return U.jsx(U.Fragment,{children:U.jsxs("button",{type:"button",className:i.pill,children:[u(t.sourceSize),t.showPreviewSize&&"/"+u(t.previewSize)]})})}class S0{constructor(e){ge(this,"element");ge(this,"listener");this.element=e,xt(this.element).addClass("wcl-equifield-root"),this.listener=()=>{this.resize()},addEventListener("resize",this.listener),this.resize()}resize(){const e=xt(this.element);let n=this.element.offsetWidth;n>0&&e.css("font-size",`${n/64}px`)}destroy(){removeEventListener("resize",this.listener),xt(this.element).removeClass("wcl-equifield-root")}render(e){const n=xt(this.element);n.children().each(function(i){xt(this).hasClass("wcl-equifield-preserve")||xt(this).remove()});let r=0;e.forEach((i,o)=>{const s=i.padding??[0,0],l=xt("<div></div>").addClass("wcl-equifield-content"),a=i.element;l[0].appendChild(a);const u=xt("<div></div>").addClass("wcl-equifield-field").css({fontSize:`${64/(100+s[0]+s[1])}em`,height:`${i.height}em`,paddingLeft:`${s[0]}em`,paddingRight:`${s[1]}em`}).append(l);i.label&&u.attr("data-label",i.label),i.breakAfter=="avoid"?u.css("page-break-after","avoid"):i.breakAfter=="always"&&u.css("page-break-after","always"),n.append(u),r+=i.height})}}const AO=Mn({previewEf:{"@media print":{"& .wcl-equifield-field[data-label=pageSeparator]":{display:"none"}}}});function MO(t){const{onPosition:e,onPickSection:n,result:r,language:i,logTimeStat:o}=t,s=AO(),l=dt.createRef(),u=`SparksNMN-preview-${dt.useMemo(()=>Si(24),[])}`,c=He((g,m)=>{e&&e(g,m)}),h=He((g,m)=>{n&&n(g,m)});let f=!1,p=0;const d=V.useMemo(()=>{if(f=!0,r){sr.measureTime=0,sr.domDrawTime=0,al.sectionsRenderTime=0,sd.computeTime=0;let g=+new Date;const m=(()=>{try{let b=qi.render(r.result,i,c,h);const C=qi.paginize(r.result,b,i);return{fields:C.result,error:void 0,pages:C.pages}}catch(b){return console.error("Rendering error occured",b),{fields:[{element:xt('<span style="font-size: 2em">Failed to render preview due to error.</span>')[0],height:3,padding:[11,11],label:"loading"}],error:b,pages:NaN}}})();let v=+new Date;return p=v-g,o&&(console.log("===== Preview Render Stats ====="),console.log(m.fields.map(b=>b.label)),console.log("Render took ",v-g,"milliseconds"),console.log("  Measure took ",sr.measureTime,"milliseconds"),console.log("  Dom draw took ",sr.domDrawTime,"milliseconds"),console.log("  Section render took ",al.sectionsRenderTime,"milliseconds"),console.log("  Dispatching took ",sd.computeTime,"milliseconds")),m}else return{fields:[{element:xt('<span style="font-size: 2em">Loading preview...</span>')[0],height:3,padding:[11,11]}],error:void 0,pages:NaN}},[r,i,o]);return V.useLayoutEffect(()=>{if(f&&(t.onReportError&&t.onReportError(d.error),t.onReportPages&&t.onReportPages(d.pages),t.onReportTiming&&t.onReportTiming(p),t.onReportSize)){const g=JSON.stringify(d.fields.map(m=>({...m,element:m.element.outerHTML}))).replace(/</g,"\\x3c");t.onReportSize(new TextEncoder().encode(g).length)}}),dt.useLayoutEffect(()=>{const g=l.current;if(!g)return;xt(g).hasClass(u)||xt(g).addClass(u);let m=+new Date;const v=new S0(g);v.render(d.fields);let b=+new Date;return o&&console.log("Actuation took",b-m,"milliseconds"),()=>{v.destroy()}},[d,o,u]),dt.useLayoutEffect(()=>{if(r&&(xt(`.${u} .SparksNMN-sechl`).css({visibility:"hidden"}),t.cursor)){const g=qi.getHighlightedSection(r.sectionPositions,t.cursor.code,t.cursor.position);xt(`.${u} .SparksNMN-sechl-${g}`).css({visibility:"visible"})}},[r,d,t.cursor,u]),dt.useLayoutEffect(()=>{r&&(xt(`.${u} .SparksNMN-notehl`).css({visibility:"hidden"}),t.highlightedNotes&&t.highlightedNotes.forEach(g=>{g=="*"?xt(`.${u} .SparksNMN-notehl`).css({visibility:"visible"}):xt(`.${u} .SparksNMN-notehl-${g}`).css({visibility:"visible"})}))},[r,d,t.highlightedNotes,u]),dt.useLayoutEffect(()=>{r&&(xt(`.${u} .SparksNMN-secsel`).css({visibility:"hidden"}),t.showSectionPickers&&t.showSectionPickers.forEach(g=>{g=="*"?xt(`.${u} .SparksNMN-secsel`).css({visibility:"visible"}):xt(`.${u} .SparksNMN-secsel-${g}`).css({visibility:"visible"})}))},[r,d,t.showSectionPickers,u]),U.jsx("div",{className:s.previewEf,ref:l})}const EO=Mn({root:{padding:"32px 0",paddingBottom:"320px",width:"calc(100% + 1px)",boxSizing:"border-box",userSelect:"text",minHeight:"100%"},warningEf:{},"@media print":{warningEf:{display:"none"},root:{border:"none !important","& .SparksNMN-sechl":{display:"none"},"& .SparksNMN-notehl":{display:"none"},"& .SparksNMN-secsel":{display:"none !important"},"& .SparksNMN-validation":{display:"none"}}}});function $O(t){const{language:e,prefs:n,colorScheme:r}=V.useContext(zt),i=EO(),o=V.useRef(null),s=V.useRef(n.previewMaxWidth),l=n.previewMaxWidth,a=s.current!=l;s.current=l;const u=!t.result||t.result.result.musicalProps;V.useEffect(()=>{a&&window.dispatchEvent(new Event("resize")),u||(t.onReportSize&&t.onReportSize(0),t.onReportTiming&&t.onReportTiming(0),t.onReportPages&&t.onReportPages(NaN))}),V.useEffect(()=>{var f,p;o.current&&new S0(o.current).render([{element:xt("<div></div>").html(((f=n.importantWarning)==null?void 0:f.html)??"")[0],height:((p=n.importantWarning)==null?void 0:p.height)??0,padding:[11,11]}])},[n.importantWarning]);const c=V.useMemo(()=>U.jsx(RO,{}),[]),h=n.previewAlign;return U.jsxs("div",{className:i.root,style:{maxWidth:l,margin:h=="center"?"0 auto":"",borderRight:h=="left"?"1px solid #0002":""},children:[n.importantWarning&&U.jsx("div",{ref:o,className:i.warningEf}),u?U.jsx(MO,{result:t.result,language:t.language,cursor:t.cursor,onPosition:t.onPosition,onReportTiming:t.onReportTiming,onReportSize:t.onReportSize,onReportPages:t.onReportPages,logTimeStat:n.logTimeStat,highlightedNotes:t.highlightedNotes,showSectionPickers:t.pickingSections?["*"]:[],onPickSection:t.onPickSection}):c]})}function RO(t){const{language:e,prefs:n,colorScheme:r}=V.useContext(zt),i=V.createRef();return V.useEffect(()=>{let o;return i.current&&(o=new S0(i.current)),o&&o.render([{element:xt("<span></span>").css({fontSize:"3em",fontWeight:700,color:"#999"}).text(Me.editorText(e,"preview.blank.title"))[0],height:6,padding:[11,11]},{element:xt("<span></span>").css({fontSize:"2em",color:"#999"}).text(Me.editorText(e,"preview.blank.desc.1"))[0],height:4,padding:[11,11]},{element:xt("<span></span>").css({fontSize:"2em",color:"#999"}).text(Me.editorText(e,"preview.blank.desc.2"))[0],height:4,padding:[11,11]}]),()=>{o&&o.destroy()}},[e]),U.jsx("div",{ref:i})}function AC(t){t=t.replace(/\\/g,"/");let e=t.lastIndexOf("/");return e!=-1?t.substring(e+1):t}function LO(t){t=AC(t);let e=t.lastIndexOf(".");return e!=-1?t.substring(0,e):t}function NO(t){const{language:e,prefs:n,colorScheme:r}=V.useContext(zt),i=ql(r),o="status.dirty.";let s="new";t.isDirty?s="dirty":t.filename!==void 0&&(s="clean"),V.useEffect(()=>{let a="default";t.filename===void 0?a=t.isDirty?"newDirty":"new":a=t.isDirty?"dirty":"clean",n.modifyTitle&&(document.title=es(n.modifyTitle[a],t.filename?AC(t.filename):""))});const l=n.temporarySave?"Temporary":"";return U.jsxs(U.Fragment,{children:[U.jsx("button",{type:"button",className:i.pill,onClick:t.onForceUpdate,children:Me.editorText(e,o+"preview."+(t.isPreviewDirty?"dirty":"clean"))}),U.jsx("button",{type:"button",className:i.pill,onClick:t.onRequestSave,children:Me.editorText(e,o+s+l)})]})}function PO(t){const{language:e,prefs:n,colorScheme:r}=V.useContext(zt),i=ql(r),o="status.pages.";return U.jsx(U.Fragment,{children:U.jsx("button",{type:"button",className:i.pill,children:t.pages!=t.pages?Me.editorText(e,`${o}nan`):Me.editorText(e,`${o}value`,""+t.pages)})})}var MC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S1=dt.createContext&&dt.createContext(MC),OO=["attr","size","title"];function IO(t,e){if(t==null)return{};var n=DO(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DO(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(this,arguments)}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(r){FO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FO(t,e,n){return e=WO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WO(t){var e=jO(t,"string");return typeof e=="symbol"?e:e+""}function jO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EC(t){return t&&t.map((e,n)=>dt.createElement(e.tag,hd({key:n},e.attr),EC(e.child)))}function kr(t){return e=>dt.createElement(BO,ud({attr:hd({},t.attr)},e),EC(t.child))}function BO(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=IO(t,OO),l=i||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),dt.createElement("svg",ud({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:a,style:hd(hd({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&dt.createElement("title",null,o),t.children)};return S1!==void 0?dt.createElement(S1.Consumer,null,n=>e(n)):e(MC)}function zO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.976 10.072l4.357-4.357.62.618L8.284 11h-.618L3 6.333l.619-.618 4.357 4.357z"},child:[]}]})(t)}function HO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.116 8l-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884L7.116 8z"},child:[]}]})(t)}function VO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 1a7 7 0 1 1-7 7 7.008 7.008 0 0 1 7-7zM2 8c0 1.418.504 2.79 1.423 3.87l8.447-8.447A5.993 5.993 0 0 0 2 8zm12 0c0-1.418-.504-2.79-1.423-3.87L4.13 12.577A5.993 5.993 0 0 0 14 8z"},child:[]}]})(t)}function UO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4 2H3V14H4V2ZM7.29062 2.59314L6.5 3.00001V13L7.29062 13.4069L14.2906 8.40687V7.59314L7.29062 2.59314ZM13.1398 8.00001L7.5 12.0284V3.9716L13.1398 8.00001Z"},child:[]}]})(t)}function GO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4.5 3H6v10H4.5V3zm7 0v10H10V3h1.5z"},child:[]}]})(t)}function qO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M14.207 1.707L13.5 1l-6 6-6-6-.707.707 6.353 6.354h.708l6.353-6.354zm0 6L13.5 7l-6 6-6-6-.707.707 6.353 6.354h.708l6.353-6.354z"},child:[]}]})(t)}function KO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1 3l1-1h12l1 1v6h-1V3H2v8h5v1H2l-1-1V3zm14.707 9.707L9 6v9.414l2.707-2.707h4zM10 13V8.414l3.293 3.293h-2L10 13z"},child:[]}]})(t)}function YO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.78 2L3 2.41v12l.78.42 9-6V8l-9-6zM4 13.48V3.35l7.6 5.07L4 13.48z"},child:[]}]})(t)}function QO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4.681 3H2V2h3.5l.5.5V6H5V4a5 5 0 1 0 4.53-.761l.302-.954A6 6 0 1 1 4.681 3z"},child:[]}]})(t)}function XO(t){return kr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4.38 5h1V4h1V3h-1V2h-1v1h-1v1h1v1zm8 4h-1v1h-1v1h1v1h1v-1h1v-1h-1V9zM14 2V1h-1v1h-1v1h1v1h1V3h1V2h-1zm-2.947 2.442a1.49 1.49 0 0 0-2.12 0l-7.49 7.49a1.49 1.49 0 0 0 0 2.12c.59.59 1.54.59 2.12 0l7.49-7.49c.58-.58.58-1.53 0-2.12zm-8.2 8.9c-.2.2-.51.2-.71 0-.2-.2-.2-.51 0-.71l6.46-6.46.71.71-6.46 6.46zm7.49-7.49l-.32.32-.71-.71.32-.32c.2-.2.51-.2.71 0 .19.2.19.52 0 .71z"},child:[]}]})(t)}const ZO=t=>V.useMemo(()=>Mn({voidaryButton:{"&:hover":{background:t.voidaryHover},"&:active":{background:t.voidaryActive},"&.active":{background:t.voidarySelected}}}),[t])();function fd(t,[e,n]){return Math.min(n,Math.max(e,t))}function Gt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $C(t,e=[]){let n=[];function r(o,s){const l=V.createContext(s),a=n.length;n=[...n,s];function u(h){const{scope:f,children:p,...d}=h,g=(f==null?void 0:f[t][a])||l,m=V.useMemo(()=>d,Object.values(d));return U.jsx(g.Provider,{value:m,children:p})}function c(h,f){const p=(f==null?void 0:f[t][a])||l,d=V.useContext(p);if(d)return d;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(s=>V.createContext(s));return function(l){const a=(l==null?void 0:l[t])||o;return V.useMemo(()=>({[`__scope${t}`]:{...l,[t]:a}}),[l,a])}};return i.scopeName=t,[r,JO(i,...e)]}function JO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((l,{useScope:a,scopeName:u})=>{const h=a(o)[`__scope${u}`];return{...l,...h}},{});return V.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function e2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function RC(...t){return e=>t.forEach(n=>e2(n,e))}function vn(...t){return V.useCallback(RC(...t),t)}var Tu=V.forwardRef((t,e)=>{const{children:n,...r}=t,i=V.Children.toArray(n),o=i.find(n2);if(o){const s=o.props.children,l=i.map(a=>a===o?V.Children.count(s)>1?V.Children.only(null):V.isValidElement(s)?s.props.children:null:a);return U.jsx(Mv,{...r,ref:e,children:V.isValidElement(s)?V.cloneElement(s,void 0,l):null})}return U.jsx(Mv,{...r,ref:e,children:n})});Tu.displayName="Slot";var Mv=V.forwardRef((t,e)=>{const{children:n,...r}=t;if(V.isValidElement(n)){const i=i2(n);return V.cloneElement(n,{...r2(r,n.props),ref:e?RC(e,i):i})}return V.Children.count(n)>1?V.Children.only(null):null});Mv.displayName="SlotClone";var t2=({children:t})=>U.jsx(U.Fragment,{children:t});function n2(t){return V.isValidElement(t)&&t.type===t2}function r2(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{o(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function i2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function LC(t){const e=t+"CollectionProvider",[n,r]=$C(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:d,children:g}=p,m=dt.useRef(null),v=dt.useRef(new Map).current;return U.jsx(i,{scope:d,itemMap:v,collectionRef:m,children:g})};s.displayName=e;const l=t+"CollectionSlot",a=dt.forwardRef((p,d)=>{const{scope:g,children:m}=p,v=o(l,g),b=vn(d,v.collectionRef);return U.jsx(Tu,{ref:b,children:m})});a.displayName=l;const u=t+"CollectionItemSlot",c="data-radix-collection-item",h=dt.forwardRef((p,d)=>{const{scope:g,children:m,...v}=p,b=dt.useRef(null),C=vn(d,b),x=o(u,g);return dt.useEffect(()=>(x.itemMap.set(b,{ref:b,...v}),()=>void x.itemMap.delete(b))),U.jsx(Tu,{[c]:"",ref:C,children:m})});h.displayName=u;function f(p){const d=o(t+"CollectionConsumer",p);return dt.useCallback(()=>{const m=d.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll(`[${c}]`));return Array.from(d.itemMap.values()).sort((x,_)=>v.indexOf(x.ref.current)-v.indexOf(_.ref.current))},[d.collectionRef,d.itemMap])}return[{Provider:s,Slot:a,ItemSlot:h},f,r]}function o2(t,e=[]){let n=[];function r(o,s){const l=V.createContext(s),a=n.length;n=[...n,s];const u=h=>{var v;const{scope:f,children:p,...d}=h,g=((v=f==null?void 0:f[t])==null?void 0:v[a])||l,m=V.useMemo(()=>d,Object.values(d));return U.jsx(g.Provider,{value:m,children:p})};u.displayName=o+"Provider";function c(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[a])||l,d=V.useContext(p);if(d)return d;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,c]}const i=()=>{const o=n.map(s=>V.createContext(s));return function(l){const a=(l==null?void 0:l[t])||o;return V.useMemo(()=>({[`__scope${t}`]:{...l,[t]:a}}),[l,a])}};return i.scopeName=t,[r,s2(i,...e)]}function s2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((l,{useScope:a,scopeName:u})=>{const h=a(o)[`__scope${u}`];return{...l,...h}},{});return V.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var a2=V.createContext(void 0);function NC(t){const e=V.useContext(a2);return t||e||"ltr"}var l2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],sn=l2.reduce((t,e)=>{const n=V.forwardRef((r,i)=>{const{asChild:o,...s}=r,l=o?Tu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),U.jsx(l,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function c2(t,e){t&&Hl.flushSync(()=>t.dispatchEvent(e))}function ko(t){const e=V.useRef(t);return V.useEffect(()=>{e.current=t}),V.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function u2(t,e=globalThis==null?void 0:globalThis.document){const n=ko(t);V.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var h2="DismissableLayer",Ev="dismissableLayer.update",f2="dismissableLayer.pointerDownOutside",d2="dismissableLayer.focusOutside",C1,PC=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OC=V.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:l,...a}=t,u=V.useContext(PC),[c,h]=V.useState(null),f=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=V.useState({}),d=vn(e,y=>h(y)),g=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(m),b=c?g.indexOf(c):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,x=b>=v,_=m2(y=>{const S=y.target,A=[...u.branches].some(M=>M.contains(S));!x||A||(i==null||i(y),s==null||s(y),y.defaultPrevented||l==null||l())},f),w=v2(y=>{const S=y.target;[...u.branches].some(M=>M.contains(S))||(o==null||o(y),s==null||s(y),y.defaultPrevented||l==null||l())},f);return u2(y=>{b===u.layers.size-1&&(r==null||r(y),!y.defaultPrevented&&l&&(y.preventDefault(),l()))},f),V.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(C1=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),T1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=C1)}},[c,f,n,u]),V.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),T1())},[c,u]),V.useEffect(()=>{const y=()=>p({});return document.addEventListener(Ev,y),()=>document.removeEventListener(Ev,y)},[]),U.jsx(sn.div,{...a,ref:d,style:{pointerEvents:C?x?"auto":"none":void 0,...t.style},onFocusCapture:Gt(t.onFocusCapture,w.onFocusCapture),onBlurCapture:Gt(t.onBlurCapture,w.onBlurCapture),onPointerDownCapture:Gt(t.onPointerDownCapture,_.onPointerDownCapture)})});OC.displayName=h2;var p2="DismissableLayerBranch",g2=V.forwardRef((t,e)=>{const n=V.useContext(PC),r=V.useRef(null),i=vn(e,r);return V.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),U.jsx(sn.div,{...t,ref:i})});g2.displayName=p2;function m2(t,e=globalThis==null?void 0:globalThis.document){const n=ko(t),r=V.useRef(!1),i=V.useRef(()=>{});return V.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let a=function(){IC(f2,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=a,e.addEventListener("click",i.current,{once:!0})):a()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function v2(t,e=globalThis==null?void 0:globalThis.document){const n=ko(t),r=V.useRef(!1);return V.useEffect(()=>{const i=o=>{o.target&&!r.current&&IC(d2,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function T1(){const t=new CustomEvent(Ev);document.dispatchEvent(t)}function IC(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?c2(i,o):i.dispatchEvent(o)}var rm=0;function y2(){V.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??k1()),document.body.insertAdjacentElement("beforeend",t[1]??k1()),rm++,()=>{rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rm--}},[])}function k1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var im="focusScope.autoFocusOnMount",om="focusScope.autoFocusOnUnmount",A1={bubbles:!1,cancelable:!0},w2="FocusScope",DC=V.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[l,a]=V.useState(null),u=ko(i),c=ko(o),h=V.useRef(null),f=vn(e,g=>a(g)),p=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let g=function(C){if(p.paused||!l)return;const x=C.target;l.contains(x)?h.current=x:Ko(h.current,{select:!0})},m=function(C){if(p.paused||!l)return;const x=C.relatedTarget;x!==null&&(l.contains(x)||Ko(h.current,{select:!0}))},v=function(C){if(document.activeElement===document.body)for(const _ of C)_.removedNodes.length>0&&Ko(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",m);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",m),b.disconnect()}}},[r,l,p.paused]),V.useEffect(()=>{if(l){E1.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(im,A1);l.addEventListener(im,u),l.dispatchEvent(v),v.defaultPrevented||(b2(T2(FC(l)),{select:!0}),document.activeElement===g&&Ko(l))}return()=>{l.removeEventListener(im,u),setTimeout(()=>{const v=new CustomEvent(om,A1);l.addEventListener(om,c),l.dispatchEvent(v),v.defaultPrevented||Ko(g??document.body,{select:!0}),l.removeEventListener(om,c),E1.remove(p)},0)}}},[l,u,c,p]);const d=V.useCallback(g=>{if(!n&&!r||p.paused)return;const m=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(m&&v){const b=g.currentTarget,[C,x]=_2(b);C&&x?!g.shiftKey&&v===x?(g.preventDefault(),n&&Ko(C,{select:!0})):g.shiftKey&&v===C&&(g.preventDefault(),n&&Ko(x,{select:!0})):v===b&&g.preventDefault()}},[n,r,p.paused]);return U.jsx(sn.div,{tabIndex:-1,...s,ref:f,onKeyDown:d})});DC.displayName=w2;function b2(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ko(r,{select:e}),document.activeElement!==n)return}function _2(t){const e=FC(t),n=M1(e,t),r=M1(e.reverse(),t);return[n,r]}function FC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function M1(t,e){for(const n of t)if(!S2(n,{upTo:e}))return n}function S2(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function x2(t){return t instanceof HTMLInputElement&&"select"in t}function Ko(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&x2(t)&&e&&t.select()}}var E1=C2();function C2(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=$1(t,e),t.unshift(e)},remove(e){var n;t=$1(t,e),(n=t[0])==null||n.resume()}}}function $1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function T2(t){return t.filter(e=>e.tagName!=="A")}var Wr=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{},k2=UA.useId||(()=>{}),A2=0;function x0(t){const[e,n]=V.useState(k2());return Wr(()=>{n(r=>r??String(A2++))},[t]),e?`radix-${e}`:""}const M2=["top","right","bottom","left"],bs=Math.min,$r=Math.max,dd=Math.round,ef=Math.floor,Xi=t=>({x:t,y:t}),E2={left:"right",right:"left",bottom:"top",top:"bottom"},$2={start:"end",end:"start"};function $v(t,e,n){return $r(t,bs(e,n))}function Ao(t,e){return typeof t=="function"?t(e):t}function Mo(t){return t.split("-")[0]}function Kl(t){return t.split("-")[1]}function C0(t){return t==="x"?"y":"x"}function T0(t){return t==="y"?"height":"width"}function _s(t){return["top","bottom"].includes(Mo(t))?"y":"x"}function k0(t){return C0(_s(t))}function R2(t,e,n){n===void 0&&(n=!1);const r=Kl(t),i=k0(t),o=T0(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=pd(s)),[s,pd(s)]}function L2(t){const e=pd(t);return[Rv(t),e,Rv(e)]}function Rv(t){return t.replace(/start|end/g,e=>$2[e])}function N2(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function P2(t,e,n,r){const i=Kl(t);let o=N2(Mo(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Rv)))),o}function pd(t){return t.replace(/left|right|bottom|top/g,e=>E2[e])}function O2(t){return{top:0,right:0,bottom:0,left:0,...t}}function WC(t){return typeof t!="number"?O2(t):{top:t,right:t,bottom:t,left:t}}function gd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function R1(t,e,n){let{reference:r,floating:i}=t;const o=_s(e),s=k0(e),l=T0(s),a=Mo(e),u=o==="y",c=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let p;switch(a){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Kl(e)){case"start":p[s]-=f*(n&&u?-1:1);break;case"end":p[s]+=f*(n&&u?-1:1);break}return p}const I2=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,l=o.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:h}=R1(u,r,a),f=r,p={},d=0;for(let g=0;g<l.length;g++){const{name:m,fn:v}=l[g],{x:b,y:C,data:x,reset:_}=await v({x:c,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});c=b??c,h=C??h,p={...p,[m]:{...p[m],...x}},_&&d<=50&&(d++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:c,y:h}=R1(u,f,a)),g=-1)}return{x:c,y:h,placement:f,strategy:i,middlewareData:p}};async function ku(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:l,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Ao(e,t),d=WC(p),m=l[f?h==="floating"?"reference":"floating":h],v=gd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(m)))==null||n?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:a})),b=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),x=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},_=gd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:C,strategy:a}):b);return{top:(v.top-_.top+d.top)/x.y,bottom:(_.bottom-v.bottom+d.bottom)/x.y,left:(v.left-_.left+d.left)/x.x,right:(_.right-v.right+d.right)/x.x}}const D2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:l,middlewareData:a}=e,{element:u,padding:c=0}=Ao(t,e)||{};if(u==null)return{};const h=WC(c),f={x:n,y:r},p=k0(i),d=T0(p),g=await s.getDimensions(u),m=p==="y",v=m?"top":"left",b=m?"bottom":"right",C=m?"clientHeight":"clientWidth",x=o.reference[d]+o.reference[p]-f[p]-o.floating[d],_=f[p]-o.reference[p],w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let y=w?w[C]:0;(!y||!await(s.isElement==null?void 0:s.isElement(w)))&&(y=l.floating[C]||o.floating[d]);const S=x/2-_/2,A=y/2-g[d]/2-1,M=bs(h[v],A),R=bs(h[b],A),k=M,$=y-g[d]-R,E=y/2-g[d]/2+S,L=$v(k,E,$),P=!a.arrow&&Kl(i)!=null&&E!==L&&o.reference[d]/2-(E<k?M:R)-g[d]/2<0,I=P?E<k?E-k:E-$:0;return{[p]:f[p]+I,data:{[p]:L,centerOffset:E-L-I,...P&&{alignmentOffset:I}},reset:P}}}),F2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l,platform:a,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:g=!0,...m}=Ao(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Mo(i),b=_s(l),C=Mo(l)===l,x=await(a.isRTL==null?void 0:a.isRTL(u.floating)),_=f||(C||!g?[pd(l)]:L2(l)),w=d!=="none";!f&&w&&_.push(...P2(l,g,d,x));const y=[l,..._],S=await ku(e,m),A=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&A.push(S[v]),h){const E=R2(i,s,x);A.push(S[E[0]],S[E[1]])}if(M=[...M,{placement:i,overflows:A}],!A.every(E=>E<=0)){var R,k;const E=(((R=o.flip)==null?void 0:R.index)||0)+1,L=y[E];if(L)return{data:{index:E,overflows:M},reset:{placement:L}};let P=(k=M.filter(I=>I.overflows[0]<=0).sort((I,D)=>I.overflows[1]-D.overflows[1])[0])==null?void 0:k.placement;if(!P)switch(p){case"bestFit":{var $;const I=($=M.filter(D=>{if(w){const W=_s(D.placement);return W===b||W==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(W=>W>0).reduce((W,z)=>W+z,0)]).sort((D,W)=>D[1]-W[1])[0])==null?void 0:$[0];I&&(P=I);break}case"initialPlacement":P=l;break}if(i!==P)return{reset:{placement:P}}}return{}}}};function L1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function N1(t){return M2.some(e=>t[e]>=0)}const W2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ao(t,e);switch(r){case"referenceHidden":{const o=await ku(e,{...i,elementContext:"reference"}),s=L1(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:N1(s)}}}case"escaped":{const o=await ku(e,{...i,altBoundary:!0}),s=L1(o,n.floating);return{data:{escapedOffsets:s,escaped:N1(s)}}}default:return{}}}}};async function j2(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Mo(n),l=Kl(n),a=_s(n)==="y",u=["left","top"].includes(s)?-1:1,c=o&&a?-1:1,h=Ao(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:d}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof d=="number"&&(p=l==="end"?d*-1:d),a?{x:p*c,y:f*u}:{x:f*u,y:p*c}}const B2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:l}=e,a=await j2(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:s}}}}},z2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:m=>{let{x:v,y:b}=m;return{x:v,y:b}}},...a}=Ao(t,e),u={x:n,y:r},c=await ku(e,a),h=_s(Mo(i)),f=C0(h);let p=u[f],d=u[h];if(o){const m=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+c[m],C=p-c[v];p=$v(b,p,C)}if(s){const m=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=d+c[m],C=d-c[v];d=$v(b,d,C)}const g=l.fn({...e,[f]:p,[h]:d});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:o,[h]:s}}}}}},H2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:l=0,mainAxis:a=!0,crossAxis:u=!0}=Ao(t,e),c={x:n,y:r},h=_s(i),f=C0(h);let p=c[f],d=c[h];const g=Ao(l,e),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(a){const C=f==="y"?"height":"width",x=o.reference[f]-o.floating[C]+m.mainAxis,_=o.reference[f]+o.reference[C]-m.mainAxis;p<x?p=x:p>_&&(p=_)}if(u){var v,b;const C=f==="y"?"width":"height",x=["top","left"].includes(Mo(i)),_=o.reference[h]-o.floating[C]+(x&&((v=s.offset)==null?void 0:v[h])||0)+(x?0:m.crossAxis),w=o.reference[h]+o.reference[C]+(x?0:((b=s.offset)==null?void 0:b[h])||0)-(x?m.crossAxis:0);d<_?d=_:d>w&&(d=w)}return{[f]:p,[h]:d}}}},V2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:l}=e,{apply:a=()=>{},...u}=Ao(t,e),c=await ku(e,u),h=Mo(i),f=Kl(i),p=_s(i)==="y",{width:d,height:g}=o.floating;let m,v;h==="top"||h==="bottom"?(m=h,v=f===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,m=f==="end"?"top":"bottom");const b=g-c.top-c.bottom,C=d-c.left-c.right,x=bs(g-c[m],b),_=bs(d-c[v],C),w=!e.middlewareData.shift;let y=x,S=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(y=b),w&&!f){const M=$r(c.left,0),R=$r(c.right,0),k=$r(c.top,0),$=$r(c.bottom,0);p?S=d-2*(M!==0||R!==0?M+R:$r(c.left,c.right)):y=g-2*(k!==0||$!==0?k+$:$r(c.top,c.bottom))}await a({...e,availableWidth:S,availableHeight:y});const A=await s.getDimensions(l.floating);return d!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function hp(){return typeof window<"u"}function Yl(t){return jC(t)?(t.nodeName||"").toLowerCase():"#document"}function Ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function to(t){var e;return(e=(jC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jC(t){return hp()?t instanceof Node||t instanceof Ir(t).Node:!1}function Ci(t){return hp()?t instanceof Element||t instanceof Ir(t).Element:!1}function Ji(t){return hp()?t instanceof HTMLElement||t instanceof Ir(t).HTMLElement:!1}function P1(t){return!hp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ir(t).ShadowRoot}function Bu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ti(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function U2(t){return["table","td","th"].includes(Yl(t))}function fp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function A0(t){const e=M0(),n=Ci(t)?Ti(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function G2(t){let e=Ss(t);for(;Ji(e)&&!Rl(e);){if(A0(e))return e;if(fp(e))return null;e=Ss(e)}return null}function M0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rl(t){return["html","body","#document"].includes(Yl(t))}function Ti(t){return Ir(t).getComputedStyle(t)}function dp(t){return Ci(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ss(t){if(Yl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||P1(t)&&t.host||to(t);return P1(e)?e.host:e}function BC(t){const e=Ss(t);return Rl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ji(e)&&Bu(e)?e:BC(e)}function Au(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=BC(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ir(i);if(o){const l=Lv(s);return e.concat(s,s.visualViewport||[],Bu(i)?i:[],l&&n?Au(l):[])}return e.concat(i,Au(i,[],n))}function Lv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zC(t){const e=Ti(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ji(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,l=dd(n)!==o||dd(r)!==s;return l&&(n=o,r=s),{width:n,height:r,$:l}}function E0(t){return Ci(t)?t:t.contextElement}function wl(t){const e=E0(t);if(!Ji(e))return Xi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=zC(e);let s=(o?dd(n.width):n.width)/r,l=(o?dd(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const q2=Xi(0);function HC(t){const e=Ir(t);return!M0()||!e.visualViewport?q2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function K2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ir(t)?!1:e}function ga(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=E0(t);let s=Xi(1);e&&(r?Ci(r)&&(s=wl(r)):s=wl(t));const l=K2(o,n,r)?HC(o):Xi(0);let a=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,c=i.width/s.x,h=i.height/s.y;if(o){const f=Ir(o),p=r&&Ci(r)?Ir(r):r;let d=f,g=Lv(d);for(;g&&r&&p!==d;){const m=wl(g),v=g.getBoundingClientRect(),b=Ti(g),C=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,x=v.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;a*=m.x,u*=m.y,c*=m.x,h*=m.y,a+=C,u+=x,d=Ir(g),g=Lv(d)}}return gd({width:c,height:h,x:a,y:u})}function $0(t,e){const n=dp(t).scrollLeft;return e?e.left+n:ga(to(t)).left+n}function VC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:$0(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Y2(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=to(r),l=e?fp(e.floating):!1;if(r===s||l&&o)return n;let a={scrollLeft:0,scrollTop:0},u=Xi(1);const c=Xi(0),h=Ji(r);if((h||!h&&!o)&&((Yl(r)!=="body"||Bu(s))&&(a=dp(r)),Ji(r))){const p=ga(r);u=wl(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const f=s&&!h&&!o?VC(s,a,!0):Xi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-a.scrollTop*u.y+c.y+f.y}}function Q2(t){return Array.from(t.getClientRects())}function X2(t){const e=to(t),n=dp(t),r=t.ownerDocument.body,i=$r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=$r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+$0(t);const l=-n.scrollTop;return Ti(r).direction==="rtl"&&(s+=$r(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:l}}function Z2(t,e){const n=Ir(t),r=to(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;const u=M0();(!u||u&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:l,y:a}}function J2(t,e){const n=ga(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Ji(t)?wl(t):Xi(1),s=t.clientWidth*o.x,l=t.clientHeight*o.y,a=i*o.x,u=r*o.y;return{width:s,height:l,x:a,y:u}}function O1(t,e,n){let r;if(e==="viewport")r=Z2(t,n);else if(e==="document")r=X2(to(t));else if(Ci(e))r=J2(e,n);else{const i=HC(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gd(r)}function UC(t,e){const n=Ss(t);return n===e||!Ci(n)||Rl(n)?!1:Ti(n).position==="fixed"||UC(n,e)}function eI(t,e){const n=e.get(t);if(n)return n;let r=Au(t,[],!1).filter(l=>Ci(l)&&Yl(l)!=="body"),i=null;const o=Ti(t).position==="fixed";let s=o?Ss(t):t;for(;Ci(s)&&!Rl(s);){const l=Ti(s),a=A0(s);!a&&l.position==="fixed"&&(i=null),(o?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Bu(s)&&!a&&UC(t,s))?r=r.filter(c=>c!==s):i=l,s=Ss(s)}return e.set(t,r),r}function tI(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?fp(e)?[]:eI(e,this._c):[].concat(n),r],l=s[0],a=s.reduce((u,c)=>{const h=O1(e,c,i);return u.top=$r(h.top,u.top),u.right=bs(h.right,u.right),u.bottom=bs(h.bottom,u.bottom),u.left=$r(h.left,u.left),u},O1(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function nI(t){const{width:e,height:n}=zC(t);return{width:e,height:n}}function rI(t,e,n){const r=Ji(e),i=to(e),o=n==="fixed",s=ga(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const a=Xi(0);if(r||!r&&!o)if((Yl(e)!=="body"||Bu(i))&&(l=dp(e)),r){const f=ga(e,!0,o,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else i&&(a.x=$0(i));const u=i&&!r&&!o?VC(i,l):Xi(0),c=s.left+l.scrollLeft-a.x-u.x,h=s.top+l.scrollTop-a.y-u.y;return{x:c,y:h,width:s.width,height:s.height}}function sm(t){return Ti(t).position==="static"}function I1(t,e){if(!Ji(t)||Ti(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return to(t)===n&&(n=n.ownerDocument.body),n}function GC(t,e){const n=Ir(t);if(fp(t))return n;if(!Ji(t)){let i=Ss(t);for(;i&&!Rl(i);){if(Ci(i)&&!sm(i))return i;i=Ss(i)}return n}let r=I1(t,e);for(;r&&U2(r)&&sm(r);)r=I1(r,e);return r&&Rl(r)&&sm(r)&&!A0(r)?n:r||G2(t)||n}const iI=async function(t){const e=this.getOffsetParent||GC,n=this.getDimensions,r=await n(t.floating);return{reference:rI(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oI(t){return Ti(t).direction==="rtl"}const sI={convertOffsetParentRelativeRectToViewportRelativeRect:Y2,getDocumentElement:to,getClippingRect:tI,getOffsetParent:GC,getElementRects:iI,getClientRects:Q2,getDimensions:nI,getScale:wl,isElement:Ci,isRTL:oI};function aI(t,e){let n=null,r;const i=to(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),o();const{left:u,top:c,width:h,height:f}=t.getBoundingClientRect();if(l||e(),!h||!f)return;const p=ef(c),d=ef(i.clientWidth-(u+h)),g=ef(i.clientHeight-(c+f)),m=ef(u),b={rootMargin:-p+"px "+-d+"px "+-g+"px "+-m+"px",threshold:$r(0,bs(1,a))||1};let C=!0;function x(_){const w=_[0].intersectionRatio;if(w!==a){if(!C)return s();w?s(!1,w):r=setTimeout(()=>{s(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(x,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,b)}n.observe(t)}return s(!0),o}function lI(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=E0(t),c=i||o?[...u?Au(u):[],...Au(e)]:[];c.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const h=u&&l?aI(u,n):null;let f=-1,p=null;s&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=p)==null||C.observe(e)})),n()}),u&&!a&&p.observe(u),p.observe(e));let d,g=a?ga(t):null;a&&m();function m(){const v=ga(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,d=requestAnimationFrame(m)}return n(),()=>{var v;c.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,a&&cancelAnimationFrame(d)}}const cI=B2,uI=z2,hI=F2,fI=V2,dI=W2,D1=D2,pI=H2,gI=(t,e,n)=>{const r=new Map,i={platform:sI,...n},o={...i.platform,_c:r};return I2(t,e,{...i,platform:o})};var Mf=typeof document<"u"?V.useLayoutEffect:V.useEffect;function md(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!md(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!md(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function qC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function F1(t,e){const n=qC(t);return Math.round(e*n)/n}function am(t){const e=V.useRef(t);return Mf(()=>{e.current=t}),e}function mI(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:l=!0,whileElementsMounted:a,open:u}=t,[c,h]=V.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=V.useState(r);md(f,r)||p(r);const[d,g]=V.useState(null),[m,v]=V.useState(null),b=V.useCallback(D=>{D!==w.current&&(w.current=D,g(D))},[]),C=V.useCallback(D=>{D!==y.current&&(y.current=D,v(D))},[]),x=o||d,_=s||m,w=V.useRef(null),y=V.useRef(null),S=V.useRef(c),A=a!=null,M=am(a),R=am(i),k=am(u),$=V.useCallback(()=>{if(!w.current||!y.current)return;const D={placement:e,strategy:n,middleware:f};R.current&&(D.platform=R.current),gI(w.current,y.current,D).then(W=>{const z={...W,isPositioned:k.current!==!1};E.current&&!md(S.current,z)&&(S.current=z,Hl.flushSync(()=>{h(z)}))})},[f,e,n,R,k]);Mf(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const E=V.useRef(!1);Mf(()=>(E.current=!0,()=>{E.current=!1}),[]),Mf(()=>{if(x&&(w.current=x),_&&(y.current=_),x&&_){if(M.current)return M.current(x,_,$);$()}},[x,_,$,M,A]);const L=V.useMemo(()=>({reference:w,floating:y,setReference:b,setFloating:C}),[b,C]),P=V.useMemo(()=>({reference:x,floating:_}),[x,_]),I=V.useMemo(()=>{const D={position:n,left:0,top:0};if(!P.floating)return D;const W=F1(P.floating,c.x),z=F1(P.floating,c.y);return l?{...D,transform:"translate("+W+"px, "+z+"px)",...qC(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:z}},[n,l,P.floating,c.x,c.y]);return V.useMemo(()=>({...c,update:$,refs:L,elements:P,floatingStyles:I}),[c,$,L,P,I])}const vI=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?D1({element:r.current,padding:i}).fn(n):{}:r?D1({element:r,padding:i}).fn(n):{}}}},yI=(t,e)=>({...cI(t),options:[t,e]}),wI=(t,e)=>({...uI(t),options:[t,e]}),bI=(t,e)=>({...pI(t),options:[t,e]}),_I=(t,e)=>({...hI(t),options:[t,e]}),SI=(t,e)=>({...fI(t),options:[t,e]}),xI=(t,e)=>({...dI(t),options:[t,e]}),CI=(t,e)=>({...vI(t),options:[t,e]});var TI="Arrow",KC=V.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return U.jsx(sn.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:U.jsx("polygon",{points:"0,0 30,0 15,10"})})});KC.displayName=TI;var kI=KC;function YC(t){const[e,n]=V.useState(void 0);return Wr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,l;if("borderBoxSize"in o){const a=o.borderBoxSize,u=Array.isArray(a)?a[0]:a;s=u.inlineSize,l=u.blockSize}else s=t.offsetWidth,l=t.offsetHeight;n({width:s,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var R0="Popper",[QC,XC]=$C(R0),[AI,ZC]=QC(R0),JC=t=>{const{__scopePopper:e,children:n}=t,[r,i]=V.useState(null);return U.jsx(AI,{scope:e,anchor:r,onAnchorChange:i,children:n})};JC.displayName=R0;var eT="PopperAnchor",tT=V.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=ZC(eT,n),s=V.useRef(null),l=vn(e,s);return V.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:U.jsx(sn.div,{...i,ref:l})});tT.displayName=eT;var L0="PopperContent",[MI,EI]=QC(L0),nT=V.forwardRef((t,e)=>{var re,ie,ue,he,_e,Te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:a=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:d,...g}=t,m=ZC(L0,n),[v,b]=V.useState(null),C=vn(e,tt=>b(tt)),[x,_]=V.useState(null),w=YC(x),y=(w==null?void 0:w.width)??0,S=(w==null?void 0:w.height)??0,A=r+(o!=="center"?"-"+o:""),M=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},R=Array.isArray(u)?u:[u],k=R.length>0,$={padding:M,boundary:R.filter(RI),altBoundary:k},{refs:E,floatingStyles:L,placement:P,isPositioned:I,middlewareData:D}=mI({strategy:"fixed",placement:A,whileElementsMounted:(...tt)=>lI(...tt,{animationFrame:p==="always"}),elements:{reference:m.anchor},middleware:[yI({mainAxis:i+S,alignmentAxis:s}),a&&wI({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?bI():void 0,...$}),a&&_I({...$}),SI({...$,apply:({elements:tt,rects:ot,availableWidth:we,availableHeight:Ae})=>{const{width:st,height:qe}=ot.reference,Ue=tt.floating.style;Ue.setProperty("--radix-popper-available-width",`${we}px`),Ue.setProperty("--radix-popper-available-height",`${Ae}px`),Ue.setProperty("--radix-popper-anchor-width",`${st}px`),Ue.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),x&&CI({element:x,padding:l}),LI({arrowWidth:y,arrowHeight:S}),f&&xI({strategy:"referenceHidden",...$})]}),[W,z]=oT(P),G=ko(d);Wr(()=>{I&&(G==null||G())},[I,G]);const Z=(re=D.arrow)==null?void 0:re.x,q=(ie=D.arrow)==null?void 0:ie.y,X=((ue=D.arrow)==null?void 0:ue.centerOffset)!==0,[Y,ee]=V.useState();return Wr(()=>{v&&ee(window.getComputedStyle(v).zIndex)},[v]),U.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:I?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(he=D.transformOrigin)==null?void 0:he.x,(_e=D.transformOrigin)==null?void 0:_e.y].join(" "),...((Te=D.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:U.jsx(MI,{scope:n,placedSide:W,onArrowChange:_,arrowX:Z,arrowY:q,shouldHideArrow:X,children:U.jsx(sn.div,{"data-side":W,"data-align":z,...g,ref:C,style:{...g.style,animation:I?void 0:"none"}})})})});nT.displayName=L0;var rT="PopperArrow",$I={top:"bottom",right:"left",bottom:"top",left:"right"},iT=V.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=EI(rT,r),s=$I[o.placedSide];return U.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:U.jsx(kI,{...i,ref:n,style:{...i.style,display:"block"}})})});iT.displayName=rT;function RI(t){return t!==null}var LI=t=>({name:"transformOrigin",options:t,fn(e){var m,v,b;const{placement:n,rects:r,middlewareData:i}=e,s=((m=i.arrow)==null?void 0:m.centerOffset)!==0,l=s?0:t.arrowWidth,a=s?0:t.arrowHeight,[u,c]=oT(n),h={start:"0%",center:"50%",end:"100%"}[c],f=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+a/2;let d="",g="";return u==="bottom"?(d=s?h:`${f}px`,g=`${-a}px`):u==="top"?(d=s?h:`${f}px`,g=`${r.floating.height+a}px`):u==="right"?(d=`${-a}px`,g=s?h:`${p}px`):u==="left"&&(d=`${r.floating.width+a}px`,g=s?h:`${p}px`),{data:{x:d,y:g}}}});function oT(t){const[e,n="center"]=t.split("-");return[e,n]}var NI=JC,PI=tT,OI=nT,II=iT,DI="Portal",sT=V.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,o]=V.useState(!1);Wr(()=>o(!0),[]);const s=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?n$.createPortal(U.jsx(sn.div,{...r,ref:e}),s):null});sT.displayName=DI;function Nv({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=FI({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,l=ko(n),a=V.useCallback(u=>{if(o){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else i(u)},[o,t,i,l]);return[s,a]}function FI({defaultProp:t,onChange:e}){const n=V.useState(t),[r]=n,i=V.useRef(r),o=ko(e);return V.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function aT(t){const e=V.useRef({value:t,previous:t});return V.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var WI="VisuallyHidden",lT=V.forwardRef((t,e)=>U.jsx(sn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));lT.displayName=WI;var jI=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},za=new WeakMap,tf=new WeakMap,nf={},lm=0,cT=function(t){return t&&(t.host||cT(t.parentNode))},BI=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=cT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},zI=function(t,e,n,r){var i=BI(e,Array.isArray(t)?t:[t]);nf[n]||(nf[n]=new WeakMap);var o=nf[n],s=[],l=new Set,a=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var c=function(h){!h||a.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))c(f);else try{var p=f.getAttribute(r),d=p!==null&&p!=="false",g=(za.get(f)||0)+1,m=(o.get(f)||0)+1;za.set(f,g),o.set(f,m),s.push(f),g===1&&d&&tf.set(f,!0),m===1&&f.setAttribute(n,"true"),d||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return c(e),l.clear(),lm++,function(){s.forEach(function(h){var f=za.get(h)-1,p=o.get(h)-1;za.set(h,f),o.set(h,p),f||(tf.has(h)||h.removeAttribute(r),tf.delete(h)),p||h.removeAttribute(n)}),lm--,lm||(za=new WeakMap,za=new WeakMap,tf=new WeakMap,nf={})}},HI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=jI(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),zI(r,i,n,"aria-hidden")):function(){return null}},Gi=function(){return Gi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Gi.apply(this,arguments)};function uT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Mi(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function Sn(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(c){try{u(r.next(c))}catch(h){s(h)}}function a(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})}function VI(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ef="right-scroll-bar-position",$f="width-before-scroll-bar",UI="with-scroll-bars-hidden",GI="--removed-body-scroll-bar-size";function cm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qI(t,e){var n=V.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var KI=typeof window<"u"?V.useLayoutEffect:V.useEffect,W1=new WeakMap;function YI(t,e){var n=qI(null,function(r){return t.forEach(function(i){return cm(i,r)})});return KI(function(){var r=W1.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(l){o.has(l)||cm(l,null)}),o.forEach(function(l){i.has(l)||cm(l,s)})}W1.set(n,t)},[t]),n}function QI(t){return t}function XI(t,e){e===void 0&&(e=QI);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(o),s=n}var a=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(a)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function ZI(t){t===void 0&&(t={});var e=XI(null);return e.options=Gi({async:!0,ssr:!1},t),e}var hT=function(t){var e=t.sideCar,n=uT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,Gi({},n))};hT.isSideCarExport=!0;function JI(t,e){return t.useMedium(e),hT}var fT=ZI(),um=function(){},pp=V.forwardRef(function(t,e){var n=V.useRef(null),r=V.useState({onScrollCapture:um,onWheelCapture:um,onTouchMoveCapture:um}),i=r[0],o=r[1],s=t.forwardProps,l=t.children,a=t.className,u=t.removeScrollBar,c=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,d=t.inert,g=t.allowPinchZoom,m=t.as,v=m===void 0?"div":m,b=t.gapMode,C=uT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,_=YI([n,e]),w=Gi(Gi({},C),i);return V.createElement(V.Fragment,null,c&&V.createElement(x,{sideCar:fT,removeScrollBar:u,shards:h,noIsolation:p,inert:d,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:b}),s?V.cloneElement(V.Children.only(l),Gi(Gi({},w),{ref:_})):V.createElement(v,Gi({},w,{className:a,ref:_}),l))});pp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pp.classNames={fullWidth:$f,zeroRight:Ef};var eD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tD(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=eD();return e&&t.setAttribute("nonce",e),t}function nD(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rD(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var iD=function(){var t=0,e=null;return{add:function(n){t==0&&(e=tD())&&(nD(e,n),rD(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},oD=function(){var t=iD();return function(e,n){V.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dT=function(){var t=oD(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},sD={left:0,top:0,right:0,gap:0},hm=function(t){return parseInt(t||"",10)||0},aD=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[hm(n),hm(r),hm(i)]},lD=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sD;var e=aD(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},cD=dT(),bl="data-scroll-locked",uD=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(UI,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(bl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ef,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($f,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($f," .").concat($f,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bl,`] {
    `).concat(GI,": ").concat(l,`px;
  }
`)},j1=function(){var t=parseInt(document.body.getAttribute(bl)||"0",10);return isFinite(t)?t:0},hD=function(){V.useEffect(function(){return document.body.setAttribute(bl,(j1()+1).toString()),function(){var t=j1()-1;t<=0?document.body.removeAttribute(bl):document.body.setAttribute(bl,t.toString())}},[])},fD=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;hD();var o=V.useMemo(function(){return lD(i)},[i]);return V.createElement(cD,{styles:uD(o,!e,i,n?"":"!important")})},Pv=!1;if(typeof window<"u")try{var rf=Object.defineProperty({},"passive",{get:function(){return Pv=!0,!0}});window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{Pv=!1}var Ha=Pv?{passive:!1}:!1,dD=function(t){return t.tagName==="TEXTAREA"},pT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dD(t)&&n[e]==="visible")},pD=function(t){return pT(t,"overflowY")},gD=function(t){return pT(t,"overflowX")},B1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=gT(t,r);if(i){var o=mT(t,r),s=o[1],l=o[2];if(s>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mD=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vD=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},gT=function(t,e){return t==="v"?pD(e):gD(e)},mT=function(t,e){return t==="v"?mD(e):vD(e)},yD=function(t,e){return t==="h"&&e==="rtl"?-1:1},wD=function(t,e,n,r,i){var o=yD(t,window.getComputedStyle(e).direction),s=o*r,l=n.target,a=e.contains(l),u=!1,c=s>0,h=0,f=0;do{var p=mT(t,l),d=p[0],g=p[1],m=p[2],v=g-m-o*d;(d||v)&&gT(t,l)&&(h+=v,f+=d),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!a&&l!==document.body||a&&(e.contains(l)||e===l));return(c&&(Math.abs(h)<1||!i)||!c&&(Math.abs(f)<1||!i))&&(u=!0),u},of=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},z1=function(t){return[t.deltaX,t.deltaY]},H1=function(t){return t&&"current"in t?t.current:t},bD=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_D=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SD=0,Va=[];function xD(t){var e=V.useRef([]),n=V.useRef([0,0]),r=V.useRef(),i=V.useState(SD++)[0],o=V.useState(dT)[0],s=V.useRef(t);V.useEffect(function(){s.current=t},[t]),V.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=VI([t.lockRef.current],(t.shards||[]).map(H1),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=V.useCallback(function(g,m){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var v=of(g),b=n.current,C="deltaX"in g?g.deltaX:b[0]-v[0],x="deltaY"in g?g.deltaY:b[1]-v[1],_,w=g.target,y=Math.abs(C)>Math.abs(x)?"h":"v";if("touches"in g&&y==="h"&&w.type==="range")return!1;var S=B1(y,w);if(!S)return!0;if(S?_=y:(_=y==="v"?"h":"v",S=B1(y,w)),!S)return!1;if(!r.current&&"changedTouches"in g&&(C||x)&&(r.current=_),!_)return!0;var A=r.current||_;return wD(A,m,g,A==="h"?C:x,!0)},[]),a=V.useCallback(function(g){var m=g;if(!(!Va.length||Va[Va.length-1]!==o)){var v="deltaY"in m?z1(m):of(m),b=e.current.filter(function(_){return _.name===m.type&&(_.target===m.target||m.target===_.shadowParent)&&bD(_.delta,v)})[0];if(b&&b.should){m.cancelable&&m.preventDefault();return}if(!b){var C=(s.current.shards||[]).map(H1).filter(Boolean).filter(function(_){return _.contains(m.target)}),x=C.length>0?l(m,C[0]):!s.current.noIsolation;x&&m.cancelable&&m.preventDefault()}}},[]),u=V.useCallback(function(g,m,v,b){var C={name:g,delta:m,target:v,should:b,shadowParent:CD(v)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(x){return x!==C})},1)},[]),c=V.useCallback(function(g){n.current=of(g),r.current=void 0},[]),h=V.useCallback(function(g){u(g.type,z1(g),g.target,l(g,t.lockRef.current))},[]),f=V.useCallback(function(g){u(g.type,of(g),g.target,l(g,t.lockRef.current))},[]);V.useEffect(function(){return Va.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",a,Ha),document.addEventListener("touchmove",a,Ha),document.addEventListener("touchstart",c,Ha),function(){Va=Va.filter(function(g){return g!==o}),document.removeEventListener("wheel",a,Ha),document.removeEventListener("touchmove",a,Ha),document.removeEventListener("touchstart",c,Ha)}},[]);var p=t.removeScrollBar,d=t.inert;return V.createElement(V.Fragment,null,d?V.createElement(o,{styles:_D(i)}):null,p?V.createElement(fD,{gapMode:t.gapMode}):null)}function CD(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TD=JI(fT,xD);var vT=V.forwardRef(function(t,e){return V.createElement(pp,Gi({},t,{ref:e,sideCar:TD}))});vT.classNames=pp.classNames;var kD=[" ","Enter","ArrowUp","ArrowDown"],AD=[" ","Enter"],zu="Select",[gp,mp,MD]=LC(zu),[Ql,Iz]=o2(zu,[MD,XC]),vp=XC(),[ED,Es]=Ql(zu),[$D,RD]=Ql(zu),yT=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:l,onValueChange:a,dir:u,name:c,autoComplete:h,disabled:f,required:p,form:d}=t,g=vp(e),[m,v]=V.useState(null),[b,C]=V.useState(null),[x,_]=V.useState(!1),w=NC(u),[y=!1,S]=Nv({prop:r,defaultProp:i,onChange:o}),[A,M]=Nv({prop:s,defaultProp:l,onChange:a}),R=V.useRef(null),k=m?d||!!m.closest("form"):!0,[$,E]=V.useState(new Set),L=Array.from($).map(P=>P.props.value).join(";");return U.jsx(NI,{...g,children:U.jsxs(ED,{required:p,scope:e,trigger:m,onTriggerChange:v,valueNode:b,onValueNodeChange:C,valueNodeHasChildren:x,onValueNodeHasChildrenChange:_,contentId:x0(),value:A,onValueChange:M,open:y,onOpenChange:S,dir:w,triggerPointerDownPosRef:R,disabled:f,children:[U.jsx(gp.Provider,{scope:e,children:U.jsx($D,{scope:t.__scopeSelect,onNativeOptionAdd:V.useCallback(P=>{E(I=>new Set(I).add(P))},[]),onNativeOptionRemove:V.useCallback(P=>{E(I=>{const D=new Set(I);return D.delete(P),D})},[]),children:n})}),k?U.jsxs(WT,{"aria-hidden":!0,required:p,tabIndex:-1,name:c,autoComplete:h,value:A,onChange:P=>M(P.target.value),disabled:f,form:d,children:[A===void 0?U.jsx("option",{value:""}):null,Array.from($)]},L):null]})})};yT.displayName=zu;var wT="SelectTrigger",bT=V.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=vp(n),s=Es(wT,n),l=s.disabled||r,a=vn(e,s.onTriggerChange),u=mp(n),c=V.useRef("touch"),[h,f,p]=jT(g=>{const m=u().filter(C=>!C.disabled),v=m.find(C=>C.value===s.value),b=BT(m,g,v);b!==void 0&&s.onValueChange(b.value)}),d=g=>{l||(s.onOpenChange(!0),p()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return U.jsx(PI,{asChild:!0,...o,children:U.jsx(sn.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":FT(s.value)?"":void 0,...i,ref:a,onClick:Gt(i.onClick,g=>{g.currentTarget.focus(),c.current!=="mouse"&&d(g)}),onPointerDown:Gt(i.onPointerDown,g=>{c.current=g.pointerType;const m=g.target;m.hasPointerCapture(g.pointerId)&&m.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(d(g),g.preventDefault())}),onKeyDown:Gt(i.onKeyDown,g=>{const m=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(m&&g.key===" ")&&kD.includes(g.key)&&(d(),g.preventDefault())})})})});bT.displayName=wT;var _T="SelectValue",ST=V.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...l}=t,a=Es(_T,n),{onValueNodeHasChildrenChange:u}=a,c=o!==void 0,h=vn(e,a.onValueNodeChange);return Wr(()=>{u(c)},[u,c]),U.jsx(sn.span,{...l,ref:h,style:{pointerEvents:"none"},children:FT(a.value)?U.jsx(U.Fragment,{children:s}):o})});ST.displayName=_T;var LD="SelectIcon",xT=V.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return U.jsx(sn.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});xT.displayName=LD;var ND="SelectPortal",CT=t=>U.jsx(sT,{asChild:!0,...t});CT.displayName=ND;var ma="SelectContent",TT=V.forwardRef((t,e)=>{const n=Es(ma,t.__scopeSelect),[r,i]=V.useState();if(Wr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Hl.createPortal(U.jsx(kT,{scope:t.__scopeSelect,children:U.jsx(gp.Slot,{scope:t.__scopeSelect,children:U.jsx("div",{children:t.children})})}),o):null}return U.jsx(AT,{...t,ref:e})});TT.displayName=ma;var hi=10,[kT,$s]=Ql(ma),PD="SelectContentImpl",AT=V.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:l,sideOffset:a,align:u,alignOffset:c,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:d,hideWhenDetached:g,avoidCollisions:m,...v}=t,b=Es(ma,n),[C,x]=V.useState(null),[_,w]=V.useState(null),y=vn(e,re=>x(re)),[S,A]=V.useState(null),[M,R]=V.useState(null),k=mp(n),[$,E]=V.useState(!1),L=V.useRef(!1);V.useEffect(()=>{if(C)return HI(C)},[C]),y2();const P=V.useCallback(re=>{const[ie,...ue]=k().map(Te=>Te.ref.current),[he]=ue.slice(-1),_e=document.activeElement;for(const Te of re)if(Te===_e||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===ie&&_&&(_.scrollTop=0),Te===he&&_&&(_.scrollTop=_.scrollHeight),Te==null||Te.focus(),document.activeElement!==_e))return},[k,_]),I=V.useCallback(()=>P([S,C]),[P,S,C]);V.useEffect(()=>{$&&I()},[$,I]);const{onOpenChange:D,triggerPointerDownPosRef:W}=b;V.useEffect(()=>{if(C){let re={x:0,y:0};const ie=he=>{var _e,Te;re={x:Math.abs(Math.round(he.pageX)-(((_e=W.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(he.pageY)-(((Te=W.current)==null?void 0:Te.y)??0))}},ue=he=>{re.x<=10&&re.y<=10?he.preventDefault():C.contains(he.target)||D(!1),document.removeEventListener("pointermove",ie),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ue,{capture:!0})}}},[C,D,W]),V.useEffect(()=>{const re=()=>D(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[D]);const[z,G]=jT(re=>{const ie=k().filter(_e=>!_e.disabled),ue=ie.find(_e=>_e.ref.current===document.activeElement),he=BT(ie,re,ue);he&&setTimeout(()=>he.ref.current.focus())}),Z=V.useCallback((re,ie,ue)=>{const he=!L.current&&!ue;(b.value!==void 0&&b.value===ie||he)&&(A(re),he&&(L.current=!0))},[b.value]),q=V.useCallback(()=>C==null?void 0:C.focus(),[C]),X=V.useCallback((re,ie,ue)=>{const he=!L.current&&!ue;(b.value!==void 0&&b.value===ie||he)&&R(re)},[b.value]),Y=r==="popper"?Ov:MT,ee=Y===Ov?{side:l,sideOffset:a,align:u,alignOffset:c,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:d,hideWhenDetached:g,avoidCollisions:m}:{};return U.jsx(kT,{scope:n,content:C,viewport:_,onViewportChange:w,itemRefCallback:Z,selectedItem:S,onItemLeave:q,itemTextRefCallback:X,focusSelectedItem:I,selectedItemText:M,position:r,isPositioned:$,searchRef:z,children:U.jsx(vT,{as:Tu,allowPinchZoom:!0,children:U.jsx(DC,{asChild:!0,trapped:b.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Gt(i,re=>{var ie;(ie=b.trigger)==null||ie.focus({preventScroll:!0}),re.preventDefault()}),children:U.jsx(OC,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:U.jsx(Y,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:re=>re.preventDefault(),...v,...ee,onPlaced:()=>E(!0),ref:y,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Gt(v.onKeyDown,re=>{const ie=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ie&&re.key.length===1&&G(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let he=k().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(re.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const _e=re.target,Te=he.indexOf(_e);he=he.slice(Te+1)}setTimeout(()=>P(he)),re.preventDefault()}})})})})})})});AT.displayName=PD;var OD="SelectItemAlignedPosition",MT=V.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Es(ma,n),s=$s(ma,n),[l,a]=V.useState(null),[u,c]=V.useState(null),h=vn(e,y=>c(y)),f=mp(n),p=V.useRef(!1),d=V.useRef(!0),{viewport:g,selectedItem:m,selectedItemText:v,focusSelectedItem:b}=s,C=V.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&m&&v){const y=o.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),M=v.getBoundingClientRect();if(o.dir!=="rtl"){const _e=M.left-S.left,Te=A.left-_e,tt=y.left-Te,ot=y.width+tt,we=Math.max(ot,S.width),Ae=window.innerWidth-hi,st=fd(Te,[hi,Math.max(hi,Ae-we)]);l.style.minWidth=ot+"px",l.style.left=st+"px"}else{const _e=S.right-M.right,Te=window.innerWidth-A.right-_e,tt=window.innerWidth-y.right-Te,ot=y.width+tt,we=Math.max(ot,S.width),Ae=window.innerWidth-hi,st=fd(Te,[hi,Math.max(hi,Ae-we)]);l.style.minWidth=ot+"px",l.style.right=st+"px"}const R=f(),k=window.innerHeight-hi*2,$=g.scrollHeight,E=window.getComputedStyle(u),L=parseInt(E.borderTopWidth,10),P=parseInt(E.paddingTop,10),I=parseInt(E.borderBottomWidth,10),D=parseInt(E.paddingBottom,10),W=L+P+$+D+I,z=Math.min(m.offsetHeight*5,W),G=window.getComputedStyle(g),Z=parseInt(G.paddingTop,10),q=parseInt(G.paddingBottom,10),X=y.top+y.height/2-hi,Y=k-X,ee=m.offsetHeight/2,re=m.offsetTop+ee,ie=L+P+re,ue=W-ie;if(ie<=X){const _e=R.length>0&&m===R[R.length-1].ref.current;l.style.bottom="0px";const Te=u.clientHeight-g.offsetTop-g.offsetHeight,tt=Math.max(Y,ee+(_e?q:0)+Te+I),ot=ie+tt;l.style.height=ot+"px"}else{const _e=R.length>0&&m===R[0].ref.current;l.style.top="0px";const tt=Math.max(X,L+g.offsetTop+(_e?Z:0)+ee)+ue;l.style.height=tt+"px",g.scrollTop=ie-X+g.offsetTop}l.style.margin=`${hi}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,o.trigger,o.valueNode,l,u,g,m,v,o.dir,r]);Wr(()=>C(),[C]);const[x,_]=V.useState();Wr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const w=V.useCallback(y=>{y&&d.current===!0&&(C(),b==null||b(),d.current=!1)},[C,b]);return U.jsx(DD,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:w,children:U.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:U.jsx(sn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});MT.displayName=OD;var ID="SelectPopperPosition",Ov=V.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=hi,...o}=t,s=vp(n);return U.jsx(OI,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ov.displayName=ID;var[DD,N0]=Ql(ma,{}),Iv="SelectViewport",ET=V.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=$s(Iv,n),s=N0(Iv,n),l=vn(e,o.onViewportChange),a=V.useRef(0);return U.jsxs(U.Fragment,{children:[U.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),U.jsx(gp.Slot,{scope:n,children:U.jsx(sn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Gt(i.onScroll,u=>{const c=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=s;if(f!=null&&f.current&&h){const p=Math.abs(a.current-c.scrollTop);if(p>0){const d=window.innerHeight-hi*2,g=parseFloat(h.style.minHeight),m=parseFloat(h.style.height),v=Math.max(g,m);if(v<d){const b=v+p,C=Math.min(d,b),x=b-C;h.style.height=C+"px",h.style.bottom==="0px"&&(c.scrollTop=x>0?x:0,h.style.justifyContent="flex-end")}}}a.current=c.scrollTop})})})]})});ET.displayName=Iv;var $T="SelectGroup",[FD,WD]=Ql($T),RT=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=x0();return U.jsx(FD,{scope:n,id:i,children:U.jsx(sn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});RT.displayName=$T;var LT="SelectLabel",jD=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=WD(LT,n);return U.jsx(sn.div,{id:i.id,...r,ref:e})});jD.displayName=LT;var vd="SelectItem",[BD,NT]=Ql(vd),PT=V.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,l=Es(vd,n),a=$s(vd,n),u=l.value===r,[c,h]=V.useState(o??""),[f,p]=V.useState(!1),d=vn(e,b=>{var C;return(C=a.itemRefCallback)==null?void 0:C.call(a,b,r,i)}),g=x0(),m=V.useRef("touch"),v=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return U.jsx(BD,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:V.useCallback(b=>{h(C=>C||((b==null?void 0:b.textContent)??"").trim())},[]),children:U.jsx(gp.ItemSlot,{scope:n,value:r,disabled:i,textValue:c,children:U.jsx(sn.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:d,onFocus:Gt(s.onFocus,()=>p(!0)),onBlur:Gt(s.onBlur,()=>p(!1)),onClick:Gt(s.onClick,()=>{m.current!=="mouse"&&v()}),onPointerUp:Gt(s.onPointerUp,()=>{m.current==="mouse"&&v()}),onPointerDown:Gt(s.onPointerDown,b=>{m.current=b.pointerType}),onPointerMove:Gt(s.onPointerMove,b=>{var C;m.current=b.pointerType,i?(C=a.onItemLeave)==null||C.call(a):m.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Gt(s.onPointerLeave,b=>{var C;b.currentTarget===document.activeElement&&((C=a.onItemLeave)==null||C.call(a))}),onKeyDown:Gt(s.onKeyDown,b=>{var x;((x=a.searchRef)==null?void 0:x.current)!==""&&b.key===" "||(AD.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});PT.displayName=vd;var Pc="SelectItemText",OT=V.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Es(Pc,n),l=$s(Pc,n),a=NT(Pc,n),u=RD(Pc,n),[c,h]=V.useState(null),f=vn(e,v=>h(v),a.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,a.value,a.disabled)}),p=c==null?void 0:c.textContent,d=V.useMemo(()=>U.jsx("option",{value:a.value,disabled:a.disabled,children:p},a.value),[a.disabled,a.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:m}=u;return Wr(()=>(g(d),()=>m(d)),[g,m,d]),U.jsxs(U.Fragment,{children:[U.jsx(sn.span,{id:a.textId,...o,ref:f}),a.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Hl.createPortal(o.children,s.valueNode):null]})});OT.displayName=Pc;var IT="SelectItemIndicator",zD=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return NT(IT,n).isSelected?U.jsx(sn.span,{"aria-hidden":!0,...r,ref:e}):null});zD.displayName=IT;var Dv="SelectScrollUpButton",HD=V.forwardRef((t,e)=>{const n=$s(Dv,t.__scopeSelect),r=N0(Dv,t.__scopeSelect),[i,o]=V.useState(!1),s=vn(e,r.onScrollButtonChange);return Wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=a.scrollTop>0;o(u)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?U.jsx(DT,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop-a.offsetHeight)}}):null});HD.displayName=Dv;var Fv="SelectScrollDownButton",VD=V.forwardRef((t,e)=>{const n=$s(Fv,t.__scopeSelect),r=N0(Fv,t.__scopeSelect),[i,o]=V.useState(!1),s=vn(e,r.onScrollButtonChange);return Wr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=a.scrollHeight-a.clientHeight,c=Math.ceil(a.scrollTop)<u;o(c)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?U.jsx(DT,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop+a.offsetHeight)}}):null});VD.displayName=Fv;var DT=V.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=$s("SelectScrollButton",n),s=V.useRef(null),l=mp(n),a=V.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return V.useEffect(()=>()=>a(),[a]),Wr(()=>{var c;const u=l().find(h=>h.ref.current===document.activeElement);(c=u==null?void 0:u.ref.current)==null||c.scrollIntoView({block:"nearest"})},[l]),U.jsx(sn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Gt(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Gt(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Gt(i.onPointerLeave,()=>{a()})})}),UD="SelectSeparator",GD=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return U.jsx(sn.div,{"aria-hidden":!0,...r,ref:e})});GD.displayName=UD;var Wv="SelectArrow",qD=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=vp(n),o=Es(Wv,n),s=$s(Wv,n);return o.open&&s.position==="popper"?U.jsx(II,{...i,...r,ref:e}):null});qD.displayName=Wv;function FT(t){return t===""||t===void 0}var WT=V.forwardRef((t,e)=>{const{value:n,...r}=t,i=V.useRef(null),o=vn(e,i),s=aT(n);return V.useEffect(()=>{const l=i.current,a=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==n&&c){const h=new Event("change",{bubbles:!0});c.call(l,n),l.dispatchEvent(h)}},[s,n]),U.jsx(lT,{asChild:!0,children:U.jsx("select",{...r,ref:o,defaultValue:n})})});WT.displayName="BubbleSelect";function jT(t){const e=ko(t),n=V.useRef(""),r=V.useRef(0),i=V.useCallback(s=>{const l=n.current+s;e(l),function a(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>a(""),1e3))}(l)},[e]),o=V.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return V.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function BT(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=KD(t,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const a=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return a!==n?a:void 0}function KD(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var YD=yT,QD=bT,XD=ST,ZD=xT,JD=CT,eF=TT,tF=ET,nF=RT,rF=PT,iF=OT;const oF=Mn({SelectTrigger:{display:"inline-flex",alignItems:"center"},SelectContent:{boxShadow:"0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2)",borderRadius:"5px",padding:"5px 0",border:"1px solid #0002"},SelectItem:{padding:"0.4em",cursor:"pointer","&:hover:not(.disabled)":{background:"#0001"},"&.disabled":{opacity:.6}}});function zT(t){const e=oF();return U.jsxs(YD,{value:t.value,onValueChange:t.onChange,disabled:t.disabled,children:[U.jsxs(QD,{className:[e.SelectTrigger,t.className].join(" "),style:t.style,"aria-label":t.label,children:[U.jsx(XD,{}),U.jsx(ZD,{style:{marginLeft:"auto"},children:U.jsx(zO,{style:{transform:"translateY(0.13em)"}})})]}),U.jsx(JD,{children:U.jsx(eF,{position:"item-aligned",className:e.SelectContent,style:{backgroundColor:t.backgroundColor??"#FFF"},children:U.jsx(tF,{children:U.jsx(nF,{children:t.items.map(n=>U.jsx(rF,{onMouseDown:r=>r.preventDefault(),className:[e.SelectItem,...n.disabled?["disabled"]:[]].join(" "),disabled:n.disabled,value:n.value,style:{...n.value==t.value&&{background:t.selectedHighlight??"#0002",color:t.selectedHighlight?"#FFF":"inherit"},fontSize:t.itemFontSize??"16px"},children:U.jsx(iF,{children:n.label})},n.value))})})})})]})}const sF=Mn({title:{display:"flex",flexDirection:"row",height:"42px",borderBottom:"1px solid #0004",flexShrink:0},titleSelector:{height:"100%",width:0,flex:"auto",border:"none",borderRadius:0,background:"#FFF",padding:"0 12px",paddingRight:"0",fontSize:"18px",paddingBottom:"1px",outline:"none"},titleClose:{display:"block",height:"100%",width:"42px",cursor:"pointer",fontSize:"20px",border:"none",borderRadius:0,background:"#FFF"}});function aF(t){var l;const e="inspector.",n=sF(),r=t.inspectors,{language:i}=V.useContext(zt);if(r.length==0)throw new Error("InspectorView: There must be at least one inspector.");const[o,s]=V.useState(r[0].id);return U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:n.title,children:[U.jsx(zT,{className:n.titleSelector,label:Me.editorText(i,`${e}select`),value:o,onChange:s,items:r.map(a=>({value:a.id,label:Me.editorText(i,`${e}${a.id}.title`)})),itemFontSize:"18px"}),U.jsx("button",{className:n.titleClose,onClick:()=>t.onClose&&t.onClose(),children:U.jsx(HO,{style:{transform:"translateY(2px)"}})})]}),(l=r.filter(a=>a.id==o)[0])==null?void 0:l.content()]})}const HT=t=>V.useMemo(()=>Mn({buttonGroup:{display:"flex",flexDirection:"row"},button:{minWidth:"32px",height:"32px",fontSize:"18px",border:"1px solid #0002",borderRadius:0,background:t.voidary,"&:hover:not([disabled])":{background:t.voidaryHover},"&:active:not([disabled])":{background:t.voidaryActive},"&[disabled]":{opacity:.6},"&.active.active":{background:t.positive,color:"#FFF",borderColor:"transparent","&:hover:not([disabled])":{background:t.positiveHover},"&:active:not([disabled])":{background:t.positiveActive}}},buttonLarge:{minWidth:"36px",height:"36px",fontSize:"20px"},buttonSmall:{minWidth:"28px",height:"28px",fontSize:"16px"},buttonMini:{minWidth:"24px",height:"24px",fontSize:"14px"},buttonMargin:{flex:0,flexBasis:"12px",flexShrink:0},buttonSpacer:{flex:"auto"},copyInfoBox:{width:"100%",height:"32px",background:t.voidary,border:"none",outline:"none","&:focus":{background:t.voidaryActive},boxSizing:"border-box",padding:"0 8px",fontSize:"15px"}}),[t])();function Hu(){const{colorScheme:t}=V.useContext(zt);return HT(t)}const yp=V.forwardRef((t,e)=>{const n=Hu();return U.jsx("div",{ref:e,className:[n.buttonGroup,...t.classes??[]].join(" "),style:t.style,children:t.children})});function Qt(t){const e=Hu();return U.jsx("button",{title:t.title,className:[`${e.button} ${t.small?e.buttonSmall:""} ${t.large?e.buttonLarge:""} ${t.selected?"active":""} ${t.mini?e.buttonMini:""}`,...t.classes??[]].join(" "),onClick:t.onClick,disabled:t.disabled,style:t.style,"data-index":t.index,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,tabIndex:t.tabIndex,children:t.children})}function is(){const t=Hu();return U.jsx("div",{className:t.buttonMargin})}function lF(){const t=Hu();return U.jsx("div",{className:t.buttonSpacer})}function Rf(t){const e=Hu(),{colorScheme:n}=V.useContext(zt);return U.jsx(zT,{className:`${e.button} ${t.small?e.buttonSmall:""} ${t.large?e.buttonLarge:""} ${t.mini?e.buttonMini:""}`,style:{flex:"auto",...t.style},onChange:t.onChange,value:t.value,items:t.items,backgroundColor:n.voidary,itemFontSize:t.itemFontSize,disabled:t.disabled})}const cF=Mn({label:{paddingRight:"0.5em"},value:{padding:"0 0.4em"}});function uF(t){const e="inspector.play.modifier.",{language:n}=V.useContext(zt),r=cF(),i=s=>{const l=t.speed+s;l>4||l<.1||t.onSpeedChange(l)},o=s=>{const l=t.pitch+s;l>48||l<-48||t.onPitchChange(l)};return U.jsxs(U.Fragment,{children:[U.jsxs("div",{children:[U.jsx("span",{className:r.label,children:Me.editorText(n,`${e}speed`)}),U.jsx(Qt,{onClick:()=>i(-.1),small:!0,children:"-"}),U.jsx("span",{className:r.value,children:t.speed.toFixed(1)}),U.jsx(Qt,{onClick:()=>i(.1),small:!0,children:"+"})]}),U.jsxs("div",{children:[U.jsx("span",{className:r.label,children:Me.editorText(n,`${e}pitch`)}),U.jsx(Qt,{onClick:()=>o(-.5),small:!0,children:"-"}),U.jsx("span",{className:r.value,children:(t.pitch<0?"-":"+")+Math.abs(t.pitch).toFixed(1)}),U.jsx(Qt,{onClick:()=>o(.5),small:!0,children:"+"})]})]})}const sf="inspector.play.selector.",hF=V.memo(t=>{const{colorScheme:e,language:n}=V.useContext(zt);return t.articles.filter(i=>i.type=="music").length>0?U.jsxs(yp,{style:{padding:"0 12px",paddingBottom:"12px"},children:[U.jsx(Qt,{title:Me.editorText(n,`${sf}visual_pick`),selected:t.pickingSections,onClick:t.onTogglePicker,disabled:t.playing,children:U.jsx(KO,{style:{transform:"translateY(0.13em)"}})}),U.jsx(is,{}),U.jsx(Rf,{value:""+t.value,onChange:i=>t.onChange(+i),style:{fontSize:"15px",padding:"0 0.4em"},items:t.articles.map((i,o)=>{var a;const s=(a=i.title)==null?void 0:a.text;let l="";return s!==void 0?l=Me.editorText(n,`${sf}article.titled`,s):l=Me.editorText(n,`${sf}article.untitled`,""+(o+1)),{value:""+o,disabled:i.type!="music",label:l}}),itemFontSize:"15px",disabled:t.playing})]}):U.jsx("div",{style:{padding:"0 12px",paddingBottom:"12px"},children:Me.editorText(n,`${sf}no_articles`)})}),fF=Mn({void:{padding:"12px",paddingTop:0},scroller:{padding:"12px",paddingTop:0,overflowX:"auto","&>*":{flexShrink:0}},label:{display:"table",fontSize:"15px"}}),fm="inspector.play.selector.",dF=V.forwardRef((t,e)=>{const n=fF(),{language:r}=V.useContext(zt),{article:i,sequence:o}=t,s=l=>{t.onChange(l)};return o.iterations.length>0?U.jsx(U.Fragment,{children:U.jsxs(yp,{ref:e,classes:[n.scroller],children:[U.jsx("span",{className:n.label,children:U.jsx("span",{style:{verticalAlign:"middle",display:"table-cell"},children:Me.editorText(r,`${fm}iter_number`)})}),U.jsx(is,{}),U.jsx(Qt,{selected:t.value==0,onClick:()=>s(0),title:Me.editorText(r,`${fm}ignore_repeats`),index:0,children:U.jsx(VO,{style:{transform:"translateY(0.13em)"}})}),U.jsx(is,{}),o.iterations.map((l,a)=>{if(a!=0)return U.jsx(Qt,{selected:t.value==a,onClick:()=>s(a),style:{borderLeft:a==1?void 0:"none"},index:a,children:U.jsxs("span",{style:{fontFamily:"RomanItalic"},children:[l.number,"."]})},a)})]})}):U.jsx("div",{className:n.void,children:Me.editorText(r,`${fm}no_sections`)})}),pF=Mn({container:{padding:"12px",paddingTop:0,overflowY:"auto"},containerIn:{display:"flex",flexDirection:"row",flexWrap:"wrap"},pill:{flex:"auto"}}),dm="inspector.play.overview.",gF=V.memo(t=>{var l;const e=pF(),{article:n,iteration:r}=t,{language:i}=V.useContext(zt);let o=[],s=0;for(let a=0;a<n.sectionCount;a++){for(;s<r.sections.length&&r.sections[s].index<a;)s+=1;const u=((l=r.sections[s])==null?void 0:l.index)==a;o.push(U.jsx(Qt,{disabled:!u,selected:t.value==a,onClick:()=>t.onChange(a),classes:[e.pill],style:{fontSize:"16px",borderWidth:"0",borderBottomWidth:"1px"},index:a,title:(()=>{if(!u)return Me.editorText(i,`${dm}section_unavailable`);const c=r.sections[s].cumulativeLengthMillis/1e3,h=c%60,f=Math.floor(c/60);return f==0?Me.editorText(i,`${dm}time_seconds`,h.toFixed(1)):Me.editorText(i,`${dm}time_minutes`,f.toFixed(0),h.toFixed(1))})(),children:n.parts[0].notes.sections[a].ordinal+1},a))}return U.jsx("div",{className:e.container,"data-tag":"container",children:U.jsxs("div",{className:e.containerIn,"data-tag":"containerIn",children:[o,U.jsx("div",{style:{flex:20}})]})})});var Hi;(t=>{function n(c){return{top:"scrollTop",left:"scrollLeft"}[c]}function r(c){return{top:"bottom",left:"right"}[c]}function i(c){return{top:"clientHeight",left:"clientWidth"}[c]}function o(c,h,f){let p=h.getBoundingClientRect()[f]-c.getBoundingClientRect()[f],d=h;for(;d!=null&&d!=c;){let g=d.parentElement;g&&(p+=g[n(f)]),d=g}return p}t.iterateOffset=o;function s(c,h){let f=c;for(;f!=null;){if(f.classList.contains(h))return f;f=f.parentElement}return null}t.iterateForClass=s;function l(c,h,f){if(c===void 0)return;const p=c.children;for(let d=0;d<p.length;d++){const g=p[d];if(g.getAttribute(h)==f)return g}}t.findChildrenWithAttr=l;function a(c,h,f,p){const d=y=>1-(1-y)**3;let g=o(c,h,f)-c[i(f)]*(p??(f=="top"?.2:.4));const m=c[n(f)];c[n(f)]=998244353;const v=c[n(f)];c[n(f)]=m,g=Math.max(0,Math.min(v,g));const b=Si(12),C=+new Date,x=200,_="wcl-smooth-scroll-"+f;c.setAttribute(_,b);const w=()=>{if(c.getAttribute(_)!=b)return;const y=Math.min(1,(+new Date-C)/x),S=d(y);if(c[n(f)]=m+(g-m)*S,y>=1){c.removeAttribute(_);return}requestAnimationFrame(w)};requestAnimationFrame(w)}t.smoothScrollFor=a;function u(c,h,f,p=10,d){const g=c.getBoundingClientRect()[f],m=h.getBoundingClientRect()[f],v=c.getBoundingClientRect()[r(f)],b=h.getBoundingClientRect()[r(f)];(g-m>p||b-v>p)&&a(c,h,f,d)}t.scrollToMakeVisible=u})(Hi||(Hi={}));const VT="15.0.4",V1=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),U1=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),jv=(t,e)=>({startTime:e,type:"setValue",value:t}),UT=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),GT=(t,e,{startTime:n,target:r,timeConstant:i})=>r+(e-r)*Math.exp((n-t)/i),cl=t=>t.type==="exponentialRampToValue",yd=t=>t.type==="linearRampToValue",Xo=t=>cl(t)||yd(t),P0=t=>t.type==="setValue",mo=t=>t.type==="setValueCurve",wd=(t,e,n,r)=>{const i=t[e];return i===void 0?r:Xo(i)||P0(i)?i.value:mo(i)?i.values[i.values.length-1]:GT(n,wd(t,e-1,i.startTime,r),i)},G1=(t,e,n,r,i)=>n===void 0?[r.insertTime,i]:Xo(n)?[n.endTime,n.value]:P0(n)?[n.startTime,n.value]:mo(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,wd(t,e-1,n.startTime,i)],Bv=t=>t.type==="cancelAndHold",zv=t=>t.type==="cancelScheduledValues",Go=t=>Bv(t)||zv(t)?t.cancelTime:cl(t)||yd(t)?t.endTime:t.startTime,q1=(t,e,n,{endTime:r,value:i})=>n===i?i:0<n&&0<i||n<0&&i<0?n*(i/n)**((t-e)/(r-e)):0,K1=(t,e,n,{endTime:r,value:i})=>n+(t-e)/(r-e)*(i-n),mF=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},vF=(t,{duration:e,startTime:n,values:r})=>{const i=(t-n)/e*(r.length-1);return mF(r,i)},af=t=>t.type==="setTarget";class yF{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Go(e);if(Bv(e)||zv(e)){const r=this._automationEvents.findIndex(o=>zv(e)&&mo(o)?o.startTime+o.duration>=n:Go(o)>=n),i=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Bv(e)){const o=this._automationEvents[this._automationEvents.length-1];if(i!==void 0&&Xo(i)){if(o!==void 0&&af(o))throw new Error("The internal list is malformed.");const s=o===void 0?i.insertTime:mo(o)?o.startTime+o.duration:Go(o),l=o===void 0?this._defaultValue:mo(o)?o.values[o.values.length-1]:o.value,a=cl(i)?q1(n,s,l,i):K1(n,s,l,i),u=cl(i)?V1(a,n,this._currenTime):U1(a,n,this._currenTime);this._automationEvents.push(u)}if(o!==void 0&&af(o)&&this._automationEvents.push(jv(this.getValue(n),n)),o!==void 0&&mo(o)&&o.startTime+o.duration>n){const s=n-o.startTime,l=(o.values.length-1)/o.duration,a=Math.max(2,1+Math.ceil(s*l)),u=s/(a-1)*l,c=o.values.slice(0,a);if(u<1)for(let h=1;h<a;h+=1){const f=u*h%1;c[h]=o.values[h-1]*(1-f)+o.values[h]*f}this._automationEvents[this._automationEvents.length-1]=UT(c,o.startTime,s)}}}else{const r=this._automationEvents.findIndex(s=>Go(s)>n),i=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(i!==void 0&&mo(i)&&Go(i)+i.duration>n)return!1;const o=cl(e)?V1(e.value,e.endTime,this._currenTime):yd(e)?U1(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(o);else{if(mo(e)&&n+e.duration>Go(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,o)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Go(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),i=r[0];af(i)&&r.unshift(jv(wd(this._automationEvents,n-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(s=>Go(s)>e),r=this._automationEvents[n],i=(n===-1?this._automationEvents.length:n)-1,o=this._automationEvents[i];if(o!==void 0&&af(o)&&(r===void 0||!Xo(r)||r.insertTime>e))return GT(e,wd(this._automationEvents,i-1,o.startTime,this._defaultValue),o);if(o!==void 0&&P0(o)&&(r===void 0||!Xo(r)))return o.value;if(o!==void 0&&mo(o)&&(r===void 0||!Xo(r)||o.startTime+o.duration>e))return e<o.startTime+o.duration?vF(e,o):o.values[o.values.length-1];if(o!==void 0&&Xo(o)&&(r===void 0||!Xo(r)))return o.value;if(r!==void 0&&cl(r)){const[s,l]=G1(this._automationEvents,i,o,r,this._defaultValue);return q1(e,s,l,r)}if(r!==void 0&&yd(r)){const[s,l]=G1(this._automationEvents,i,o,r,this._defaultValue);return K1(e,s,l,r)}return this._defaultValue}}const wF=t=>({cancelTime:t,type:"cancelAndHold"}),bF=t=>({cancelTime:t,type:"cancelScheduledValues"}),_F=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),SF=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),xF=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),CF=()=>new DOMException("","AbortError"),TF=t=>(e,n,[r,i,o],s)=>{t(e[i],[n,r,o],l=>l[0]===n&&l[1]===r,s)},kF=t=>(e,n,r)=>{const i=[];for(let o=0;o<r.numberOfInputs;o+=1)i.push(new Set);t.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},AF=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Ll=new WeakSet,qT=new WeakMap,O0=new WeakMap,KT=new WeakMap,I0=new WeakMap,wp=new WeakMap,YT=new WeakMap,Hv=new WeakMap,Vv=new WeakMap,Uv=new WeakMap,QT={construct(){return QT}},MF=t=>{try{const e=new Proxy(t,QT);new e}catch{return!1}return!0},Y1=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Q1=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(Y1);for(;i!==null;){const o=i[1].slice(1,-1),s=i[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());n.push(s),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(Y1)}return[n.join(";"),r]},X1=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Z1=t=>{if(!MF(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},EF=(t,e,n,r,i,o,s,l,a,u,c,h,f)=>{let p=0;return(d,g,m={credentials:"omit"})=>{const v=c.get(d);if(v!==void 0&&v.has(g))return Promise.resolve();const b=u.get(d);if(b!==void 0){const _=b.get(g);if(_!==void 0)return _}const C=o(d),x=C.audioWorklet===void 0?i(g).then(([_,w])=>{const[y,S]=Q1(_,w),A=`${y};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${S}
})})(window,'_AWGS')`;return n(A)}).then(()=>{const _=f._AWGS.pop();if(_===void 0)throw new SyntaxError;r(C.currentTime,C.sampleRate,()=>_(class{},void 0,(w,y)=>{if(w.trim()==="")throw e();const S=Vv.get(C);if(S!==void 0){if(S.has(w))throw e();Z1(y),X1(y.parameterDescriptors),S.set(w,y)}else Z1(y),X1(y.parameterDescriptors),Vv.set(C,new Map([[w,y]]))},C.sampleRate,void 0,void 0))}):Promise.all([i(g),Promise.resolve(t(h,h))]).then(([[_,w],y])=>{const S=p+1;p=S;const[A,M]=Q1(_,w),E=`${A};((AudioWorkletProcessor,registerProcessor)=>{${M}
})(${y?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${y?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${y?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${S}',class extends AudioWorkletProcessor{process(){return !1}})`,L=new Blob([E],{type:"application/javascript; charset=utf-8"}),P=URL.createObjectURL(L);return C.audioWorklet.addModule(P,m).then(()=>{if(l(C))return C;const I=s(C);return I.audioWorklet.addModule(P,m).then(()=>I)}).then(I=>{if(a===null)throw new SyntaxError;try{new a(I,`__sac${S}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(P))});return b===void 0?u.set(d,new Map([[g,x]])):b.set(g,x),x.then(()=>{const _=c.get(d);_===void 0?c.set(d,new Set([g])):_.add(g)}).finally(()=>{const _=u.get(d);_!==void 0&&_.delete(g)}),x}},ki=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},bp=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},XT=(t,e,n,r)=>{const i=ki(t,e),o=bp(i,s=>s[0]===n&&s[1]===r);return i.size===0&&t.delete(e),o},Vu=t=>ki(YT,t),Nl=t=>{if(Ll.has(t))throw new Error("The AudioNode is already stored.");Ll.add(t),Vu(t).forEach(e=>e(!0))},ZT=t=>"port"in t,Uu=t=>{if(!Ll.has(t))throw new Error("The AudioNode is not stored.");Ll.delete(t),Vu(t).forEach(e=>e(!1))},Gv=(t,e)=>{!ZT(t)&&e.every(n=>n.size===0)&&Uu(t)},$F=(t,e,n,r,i,o,s,l,a,u,c,h,f)=>{const p=new WeakMap;return(d,g,m,v,b)=>{const{activeInputs:C,passiveInputs:x}=o(g),{outputs:_}=o(d),w=l(d),y=S=>{const A=a(g),M=a(d);if(S){const R=XT(x,d,m,v);t(C,d,R,!1),!b&&!h(d)&&n(M,A,m,v),f(g)&&Nl(g)}else{const R=r(C,d,m,v);e(x,v,R,!1),!b&&!h(d)&&i(M,A,m,v);const k=s(g);if(k===0)c(g)&&Gv(g,C);else{const $=p.get(g);$!==void 0&&clearTimeout($),p.set(g,setTimeout(()=>{c(g)&&Gv(g,C)},k*1e3))}}};return u(_,[g,m,v],S=>S[0]===g&&S[1]===m&&S[2]===v,!0)?(w.add(y),c(d)?t(C,d,[m,v,y],!0):e(x,v,[d,m,y],!0),!0):!1}},RF=t=>(e,n,[r,i,o],s)=>{const l=e.get(r);l===void 0?e.set(r,new Set([[i,n,o]])):t(l,[i,n,o],a=>a[0]===i&&a[1]===n,s)},LF=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)},NF=t=>(e,n)=>{t(e).add(n)},PF={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},OF=(t,e,n,r,i,o)=>class extends t{constructor(l,a){const u=i(l),c={...PF,...a},h=r(u,c),f=o(u)?e():null;super(l,!1,h,f),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){const a=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=a,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){const a=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=a,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}},rr=(t,e)=>t.context===e,IF=(t,e,n)=>()=>{const r=new WeakMap,i=async(o,s)=>{let l=e(o);if(!rr(l,s)){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,fftSize:l.fftSize,maxDecibels:l.maxDecibels,minDecibels:l.minDecibels,smoothingTimeConstant:l.smoothingTimeConstant};l=t(s,u)}return r.set(s,l),await n(o,s,l),l};return{render(o,s){const l=r.get(s);return l!==void 0?Promise.resolve(l):i(o,s)}}},bd=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},no=()=>new DOMException("","IndexSizeError"),D0=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?no():r}})(t.getChannelData)},DF={numberOfChannels:1},FF=(t,e,n,r,i,o,s,l)=>{let a=null;return class JT{constructor(c){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:f,sampleRate:p}={...DF,...c};a===null&&(a=new i(1,1,44100));const d=r!==null&&e(o,o)?new r({length:h,numberOfChannels:f,sampleRate:p}):a.createBuffer(f,h,p);if(d.numberOfChannels===0)throw n();return typeof d.copyFromChannel!="function"?(s(d),D0(d)):e(bd,()=>bd(d))||l(d),t.add(d),d}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===JT.prototype||t.has(c)}}},yr=-34028234663852886e22,cr=-yr,_o=t=>Ll.has(t),WF={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},jF=(t,e,n,r,i,o,s,l)=>class extends t{constructor(u,c){const h=o(u),f={...WF,...c},p=i(h,f),d=s(h),g=d?e():null;super(u,!1,p,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=n(this,d,p.playbackRate,cr,yr)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?l(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){Nl(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),_o(this)&&Uu(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},BF=(t,e,n,r,i)=>()=>{const o=new WeakMap;let s=null,l=null;const a=async(u,c)=>{let h=n(u);const f=rr(h,c);if(!f){const p={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,p),s!==null&&h.start(...s),l!==null&&h.stop(l)}return o.set(c,h),f?await t(c,u.playbackRate,h.playbackRate):await r(c,u.playbackRate,h.playbackRate),await i(u,c,h),h};return{set start(u){s=u},set stop(u){l=u},render(u,c){const h=o.get(c);return h!==void 0?Promise.resolve(h):a(u,c)}}},zF=t=>"playbackRate"in t,HF=t=>"frequency"in t&&"gain"in t,VF=t=>"offset"in t,UF=t=>!("frequency"in t)&&"gain"in t,GF=t=>"detune"in t&&"frequency"in t&&!("gain"in t),qF=t=>"pan"in t,ur=t=>ki(qT,t),Gu=t=>ki(KT,t),qv=(t,e)=>{const{activeInputs:n}=ur(t);n.forEach(i=>i.forEach(([o])=>{e.includes(t)||qv(o,[...e,t])}));const r=zF(t)?[t.playbackRate]:ZT(t)?Array.from(t.parameters.values()):HF(t)?[t.Q,t.detune,t.frequency,t.gain]:VF(t)?[t.offset]:UF(t)?[t.gain]:GF(t)?[t.detune,t.frequency]:qF(t)?[t.pan]:[];for(const i of r){const o=Gu(i);o!==void 0&&o.activeInputs.forEach(([s])=>qv(s,e))}_o(t)&&Uu(t)},ek=t=>{qv(t.destination,[])},KF=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),YF=(t,e,n,r,i,o,s,l,a)=>class extends t{constructor(c={}){if(a===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new a(c)}catch(d){throw d.code===12&&d.message==="sampleRate is not in range"?n():d}if(h===null)throw r();if(!KF(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:f}=c,{sampleRate:p}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:f==="balanced"?512/p:f==="interactive"||f===void 0?256/p:f==="playback"?1024/p:Math.max(2,Math.min(128,Math.round(f*p/128)))*128/p,this._nativeAudioContext=h,a.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const d=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",d)};h.addEventListener("statechange",d)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ek(this)}))}createMediaElementSource(c){return new i(this,{mediaElement:c})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(c){return new s(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new l(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const f=()=>{this._nativeAudioContext.removeEventListener("statechange",f),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",f)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},QF=(t,e,n,r,i,o,s,l)=>class extends t{constructor(u,c){const h=o(u),f=s(h),p=i(h,c,f),d=f?e(l):null;super(u,!1,p,d),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},XF=t=>{const e=new WeakMap,n=async(r,i)=>{const o=i.destination;return e.set(i,o),await t(r,i,o),o};return{render(r,i){const o=e.get(i);return o!==void 0?Promise.resolve(o):n(r,i)}}},ZF=(t,e,n,r,i,o,s,l)=>(a,u)=>{const c=u.listener,h=()=>{const _=new Float32Array(1),w=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),y=s(u);let S=!1,A=[0,0,-1,0,1,0],M=[0,0,0];const R=()=>{if(S)return;S=!0;const L=r(u,256,9,0);L.onaudioprocess=({inputBuffer:P})=>{const I=[o(P,_,0),o(P,_,1),o(P,_,2),o(P,_,3),o(P,_,4),o(P,_,5)];I.some((W,z)=>W!==A[z])&&(c.setOrientation(...I),A=I);const D=[o(P,_,6),o(P,_,7),o(P,_,8)];D.some((W,z)=>W!==M[z])&&(c.setPosition(...D),M=D)},w.connect(L)},k=L=>P=>{P!==A[L]&&(A[L]=P,c.setOrientation(...A))},$=L=>P=>{P!==M[L]&&(M[L]=P,c.setPosition(...M))},E=(L,P,I)=>{const D=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:P});D.connect(w,0,L),D.start(),Object.defineProperty(D.offset,"defaultValue",{get(){return P}});const W=t({context:a},y,D.offset,cr,yr);return l(W,"value",z=>()=>z.call(W),z=>G=>{try{z.call(W,G)}catch(Z){if(Z.code!==9)throw Z}R(),y&&I(G)}),W.cancelAndHoldAtTime=(z=>y?()=>{throw i()}:(...G)=>{const Z=z.apply(W,G);return R(),Z})(W.cancelAndHoldAtTime),W.cancelScheduledValues=(z=>y?()=>{throw i()}:(...G)=>{const Z=z.apply(W,G);return R(),Z})(W.cancelScheduledValues),W.exponentialRampToValueAtTime=(z=>y?()=>{throw i()}:(...G)=>{const Z=z.apply(W,G);return R(),Z})(W.exponentialRampToValueAtTime),W.linearRampToValueAtTime=(z=>y?()=>{throw i()}:(...G)=>{const Z=z.apply(W,G);return R(),Z})(W.linearRampToValueAtTime),W.setTargetAtTime=(z=>y?()=>{throw i()}:(...G)=>{const Z=z.apply(W,G);return R(),Z})(W.setTargetAtTime),W.setValueAtTime=(z=>y?()=>{throw i()}:(...G)=>{const Z=z.apply(W,G);return R(),Z})(W.setValueAtTime),W.setValueCurveAtTime=(z=>y?()=>{throw i()}:(...G)=>{const Z=z.apply(W,G);return R(),Z})(W.setValueCurveAtTime),W};return{forwardX:E(0,0,k(0)),forwardY:E(1,0,k(1)),forwardZ:E(2,-1,k(2)),positionX:E(6,0,$(0)),positionY:E(7,0,$(1)),positionZ:E(8,0,$(2)),upX:E(3,0,k(3)),upY:E(4,1,k(4)),upZ:E(5,0,k(5))}},{forwardX:f,forwardY:p,forwardZ:d,positionX:g,positionY:m,positionZ:v,upX:b,upY:C,upZ:x}=c.forwardX===void 0?h():c;return{get forwardX(){return f},get forwardY(){return p},get forwardZ(){return d},get positionX(){return g},get positionY(){return m},get positionZ(){return v},get upX(){return b},get upY(){return C},get upZ(){return x}}},_d=t=>"context"in t,qu=t=>_d(t[0]),Ca=(t,e,n,r)=>{for(const i of t)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},J1=(t,e,[n,r],i)=>{Ca(t,[e,n,r],o=>o[0]===e&&o[1]===n,i)},e_=(t,[e,n,r],i)=>{const o=t.get(e);o===void 0?t.set(e,new Set([[n,r]])):Ca(o,[n,r],s=>s[0]===n,i)},Xl=t=>"inputs"in t,Sd=(t,e,n,r)=>{if(Xl(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},tk=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},JF=(t,e,n)=>bp(t,r=>r[0]===e&&r[1]===n),nk=(t,e)=>{if(!Vu(t).delete(e))throw new Error("Missing the expected event listener.")},rk=(t,e,n)=>{const r=ki(t,e),i=bp(r,o=>o[0]===n);return r.size===0&&t.delete(e),i},xd=(t,e,n,r)=>{Xl(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Zt=t=>ki(O0,t),Mu=t=>ki(I0,t),va=t=>Hv.has(t),Lf=t=>!Ll.has(t),t_=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),i=t.createGain(),o=t.createBuffer(1,2,44100),s=o.getChannelData(0);s[0]=1,s[1]=1;const l=t.createBufferSource();l.buffer=o,l.loop=!0,l.connect(r).connect(t.destination),l.connect(i),l.disconnect(i),r.onaudioprocess=a=>{const u=a.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),l.stop(),r.onaudioprocess=null,l.disconnect(r),r.disconnect(t.destination)},l.start()}}),pm=(t,e)=>{const n=new Map;for(const r of t)for(const i of r){const o=n.get(i);n.set(i,o===void 0?1:o+1)}n.forEach((r,i)=>e(i,r))},Cd=t=>"context"in t,e3=t=>{const e=new Map;t.connect=(n=>(r,i=0,o=0)=>{const s=Cd(r)?n(r,i,o):n(r,i),l=e.get(r);return l===void 0?e.set(r,[{input:o,output:i}]):l.every(a=>a.input!==o||a.output!==i)&&l.push({input:o,output:i}),s})(t.connect.bind(t)),t.disconnect=(n=>(r,i,o)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[s,l]of e){const a=l.filter(u=>u.output!==r);a.length===0?e.delete(s):e.set(s,a)}else if(e.has(r))if(i===void 0)e.delete(r);else{const s=e.get(r);if(s!==void 0){const l=s.filter(a=>a.output!==i&&(a.input!==o||o===void 0));l.length===0?e.delete(r):e.set(r,l)}}for(const[s,l]of e)l.forEach(a=>{Cd(s)?t.connect(s,a.output,a.input):t.connect(s,a.output)})})(t.disconnect)},t3=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:o}=Gu(e),{outputs:s}=ur(t),l=Vu(t),a=u=>{const c=Zt(t),h=Mu(e);if(u){const f=rk(o,t,n);J1(i,t,f,!1),!r&&!va(t)&&c.connect(h,n)}else{const f=JF(i,t,n);e_(o,f,!1),!r&&!va(t)&&c.disconnect(h,n)}};return Ca(s,[e,n],u=>u[0]===e&&u[1]===n,!0)?(l.add(a),_o(t)?J1(i,t,[n,a],!0):e_(o,[t,n,a],!0),!0):!1},n3=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:o}=ur(e),s=tk(i[r],t,n);return s===null?[XT(o,t,n,r)[2],!1]:[s[2],!0]},r3=(t,e,n)=>{const{activeInputs:r,passiveInputs:i}=Gu(e),o=tk(r,t,n);return o===null?[rk(i,t,n)[1],!1]:[o[2],!0]},F0=(t,e,n,r,i)=>{const[o,s]=n3(t,n,r,i);if(o!==null&&(nk(t,o),s&&!e&&!va(t)&&xd(Zt(t),Zt(n),r,i)),_o(n)){const{activeInputs:l}=ur(n);Gv(n,l)}},W0=(t,e,n,r)=>{const[i,o]=r3(t,n,r);i!==null&&(nk(t,i),o&&!e&&!va(t)&&Zt(t).disconnect(Mu(n),r))},i3=(t,e)=>{const n=ur(t),r=[];for(const i of n.outputs)qu(i)?F0(t,e,...i):W0(t,e,...i),r.push(i[0]);return n.outputs.clear(),r},o3=(t,e,n)=>{const r=ur(t),i=[];for(const o of r.outputs)o[1]===n&&(qu(o)?F0(t,e,...o):W0(t,e,...o),i.push(o[0]),r.outputs.delete(o));return i},s3=(t,e,n,r,i)=>{const o=ur(t);return Array.from(o.outputs).filter(s=>s[0]===n&&(r===void 0||s[1]===r)&&(i===void 0||s[2]===i)).map(s=>(qu(s)?F0(t,e,...s):W0(t,e,...s),o.outputs.delete(s),s[0]))},a3=(t,e,n,r,i,o,s,l,a,u,c,h,f,p,d,g)=>class extends u{constructor(v,b,C,x){super(C),this._context=v,this._nativeAudioNode=C;const _=c(v);h(_)&&n(t_,()=>t_(_,g))!==!0&&e3(C),O0.set(this,C),YT.set(this,new Set),v.state!=="closed"&&b&&Nl(this),t(this,x,C)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,b=0,C=0){if(b<0||b>=this._nativeAudioNode.numberOfOutputs)throw i();const x=c(this._context),_=d(x);if(f(v)||p(v))throw o();if(_d(v)){const S=Zt(v);try{const M=Sd(this._nativeAudioNode,S,b,C),R=Lf(this);(_||R)&&this._nativeAudioNode.disconnect(...M),this.context.state!=="closed"&&!R&&Lf(v)&&Nl(v)}catch(M){throw M.code===12?o():M}if(e(this,v,b,C,_)){const M=a([this],v);pm(M,r(_))}return v}const w=Mu(v);if(w.name==="playbackRate"&&w.maxValue===1024)throw s();try{this._nativeAudioNode.connect(w,b),(_||Lf(this))&&this._nativeAudioNode.disconnect(w,b)}catch(S){throw S.code===12?o():S}if(t3(this,v,b,_)){const S=a([this],v);pm(S,r(_))}}disconnect(v,b,C){let x;const _=c(this._context),w=d(_);if(v===void 0)x=i3(this,w);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw i();x=o3(this,w,v)}else{if(b!==void 0&&(b<0||b>=this.numberOfOutputs)||_d(v)&&C!==void 0&&(C<0||C>=v.numberOfInputs))throw i();if(x=s3(this,w,v,b,C),x.length===0)throw o()}for(const y of x){const S=a([this],y);pm(S,l)}}},l3=(t,e,n,r,i,o,s,l,a,u,c,h,f)=>(p,d,g,m=null,v=null)=>{const b=g.value,C=new yF(b),x=d?r(C):null,_={get defaultValue(){return b},get maxValue(){return m===null?g.maxValue:m},get minValue(){return v===null?g.minValue:v},get value(){return g.value},set value(w){g.value=w,_.setValueAtTime(w,p.context.currentTime)},cancelAndHoldAtTime(w){if(typeof g.cancelAndHoldAtTime=="function")x===null&&C.flush(p.context.currentTime),C.add(i(w)),g.cancelAndHoldAtTime(w);else{const y=Array.from(C).pop();x===null&&C.flush(p.context.currentTime),C.add(i(w));const S=Array.from(C).pop();g.cancelScheduledValues(w),y!==S&&S!==void 0&&(S.type==="exponentialRampToValue"?g.exponentialRampToValueAtTime(S.value,S.endTime):S.type==="linearRampToValue"?g.linearRampToValueAtTime(S.value,S.endTime):S.type==="setValue"?g.setValueAtTime(S.value,S.startTime):S.type==="setValueCurve"&&g.setValueCurveAtTime(S.values,S.startTime,S.duration))}return _},cancelScheduledValues(w){return x===null&&C.flush(p.context.currentTime),C.add(o(w)),g.cancelScheduledValues(w),_},exponentialRampToValueAtTime(w,y){if(w===0)throw new RangeError;if(!Number.isFinite(y)||y<0)throw new RangeError;const S=p.context.currentTime;return x===null&&C.flush(S),Array.from(C).length===0&&(C.add(u(b,S)),g.setValueAtTime(b,S)),C.add(s(w,y)),g.exponentialRampToValueAtTime(w,y),_},linearRampToValueAtTime(w,y){const S=p.context.currentTime;return x===null&&C.flush(S),Array.from(C).length===0&&(C.add(u(b,S)),g.setValueAtTime(b,S)),C.add(l(w,y)),g.linearRampToValueAtTime(w,y),_},setTargetAtTime(w,y,S){return x===null&&C.flush(p.context.currentTime),C.add(a(w,y,S)),g.setTargetAtTime(w,y,S),_},setValueAtTime(w,y){return x===null&&C.flush(p.context.currentTime),C.add(u(w,y)),g.setValueAtTime(w,y),_},setValueCurveAtTime(w,y,S){const A=w instanceof Float32Array?w:new Float32Array(w);if(h!==null&&h.name==="webkitAudioContext"){const M=y+S,R=p.context.sampleRate,k=Math.ceil(y*R),$=Math.floor(M*R),E=$-k,L=new Float32Array(E);for(let I=0;I<E;I+=1){const D=(A.length-1)/S*((k+I)/R-y),W=Math.floor(D),z=Math.ceil(D);L[I]=W===z?A[W]:(1-(D-W))*A[W]+(1-(z-D))*A[z]}x===null&&C.flush(p.context.currentTime),C.add(c(L,y,S)),g.setValueCurveAtTime(L,y,S);const P=$/R;P<M&&f(_,L[L.length-1],P),f(_,A[A.length-1],M)}else x===null&&C.flush(p.context.currentTime),C.add(c(A,y,S)),g.setValueCurveAtTime(A,y,S);return _}};return n.set(_,g),e.set(_,p),t(_,x),_},c3=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:i}=n;e.exponentialRampToValueAtTime(i,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:i}=n;e.linearRampToValueAtTime(i,r)}else if(n.type==="setTarget"){const{startTime:r,target:i,timeConstant:o}=n;e.setTargetAtTime(i,r,o)}else if(n.type==="setValue"){const{startTime:r,value:i}=n;e.setValueAtTime(i,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:i,values:o}=n;e.setValueCurveAtTime(o,i,r)}else throw new Error("Can't apply an unknown automation.")}});class ik{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,i)=>e.call(n,r,i,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const u3={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},h3=(t,e,n,r,i,o,s,l,a,u,c,h,f,p)=>class extends e{constructor(g,m,v){var b;const C=l(g),x=a(C),_=c({...u3,...v});f(_);const w=Vv.get(C),y=w==null?void 0:w.get(m),S=x||C.state!=="closed"?C:(b=s(C))!==null&&b!==void 0?b:C,A=i(S,x?null:g.baseLatency,u,m,y,_),M=x?r(m,_,y):null;super(g,!0,A,M);const R=[];A.parameters.forEach(($,E)=>{const L=n(this,x,$);R.push([E,L])}),this._nativeAudioWorkletNode=A,this._onprocessorerror=null,this._parameters=new ik(R),x&&t(C,this);const{activeInputs:k}=o(this);h(A,k)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){const m=typeof g=="function"?p(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=m;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===m?g:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Td(t,e,n,r,i){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const o=t.getChannelData(r);if(e[n].byteLength===0)e[n]=o.slice(i,i+128);else{const s=new Float32Array(o.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(s)}}}const ok=(t,e,n,r,i)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,i):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],i)},kd=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const i=[],o=typeof e=="number"?e:e[r];for(let s=0;s<o;s+=1)i.push(new Float32Array(128));n.push(i)}return n},f3=(t,e)=>{const n=ki(Uv,t),r=Zt(e);return ki(n,r)},d3=async(t,e,n,r,i,o,s)=>{const l=e===null?Math.ceil(t.context.length/128)*128:e.length,a=r.channelCount*r.numberOfInputs,u=i.reduce((m,v)=>m+v,0),c=u===0?null:n.createBuffer(u,l,n.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const h=ur(t),f=await f3(n,t),p=kd(r.numberOfInputs,r.channelCount),d=kd(r.numberOfOutputs,i),g=Array.from(t.parameters.keys()).reduce((m,v)=>({...m,[v]:new Float32Array(128)}),{});for(let m=0;m<l;m+=128){if(r.numberOfInputs>0&&e!==null)for(let v=0;v<r.numberOfInputs;v+=1)for(let b=0;b<r.channelCount;b+=1)Td(e,p[v],b,b,m);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:v},b)=>{Td(e,g,v,a+b,m)});for(let v=0;v<r.numberOfInputs;v+=1)for(let b=0;b<i[v];b+=1)d[v][b].byteLength===0&&(d[v][b]=new Float32Array(128));try{const v=p.map((C,x)=>h.activeInputs[x].size===0?[]:C),b=s(m/n.sampleRate,n.sampleRate,()=>f.process(v,d,g));if(c!==null)for(let C=0,x=0;C<r.numberOfOutputs;C+=1){for(let _=0;_<i[C];_+=1)ok(c,d[C],_,x+_,m);x+=i[C]}if(!b)break}catch(v){t.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return c},p3=(t,e,n,r,i,o,s,l,a,u,c,h,f,p,d,g)=>(m,v,b)=>{const C=new WeakMap;let x=null;const _=async(w,y)=>{let S=c(w),A=null;const M=rr(S,y),R=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(h===null){const k=R.reduce((P,I)=>P+I,0),$=i(y,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),E=[];for(let P=0;P<w.numberOfOutputs;P+=1)E.push(r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:R[P]}));const L=s(y,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});L.connect=e.bind(null,E),L.disconnect=a.bind(null,E),A=[$,E,L]}else M||(S=new h(y,m));if(C.set(y,A===null?S:A[2]),A!==null){if(x===null){if(b===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=w.channelCount*w.numberOfInputs,D=b.parameterDescriptors===void 0?0:b.parameterDescriptors.length,W=I+D;x=d3(w,W===0?null:await(async()=>{const G=new f(W,Math.ceil(w.context.length/128)*128,y.sampleRate),Z=[],q=[];for(let ee=0;ee<v.numberOfInputs;ee+=1)Z.push(s(G,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),q.push(i(G,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const X=await Promise.all(Array.from(w.parameters.values()).map(async ee=>{const re=o(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ee.value});return await p(G,ee,re.offset),re})),Y=r(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,I+D)});for(let ee=0;ee<v.numberOfInputs;ee+=1){Z[ee].connect(q[ee]);for(let re=0;re<v.channelCount;re+=1)q[ee].connect(Y,re,ee*v.channelCount+re)}for(const[ee,re]of X.entries())re.connect(Y,0,I+ee),re.start(0);return Y.connect(G.destination),await Promise.all(Z.map(ee=>d(w,G,ee))),g(G)})(),y,v,R,b,u)}const k=await x,$=n(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[E,L,P]=A;k!==null&&($.buffer=k,$.start(0)),$.connect(E);for(let I=0,D=0;I<w.numberOfOutputs;I+=1){const W=L[I];for(let z=0;z<R[I];z+=1)E.connect(W,D+z,z);D+=R[I]}return P}if(M)for(const[k,$]of w.parameters.entries())await t(y,$,S.parameters.get(k));else for(const[k,$]of w.parameters.entries())await p(y,$,S.parameters.get(k));return await d(w,y,S),S};return{render(w,y){l(y,w);const S=C.get(y);return S!==void 0?Promise.resolve(S):_(w,y)}}},g3=(t,e,n,r,i,o,s,l,a,u,c,h,f,p,d,g,m,v,b,C)=>class extends d{constructor(_,w){super(_,w),this._nativeContext=_,this._audioWorklet=t===void 0?void 0:{addModule:(y,S)=>t(this,y,S)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(_,w,y){return new n({length:w,numberOfChannels:_,sampleRate:y})}createBufferSource(){return new r(this)}createChannelMerger(_=6){return new o(this,{numberOfInputs:_})}createChannelSplitter(_=6){return new s(this,{numberOfOutputs:_})}createConstantSource(){return new l(this)}createConvolver(){return new a(this)}createDelay(_=1){return new c(this,{maxDelayTime:_})}createDynamicsCompressor(){return new h(this)}createGain(){return new f(this)}createIIRFilter(_,w){return new p(this,{feedback:w,feedforward:_})}createOscillator(){return new g(this)}createPanner(){return new m(this)}createPeriodicWave(_,w,y={disableNormalization:!1}){return new v(this,{...y,imag:w,real:_})}createStereoPanner(){return new b(this)}createWaveShaper(){return new C(this)}decodeAudioData(_,w,y){return u(this._nativeContext,_).then(S=>(typeof w=="function"&&w(S),S),S=>{throw typeof y=="function"&&y(S),S})}},m3={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},v3=(t,e,n,r,i,o,s,l)=>class extends t{constructor(u,c){const h=o(u),f={...m3,...c},p=i(h,f),d=s(h),g=d?n():null;super(u,!1,p,g),this._Q=e(this,d,p.Q,cr,yr),this._detune=e(this,d,p.detune,1200*Math.log2(cr),-1200*Math.log2(cr)),this._frequency=e(this,d,p.frequency,u.sampleRate/2,0),this._gain=e(this,d,p.gain,40*Math.log10(cr),yr),this._nativeBiquadFilterNode=p,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(f){throw f.code===11?r():f}if(u.length!==c.length||c.length!==h.length)throw r()}},y3=(t,e,n,r,i)=>()=>{const o=new WeakMap,s=async(l,a)=>{let u=n(l);const c=rr(u,a);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(a,h)}return o.set(a,u),c?(await t(a,l.Q,u.Q),await t(a,l.detune,u.detune),await t(a,l.frequency,u.frequency),await t(a,l.gain,u.gain)):(await r(a,l.Q,u.Q),await r(a,l.detune,u.detune),await r(a,l.frequency,u.frequency),await r(a,l.gain,u.gain)),await i(l,a,u),u};return{render(l,a){const u=o.get(a);return u!==void 0?Promise.resolve(u):s(l,a)}}},w3=(t,e)=>(n,r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t.get(n);if(o!==void 0)return o;try{const s=r();return s instanceof Promise?(t.set(n,s),s.catch(()=>!1).then(l=>(t.delete(n),e.set(n,l),l))):(e.set(n,s),s)}catch{return e.set(n,!1),!1}},b3={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},_3=(t,e,n,r,i)=>class extends t{constructor(s,l){const a=r(s),u={...b3,...l},c=n(a,u),h=i(a)?e():null;super(s,!1,c,h)}},S3=(t,e,n)=>()=>{const r=new WeakMap,i=async(o,s)=>{let l=e(o);if(!rr(l,s)){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfInputs:l.numberOfInputs};l=t(s,u)}return r.set(s,l),await n(o,s,l),l};return{render(o,s){const l=r.get(s);return l!==void 0?Promise.resolve(l):i(o,s)}}},x3={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},C3=(t,e,n,r,i,o)=>class extends t{constructor(l,a){const u=r(l),c=o({...x3,...a}),h=n(u,c),f=i(u)?e():null;super(l,!1,h,f)}},T3=(t,e,n)=>()=>{const r=new WeakMap,i=async(o,s)=>{let l=e(o);if(!rr(l,s)){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfOutputs:l.numberOfOutputs};l=t(s,u)}return r.set(s,l),await n(o,s,l),l};return{render(o,s){const l=r.get(s);return l!==void 0?Promise.resolve(l):i(o,s)}}},k3=t=>(e,n,r)=>t(n,e,r),A3=t=>(e,n,r=0,i=0)=>{const o=e[r];if(o===void 0)throw t();return Cd(n)?o.connect(n,0,i):o.connect(n,0)},M3=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},E3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},$3=(t,e,n,r,i,o,s)=>class extends t{constructor(a,u){const c=i(a),h={...E3,...u},f=r(c,h),p=o(c),d=p?n():null;super(a,!1,f,d),this._constantSourceNodeRenderer=d,this._nativeConstantSourceNode=f,this._offset=e(this,p,f.offset,cr,yr),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(a){const u=typeof a=="function"?s(this,a):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?a:c}start(a=0){if(this._nativeConstantSourceNode.start(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=a),this.context.state!=="closed"){Nl(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),_o(this)&&Uu(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(a=0){this._nativeConstantSourceNode.stop(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=a)}},R3=(t,e,n,r,i)=>()=>{const o=new WeakMap;let s=null,l=null;const a=async(u,c)=>{let h=n(u);const f=rr(h,c);if(!f){const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,p),s!==null&&h.start(s),l!==null&&h.stop(l)}return o.set(c,h),f?await t(c,u.offset,h.offset):await r(c,u.offset,h.offset),await i(u,c,h),h};return{set start(u){s=u},set stop(u){l=u},render(u,c){const h=o.get(c);return h!==void 0?Promise.resolve(h):a(u,c)}}},L3=t=>e=>(t[0]=e,t[0]),N3={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},P3=(t,e,n,r,i,o)=>class extends t{constructor(l,a){const u=r(l),c={...N3,...a},h=n(u,c),p=i(u)?e():null;super(l,!1,h,p),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&o(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){if(this._nativeConvolverNode.buffer=l,l===null&&this._nativeConvolverNode.buffer!==null){const a=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=a.createBuffer(1,1,a.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}},O3=(t,e,n)=>()=>{const r=new WeakMap,i=async(o,s)=>{let l=e(o);if(!rr(l,s)){const u={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,disableNormalization:!l.normalize};l=t(s,u)}return r.set(s,l),Xl(l)?await n(o,s,l.inputs[0]):await n(o,s,l),l};return{render(o,s){const l=r.get(s);return l!==void 0?Promise.resolve(l):i(o,s)}}},I3=(t,e)=>(n,r,i)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,i)}catch(o){throw o.name==="SyntaxError"?t():o}},D3=()=>new DOMException("","DataCloneError"),n_=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const i=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>i();try{e.postMessage(t,[t])}catch{}finally{i()}})},F3=(t,e,n,r,i,o,s,l,a,u,c)=>(h,f)=>{const p=s(h)?h:o(h);if(i.has(f)){const d=n();return Promise.reject(d)}try{i.add(f)}catch{}return e(a,()=>a(p))?p.decodeAudioData(f).then(d=>(n_(f).catch(()=>{}),e(l,()=>l(d))||c(d),t.add(d),d)):new Promise((d,g)=>{const m=async()=>{try{await n_(f)}catch{}},v=b=>{g(b),m()};try{p.decodeAudioData(f,b=>{typeof b.copyFromChannel!="function"&&(u(b),D0(b)),t.add(b),m().then(()=>d(b))},b=>{v(b===null?r():b)})}catch(b){v(b)}})},W3=(t,e,n,r,i,o,s,l)=>(a,u)=>{const c=e.get(a);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=o(a.context),f=l(h);if(c===u){if(e.delete(a),!f&&s(a)){const p=r(a),{outputs:d}=n(a);for(const g of d)if(qu(g)){const m=r(g[0]);t(p,m,g[1],g[2])}else{const m=i(g[0]);p.connect(m,g[1])}}}else e.set(a,c-u)},j3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},B3=(t,e,n,r,i,o,s)=>class extends t{constructor(a,u){const c=i(a),h={...j3,...u},f=r(c,h),p=o(c),d=p?n(h.maxDelayTime):null;super(a,!1,f,d),this._delayTime=e(this,p,f.delayTime),s(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},z3=(t,e,n,r,i)=>o=>{const s=new WeakMap,l=async(a,u)=>{let c=n(a);const h=rr(c,u);if(!h){const f={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:o};c=e(u,f)}return s.set(u,c),h?await t(u,a.delayTime,c.delayTime):await r(u,a.delayTime,c.delayTime),await i(a,u,c),c};return{render(a,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):l(a,u)}}},H3=t=>(e,n,r,i)=>t(e[i],o=>o[0]===n&&o[1]===r),V3=t=>(e,n)=>{t(e).delete(n)},U3=t=>"delayTime"in t,G3=(t,e,n)=>function r(i,o){const s=_d(o)?o:n(t,o);if(U3(s))return[];if(i[0]===s)return[i];if(i.includes(s))return[];const{outputs:l}=e(s);return Array.from(l).map(a=>r([...i,s],a[0])).reduce((a,u)=>a.concat(u),[])},lf=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},q3=t=>(e,n=void 0,r=void 0,i=0)=>n===void 0?e.forEach(o=>o.disconnect()):typeof n=="number"?lf(t,e,n).disconnect():Cd(n)?r===void 0?e.forEach(o=>o.disconnect(n)):i===void 0?lf(t,e,r).disconnect(n,0):lf(t,e,r).disconnect(n,0,i):r===void 0?e.forEach(o=>o.disconnect(n)):lf(t,e,r).disconnect(n,0),K3={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Y3=(t,e,n,r,i,o,s,l)=>class extends t{constructor(u,c){const h=o(u),f={...K3,...c},p=r(h,f),d=s(h),g=d?n():null;super(u,!1,p,g),this._attack=e(this,d,p.attack),this._knee=e(this,d,p.knee),this._nativeDynamicsCompressorNode=p,this._ratio=e(this,d,p.ratio),this._release=e(this,d,p.release),this._threshold=e(this,d,p.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Q3=(t,e,n,r,i)=>()=>{const o=new WeakMap,s=async(l,a)=>{let u=n(l);const c=rr(u,a);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(a,h)}return o.set(a,u),c?(await t(a,l.attack,u.attack),await t(a,l.knee,u.knee),await t(a,l.ratio,u.ratio),await t(a,l.release,u.release),await t(a,l.threshold,u.threshold)):(await r(a,l.attack,u.attack),await r(a,l.knee,u.knee),await r(a,l.ratio,u.ratio),await r(a,l.release,u.release),await r(a,l.threshold,u.threshold)),await i(l,a,u),u};return{render(l,a){const u=o.get(a);return u!==void 0?Promise.resolve(u):s(l,a)}}},X3=()=>new DOMException("","EncodingError"),Z3=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const i=t.document.head;if(i===null)r(new SyntaxError);else{const o=t.document.createElement("script"),s=new Blob([e],{type:"application/javascript"}),l=URL.createObjectURL(s),a=t.onerror,u=()=>{t.onerror=a,URL.revokeObjectURL(l)};t.onerror=(c,h,f,p,d)=>{if(h===l||h===t.location.href&&f===1&&p===1)return u(),r(d),!1;if(a!==null)return a(c,h,f,p,d)},o.onerror=()=>{u(),r(new SyntaxError)},o.onload=()=>{u(),n()},o.src=l,o.type="module",i.appendChild(o)}}),J3=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,i){if(r!==null){let o=this._listeners.get(r);o===void 0&&(o=t(this,r),typeof r=="function"&&this._listeners.set(r,o)),this._nativeEventTarget.addEventListener(n,o,i)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,i){const o=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,o===void 0?null:o,i)}},e4=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},t4=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},n4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},r4=(t,e,n,r,i,o)=>class extends t{constructor(l,a){const u=i(l),c={...n4,...a},h=r(u,c),f=o(u),p=f?n():null;super(l,!1,h,p),this._gain=e(this,f,h.gain,cr,yr)}get gain(){return this._gain}},i4=(t,e,n,r,i)=>()=>{const o=new WeakMap,s=async(l,a)=>{let u=n(l);const c=rr(u,a);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(a,h)}return o.set(a,u),c?await t(a,l.gain,u.gain):await r(a,l.gain,u.gain),await i(l,a,u),u};return{render(l,a){const u=o.get(a);return u!==void 0?Promise.resolve(u):s(l,a)}}},o4=(t,e)=>n=>e(t,n),s4=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},a4=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},l4=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},c4=t=>e=>t.get(e),Dn=()=>new DOMException("","InvalidStateError"),u4=t=>e=>{const n=t.get(e);if(n===void 0)throw Dn();return n},h4=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},f4=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},_p=()=>new DOMException("","InvalidAccessError"),d4=t=>{t.getFrequencyResponse=(e=>(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw _p();return e.call(t,n,r,i)})(t.getFrequencyResponse)},p4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},g4=(t,e,n,r,i,o)=>class extends t{constructor(l,a){const u=r(l),c=i(u),h={...p4,...a},f=e(u,c?null:l.baseLatency,h),p=c?n(h.feedback,h.feedforward):null;super(l,!1,f,p),d4(f),this._nativeIIRFilterNode=f,o(this,1)}getFrequencyResponse(l,a,u){return this._nativeIIRFilterNode.getFrequencyResponse(l,a,u)}},sk=(t,e,n,r,i,o,s,l,a,u,c)=>{const h=u.length;let f=l;for(let p=0;p<h;p+=1){let d=n[0]*u[p];for(let g=1;g<i;g+=1){const m=f-g&a-1;d+=n[g]*o[m],d-=t[g]*s[m]}for(let g=i;g<r;g+=1)d+=n[g]*o[f-g&a-1];for(let g=i;g<e;g+=1)d-=t[g]*s[f-g&a-1];o[f]=u[p],s[f]=d,f=f+1&a-1,c[p]=d}return f},m4=(t,e,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),o=r instanceof Float64Array?r:new Float64Array(r),s=i.length,l=o.length,a=Math.min(s,l);if(i[0]!==1){for(let d=0;d<s;d+=1)o[d]/=i[0];for(let d=1;d<l;d+=1)i[d]/=i[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),f=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let d=0;d<p;d+=1){const g=t.getChannelData(d),m=f.getChannelData(d);c.fill(0),h.fill(0),sk(i,s,o,l,a,c,h,0,u,g,m)}return f},v4=(t,e,n,r,i)=>(o,s)=>{const l=new WeakMap;let a=null;const u=async(c,h)=>{let f=null,p=e(c);const d=rr(p,h);if(h.createIIRFilter===void 0?f=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):d||(p=h.createIIRFilter(s,o)),l.set(h,f===null?p:f),f!==null){if(a===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const m=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);a=(async()=>{await r(c,m,m.destination);const v=await i(m);return m4(v,h,o,s)})()}const g=await a;return f.buffer=g,f.start(0),f}return await r(c,h,p),p};return{render(c,h){const f=l.get(h);return f!==void 0?Promise.resolve(f):u(c,h)}}},y4=(t,e,n,r,i,o)=>s=>(l,a)=>{const u=t.get(l);if(u===void 0){if(!s&&o(l)){const c=r(l),{outputs:h}=n(l);for(const f of h)if(qu(f)){const p=r(f[0]);e(c,p,f[1],f[2])}else{const p=i(f[0]);c.disconnect(p,f[1])}}t.set(l,a)}else t.set(l,u+a)},w4=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},b4=(t,e)=>n=>t.has(n)||e(n),_4=(t,e)=>n=>t.has(n)||e(n),S4=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},x4=t=>e=>t!==null&&e instanceof t,C4=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,T4=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,k4=(t,e)=>n=>t(n)||e(n),A4=t=>e=>t!==null&&e instanceof t,M4=t=>t!==null&&t.isSecureContext,E4=(t,e,n,r)=>class extends t{constructor(o,s){const l=n(o),a=e(l,s);if(r(l))throw TypeError();super(o,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},$4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},R4=(t,e,n,r)=>class extends t{constructor(o,s){const l=n(o);if(r(l))throw new TypeError;const a={...$4,...s},u=e(l,a);super(o,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},L4=(t,e,n,r)=>class extends t{constructor(o,s){const l=n(o),a=e(l,s);if(r(l))throw new TypeError;super(o,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},N4=(t,e,n)=>class extends t{constructor(i,o){const s=n(i),l=e(s,o);super(i,!0,l,null)}},P4=(t,e,n,r,i,o)=>class extends n{constructor(l,a){super(l),this._nativeContext=l,wp.set(this,l),r(l)&&i.set(l,new Set),this._destination=new t(this,a),this._listener=e(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const a=typeof l=="function"?o(this,l):null;this._nativeContext.onstatechange=a;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===a?l:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Eu=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},O4=(t,e)=>(n,r,i)=>{const o=new Set;return n.connect=(s=>(l,a=0,u=0)=>{const c=o.size===0;if(e(l))return s.call(n,l,a,u),t(o,[l,a,u],h=>h[0]===l&&h[1]===a&&h[2]===u,!0),c&&r(),l;s.call(n,l,a),t(o,[l,a],h=>h[0]===l&&h[1]===a,!0),c&&r()})(n.connect),n.disconnect=(s=>(l,a,u)=>{const c=o.size>0;if(l===void 0)s.apply(n),o.clear();else if(typeof l=="number"){s.call(n,l);for(const f of o)f[1]===l&&o.delete(f)}else{e(l)?s.call(n,l,a,u):s.call(n,l,a);for(const f of o)f[0]===l&&(a===void 0||f[1]===a)&&(u===void 0||f[2]===u)&&o.delete(f)}const h=o.size===0;c&&h&&i()})(n.disconnect),n},tn=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Nn=(t,e)=>{tn(t,e,"channelCount"),tn(t,e,"channelCountMode"),tn(t,e,"channelInterpretation")},r_=t=>typeof t.getFloatTimeDomainData=="function",I4=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let i=0;i<r;i+=1)e[i]=(n[i]-128)*.0078125;return e}},D4=(t,e)=>(n,r)=>{const i=n.createAnalyser();if(Nn(i,r),!(r.maxDecibels>r.minDecibels))throw e();return tn(i,r,"fftSize"),tn(i,r,"maxDecibels"),tn(i,r,"minDecibels"),tn(i,r,"smoothingTimeConstant"),t(r_,()=>r_(i))||I4(i),i},F4=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,mn=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},W4=t=>{t.start=(e=>{let n=!1;return(r=0,i=0,o)=>{if(n)throw Dn();e.call(t,r,i,o),n=!0}})(t.start)},j0=t=>{t.start=(e=>(n=0,r=0,i)=>{if(typeof i=="number"&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},B0=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},j4=(t,e,n,r,i,o,s,l,a,u,c)=>(h,f)=>{const p=h.createBufferSource();return Nn(p,f),mn(p,f,"playbackRate"),tn(p,f,"buffer"),tn(p,f,"loop"),tn(p,f,"loopEnd"),tn(p,f,"loopStart"),e(n,()=>n(h))||W4(p),e(r,()=>r(h))||a(p),e(i,()=>i(h))||u(p,h),e(o,()=>o(h))||j0(p),e(s,()=>s(h))||c(p,h),e(l,()=>l(h))||B0(p),t(h,p),p},B4=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,z4=(t,e)=>(n,r,i)=>{const o=n.destination;if(o.channelCount!==r)try{o.channelCount=r}catch{}i&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:r});const s=t(n,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(s,"channelCount",l=>()=>l.call(s),l=>a=>{l.call(s,a);try{o.channelCount=a}catch(u){if(a>o.maxChannelCount)throw u}}),e(s,"channelCountMode",l=>()=>l.call(s),l=>a=>{l.call(s,a),o.channelCountMode=a}),e(s,"channelInterpretation",l=>()=>l.call(s),l=>a=>{l.call(s,a),o.channelInterpretation=a}),Object.defineProperty(s,"maxChannelCount",{get:()=>o.maxChannelCount}),s.connect(o),s},H4=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,V4=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},U4=(t,e,n,r,i)=>(o,s,l,a,u,c)=>{if(l!==null)try{const h=new l(o,a,c),f=new Map;let p=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>p,set:d=>{typeof p=="function"&&h.removeEventListener("processorerror",p),p=typeof d=="function"?d:null,typeof p=="function"&&h.addEventListener("processorerror",p)}}}),h.addEventListener=(d=>(...g)=>{if(g[0]==="processorerror"){const m=typeof g[1]=="function"?g[1]:typeof g[1]=="object"&&g[1]!==null&&typeof g[1].handleEvent=="function"?g[1].handleEvent:null;if(m!==null){const v=f.get(g[1]);v!==void 0?g[1]=v:(g[1]=b=>{b.type==="error"?(Object.defineProperties(b,{type:{value:"processorerror"}}),m(b)):m(new ErrorEvent(g[0],{...b}))},f.set(m,g[1]))}}return d.call(h,"error",g[1],g[2]),d.call(h,...g)})(h.addEventListener),h.removeEventListener=(d=>(...g)=>{if(g[0]==="processorerror"){const m=f.get(g[1]);m!==void 0&&(f.delete(g[1]),g[1]=m)}return d.call(h,"error",g[1],g[2]),d.call(h,g[0],g[1],g[2])})(h.removeEventListener),c.numberOfOutputs!==0){const d=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(d).connect(o.destination),i(h,()=>d.disconnect(),()=>d.connect(o.destination))}return h}catch(h){throw h.code===11?r():h}if(u===void 0)throw r();return V4(c),e(o,s,u,c)},ak=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),G4=t=>new Promise((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:o})=>{r.close(),i.close(),e(o)},r.onmessageerror=({data:o})=>{r.close(),i.close(),n(o)},i.postMessage(t)}),q4=async(t,e)=>{const n=await G4(e);return new t(n)},K4=(t,e,n,r)=>{let i=Uv.get(t);i===void 0&&(i=new WeakMap,Uv.set(t,i));const o=q4(n,r);return i.set(e,o),o},Y4=(t,e,n,r,i,o,s,l,a,u,c,h,f)=>(p,d,g,m)=>{if(m.numberOfInputs===0&&m.numberOfOutputs===0)throw a();const v=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(v.some(we=>we<1))throw a();if(v.length!==m.numberOfOutputs)throw e();if(m.channelCountMode!=="explicit")throw a();const b=m.channelCount*m.numberOfInputs,C=v.reduce((we,Ae)=>we+Ae,0),x=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length;if(b+x>6||C>6)throw a();const _=new MessageChannel,w=[],y=[];for(let we=0;we<m.numberOfInputs;we+=1)w.push(s(p,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),y.push(i(p,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const S=[];if(g.parameterDescriptors!==void 0)for(const{defaultValue:we,maxValue:Ae,minValue:st,name:qe}of g.parameterDescriptors){const Ue=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:m.parameterData[qe]!==void 0?m.parameterData[qe]:we===void 0?0:we});Object.defineProperties(Ue.offset,{defaultValue:{get:()=>we===void 0?0:we},maxValue:{get:()=>Ae===void 0?cr:Ae},minValue:{get:()=>st===void 0?yr:st}}),S.push(Ue)}const A=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,b+x)}),M=ak(d,p.sampleRate),R=l(p,M,b+x,Math.max(1,C)),k=i(p,{channelCount:Math.max(1,C),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,C)}),$=[];for(let we=0;we<m.numberOfOutputs;we+=1)$.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[we]}));for(let we=0;we<m.numberOfInputs;we+=1){w[we].connect(y[we]);for(let Ae=0;Ae<m.channelCount;Ae+=1)y[we].connect(A,Ae,we*m.channelCount+Ae)}const E=new ik(g.parameterDescriptors===void 0?[]:g.parameterDescriptors.map(({name:we},Ae)=>{const st=S[Ae];return st.connect(A,0,b+Ae),st.start(0),[we,st.offset]}));A.connect(R);let L=m.channelInterpretation,P=null;const I=m.numberOfOutputs===0?[R]:$,D={get bufferSize(){return M},get channelCount(){return m.channelCount},set channelCount(we){throw n()},get channelCountMode(){return m.channelCountMode},set channelCountMode(we){throw n()},get channelInterpretation(){return L},set channelInterpretation(we){for(const Ae of w)Ae.channelInterpretation=we;L=we},get context(){return R.context},get inputs(){return w},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return P},set onprocessorerror(we){typeof P=="function"&&D.removeEventListener("processorerror",P),P=typeof we=="function"?we:null,typeof P=="function"&&D.addEventListener("processorerror",P)},get parameters(){return E},get port(){return _.port2},addEventListener(...we){return R.addEventListener(we[0],we[1],we[2])},connect:t.bind(null,I),disconnect:u.bind(null,I),dispatchEvent(...we){return R.dispatchEvent(we[0])},removeEventListener(...we){return R.removeEventListener(we[0],we[1],we[2])}},W=new Map;_.port1.addEventListener=(we=>(...Ae)=>{if(Ae[0]==="message"){const st=typeof Ae[1]=="function"?Ae[1]:typeof Ae[1]=="object"&&Ae[1]!==null&&typeof Ae[1].handleEvent=="function"?Ae[1].handleEvent:null;if(st!==null){const qe=W.get(Ae[1]);qe!==void 0?Ae[1]=qe:(Ae[1]=Ue=>{c(p.currentTime,p.sampleRate,()=>st(Ue))},W.set(st,Ae[1]))}}return we.call(_.port1,Ae[0],Ae[1],Ae[2])})(_.port1.addEventListener),_.port1.removeEventListener=(we=>(...Ae)=>{if(Ae[0]==="message"){const st=W.get(Ae[1]);st!==void 0&&(W.delete(Ae[1]),Ae[1]=st)}return we.call(_.port1,Ae[0],Ae[1],Ae[2])})(_.port1.removeEventListener);let z=null;Object.defineProperty(_.port1,"onmessage",{get:()=>z,set:we=>{typeof z=="function"&&_.port1.removeEventListener("message",z),z=typeof we=="function"?we:null,typeof z=="function"&&(_.port1.addEventListener("message",z),_.port1.start())}}),g.prototype.port=_.port1;let G=null;K4(p,D,g,m).then(we=>G=we);const q=kd(m.numberOfInputs,m.channelCount),X=kd(m.numberOfOutputs,v),Y=g.parameterDescriptors===void 0?[]:g.parameterDescriptors.reduce((we,{name:Ae})=>({...we,[Ae]:new Float32Array(128)}),{});let ee=!0;const re=()=>{m.numberOfOutputs>0&&R.disconnect(k);for(let we=0,Ae=0;we<m.numberOfOutputs;we+=1){const st=$[we];for(let qe=0;qe<v[we];qe+=1)k.disconnect(st,Ae+qe,qe);Ae+=v[we]}},ie=new Map;R.onaudioprocess=({inputBuffer:we,outputBuffer:Ae})=>{if(G!==null){const st=h(D);for(let qe=0;qe<M;qe+=128){for(let Ue=0;Ue<m.numberOfInputs;Ue+=1)for(let _t=0;_t<m.channelCount;_t+=1)Td(we,q[Ue],_t,_t,qe);g.parameterDescriptors!==void 0&&g.parameterDescriptors.forEach(({name:Ue},_t)=>{Td(we,Y,Ue,b+_t,qe)});for(let Ue=0;Ue<m.numberOfInputs;Ue+=1)for(let _t=0;_t<v[Ue];_t+=1)X[Ue][_t].byteLength===0&&(X[Ue][_t]=new Float32Array(128));try{const Ue=q.map((Jt,At)=>{if(st[At].size>0)return ie.set(At,M/128),Jt;const yn=ie.get(At);return yn===void 0?[]:(Jt.every(Re=>Re.every(de=>de===0))&&(yn===1?ie.delete(At):ie.set(At,yn-1)),Jt)});ee=c(p.currentTime+qe/p.sampleRate,p.sampleRate,()=>G.process(Ue,X,Y));for(let Jt=0,At=0;Jt<m.numberOfOutputs;Jt+=1){for(let an=0;an<v[Jt];an+=1)ok(Ae,X[Jt],an,At+an,qe);At+=v[Jt]}}catch(Ue){ee=!1,D.dispatchEvent(new ErrorEvent("processorerror",{colno:Ue.colno,filename:Ue.filename,lineno:Ue.lineno,message:Ue.message}))}if(!ee){for(let Ue=0;Ue<m.numberOfInputs;Ue+=1){w[Ue].disconnect(y[Ue]);for(let _t=0;_t<m.channelCount;_t+=1)y[qe].disconnect(A,_t,Ue*m.channelCount+_t)}if(g.parameterDescriptors!==void 0){const Ue=g.parameterDescriptors.length;for(let _t=0;_t<Ue;_t+=1){const Jt=S[_t];Jt.disconnect(A,0,b+_t),Jt.stop()}}A.disconnect(R),R.onaudioprocess=null,ue?re():Te();break}}}};let ue=!1;const he=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),_e=()=>R.connect(he).connect(p.destination),Te=()=>{R.disconnect(he),he.disconnect()},tt=()=>{if(ee){Te(),m.numberOfOutputs>0&&R.connect(k);for(let we=0,Ae=0;we<m.numberOfOutputs;we+=1){const st=$[we];for(let qe=0;qe<v[we];qe+=1)k.connect(st,Ae+qe,qe);Ae+=v[we]}}ue=!0},ot=()=>{ee&&(_e(),re()),ue=!1};return _e(),f(D,tt,ot)},lk=(t,e)=>{const n=t.createBiquadFilter();return Nn(n,e),mn(n,e,"Q"),mn(n,e,"detune"),mn(n,e,"frequency"),mn(n,e,"gain"),tn(n,e,"type"),n},Q4=(t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,i),Nn(i,r),i},X4=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Dn()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Dn()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Dn()}})},Ku=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Nn(n,e),X4(n),n},Z4=(t,e,n,r,i)=>(o,s)=>{if(o.createConstantSource===void 0)return n(o,s);const l=o.createConstantSource();return Nn(l,s),mn(l,s,"offset"),e(r,()=>r(o))||j0(l),e(i,()=>i(o))||B0(l),t(o,l),l},Zl=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),J4=(t,e,n,r)=>(i,{offset:o,...s})=>{const l=i.createBuffer(1,2,44100),a=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(i,{...s,gain:o}),c=l.getChannelData(0);c[0]=1,c[1]=1,a.buffer=l,a.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(d){u.channelCount=d},get channelCountMode(){return u.channelCountMode},set channelCountMode(d){u.channelCountMode=d},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(d){u.channelInterpretation=d},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return a.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return a.onended},set onended(d){a.onended=d},addEventListener(...d){return a.addEventListener(d[0],d[1],d[2])},dispatchEvent(...d){return a.dispatchEvent(d[0])},removeEventListener(...d){return a.removeEventListener(d[0],d[1],d[2])},start(d=0){a.start.call(a,d)},stop(d=0){a.stop.call(a,d)}},f=()=>a.connect(u),p=()=>a.disconnect(u);return t(i,a),r(Zl(h,u),f,p)},e5=(t,e)=>(n,r)=>{const i=n.createConvolver();if(Nn(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),tn(i,r,"buffer"),r.channelCount>2||(e(i,"channelCount",o=>()=>o.call(i),o=>s=>{if(s>2)throw t();return o.call(i,s)}),r.channelCountMode==="max"))throw t();return e(i,"channelCountMode",o=>()=>o.call(i),o=>s=>{if(s==="max")throw t();return o.call(i,s)}),i},ck=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Nn(n,e),mn(n,e,"delayTime"),n},t5=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Nn(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return mn(r,n,"attack"),mn(r,n,"knee"),mn(r,n,"ratio"),mn(r,n,"release"),mn(r,n,"threshold"),r},Cr=(t,e)=>{const n=t.createGain();return Nn(n,e),mn(n,e,"gain"),n},n5=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const i=e.createIIRFilter(r.feedforward,r.feedback);return Nn(i,r),i};function r5(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function i5(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function i_(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=i5(n,e),n[0]+=t[r];return n}const o5=(t,e,n,r)=>(i,o,{channelCount:s,channelCountMode:l,channelInterpretation:a,feedback:u,feedforward:c})=>{const h=ak(o,i.sampleRate),f=u instanceof Float64Array?u:new Float64Array(u),p=c instanceof Float64Array?c:new Float64Array(c),d=f.length,g=p.length,m=Math.min(d,g);if(d===0||d>20)throw r();if(f[0]===0)throw e();if(g===0||g>20)throw r();if(p[0]===0)throw e();if(f[0]!==1){for(let S=0;S<g;S+=1)p[S]/=f[0];for(let S=1;S<d;S+=1)f[S]/=f[0]}const v=n(i,h,s,s);v.channelCount=s,v.channelCountMode=l,v.channelInterpretation=a;const b=32,C=[],x=[],_=[];for(let S=0;S<s;S+=1){C.push(0);const A=new Float32Array(b),M=new Float32Array(b);A.fill(0),M.fill(0),x.push(A),_.push(M)}v.onaudioprocess=S=>{const A=S.inputBuffer,M=S.outputBuffer,R=A.numberOfChannels;for(let k=0;k<R;k+=1){const $=A.getChannelData(k),E=M.getChannelData(k);C[k]=sk(f,d,p,g,m,x[k],_[k],C[k],b,$,E)}};const w=i.sampleRate/2;return Zl({get bufferSize(){return h},get channelCount(){return v.channelCount},set channelCount(S){v.channelCount=S},get channelCountMode(){return v.channelCountMode},set channelCountMode(S){v.channelCountMode=S},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(S){v.channelInterpretation=S},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...S){return v.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return v.dispatchEvent(S[0])},getFrequencyResponse(S,A,M){if(S.length!==A.length||A.length!==M.length)throw t();const R=S.length;for(let k=0;k<R;k+=1){const $=-Math.PI*(S[k]/w),E=[Math.cos($),Math.sin($)],L=i_(p,E),P=i_(f,E),I=r5(L,P);A[k]=Math.sqrt(I[0]*I[0]+I[1]*I[1]),M[k]=Math.atan2(I[1],I[0])}},removeEventListener(...S){return v.removeEventListener(S[0],S[1],S[2])}},v)},s5=(t,e)=>t.createMediaElementSource(e.mediaElement),a5=(t,e)=>{const n=t.createMediaStreamDestination();return Nn(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},l5=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((o,s)=>o.id<s.id?-1:o.id>s.id?1:0);const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i},c5=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const i=new MediaStream([r]),o=n.createMediaStreamSource(i);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return o},u5=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,h5=(t,e,n,r,i,o)=>(s,l)=>{const a=s.createOscillator();return Nn(a,l),mn(a,l,"detune"),mn(a,l,"frequency"),l.periodicWave!==void 0?a.setPeriodicWave(l.periodicWave):tn(a,l,"type"),e(n,()=>n(s))||j0(a),e(r,()=>r(s))||o(a,s),e(i,()=>i(s))||B0(a),t(s,a),a},f5=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Nn(r,n),mn(r,n,"orientationX"),mn(r,n,"orientationY"),mn(r,n,"orientationZ"),mn(r,n,"positionX"),mn(r,n,"positionY"),mn(r,n,"positionZ"),tn(r,n,"coneInnerAngle"),tn(r,n,"coneOuterAngle"),tn(r,n,"coneOuterGain"),tn(r,n,"distanceModel"),tn(r,n,"maxDistance"),tn(r,n,"panningModel"),tn(r,n,"refDistance"),tn(r,n,"rolloffFactor"),r)},d5=(t,e,n,r,i,o,s,l,a,u)=>(c,{coneInnerAngle:h,coneOuterAngle:f,coneOuterGain:p,distanceModel:d,maxDistance:g,orientationX:m,orientationY:v,orientationZ:b,panningModel:C,positionX:x,positionY:_,positionZ:w,refDistance:y,rolloffFactor:S,...A})=>{const M=c.createPanner();if(A.channelCount>2||A.channelCountMode==="max")throw s();Nn(M,A);const R={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},k=n(c,{...R,channelInterpretation:"speakers",numberOfInputs:6}),$=r(c,{...A,gain:1}),E=r(c,{...R,gain:1}),L=r(c,{...R,gain:0}),P=r(c,{...R,gain:0}),I=r(c,{...R,gain:0}),D=r(c,{...R,gain:0}),W=r(c,{...R,gain:0}),z=i(c,256,6,1),G=o(c,{...R,curve:new Float32Array([1,1]),oversample:"none"});let Z=[m,v,b],q=[x,_,w];const X=new Float32Array(1);z.onaudioprocess=({inputBuffer:ie})=>{const ue=[a(ie,X,0),a(ie,X,1),a(ie,X,2)];ue.some((_e,Te)=>_e!==Z[Te])&&(M.setOrientation(...ue),Z=ue);const he=[a(ie,X,3),a(ie,X,4),a(ie,X,5)];he.some((_e,Te)=>_e!==q[Te])&&(M.setPosition(...he),q=he)},Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0});const Y={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(ie){if(ie>2)throw s();$.channelCount=ie,M.channelCount=ie},get channelCountMode(){return M.channelCountMode},set channelCountMode(ie){if(ie==="max")throw s();$.channelCountMode=ie,M.channelCountMode=ie},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(ie){$.channelInterpretation=ie,M.channelInterpretation=ie},get coneInnerAngle(){return M.coneInnerAngle},set coneInnerAngle(ie){M.coneInnerAngle=ie},get coneOuterAngle(){return M.coneOuterAngle},set coneOuterAngle(ie){M.coneOuterAngle=ie},get coneOuterGain(){return M.coneOuterGain},set coneOuterGain(ie){if(ie<0||ie>1)throw e();M.coneOuterGain=ie},get context(){return M.context},get distanceModel(){return M.distanceModel},set distanceModel(ie){M.distanceModel=ie},get inputs(){return[$]},get maxDistance(){return M.maxDistance},set maxDistance(ie){if(ie<0)throw new RangeError;M.maxDistance=ie},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get orientationX(){return E.gain},get orientationY(){return L.gain},get orientationZ(){return P.gain},get panningModel(){return M.panningModel},set panningModel(ie){M.panningModel=ie},get positionX(){return I.gain},get positionY(){return D.gain},get positionZ(){return W.gain},get refDistance(){return M.refDistance},set refDistance(ie){if(ie<0)throw new RangeError;M.refDistance=ie},get rolloffFactor(){return M.rolloffFactor},set rolloffFactor(ie){if(ie<0)throw new RangeError;M.rolloffFactor=ie},addEventListener(...ie){return $.addEventListener(ie[0],ie[1],ie[2])},dispatchEvent(...ie){return $.dispatchEvent(ie[0])},removeEventListener(...ie){return $.removeEventListener(ie[0],ie[1],ie[2])}};h!==Y.coneInnerAngle&&(Y.coneInnerAngle=h),f!==Y.coneOuterAngle&&(Y.coneOuterAngle=f),p!==Y.coneOuterGain&&(Y.coneOuterGain=p),d!==Y.distanceModel&&(Y.distanceModel=d),g!==Y.maxDistance&&(Y.maxDistance=g),m!==Y.orientationX.value&&(Y.orientationX.value=m),v!==Y.orientationY.value&&(Y.orientationY.value=v),b!==Y.orientationZ.value&&(Y.orientationZ.value=b),C!==Y.panningModel&&(Y.panningModel=C),x!==Y.positionX.value&&(Y.positionX.value=x),_!==Y.positionY.value&&(Y.positionY.value=_),w!==Y.positionZ.value&&(Y.positionZ.value=w),y!==Y.refDistance&&(Y.refDistance=y),S!==Y.rolloffFactor&&(Y.rolloffFactor=S),(Z[0]!==1||Z[1]!==0||Z[2]!==0)&&M.setOrientation(...Z),(q[0]!==0||q[1]!==0||q[2]!==0)&&M.setPosition(...q);const ee=()=>{$.connect(M),t($,G,0,0),G.connect(E).connect(k,0,0),G.connect(L).connect(k,0,1),G.connect(P).connect(k,0,2),G.connect(I).connect(k,0,3),G.connect(D).connect(k,0,4),G.connect(W).connect(k,0,5),k.connect(z).connect(c.destination)},re=()=>{$.disconnect(M),l($,G,0,0),G.disconnect(E),E.disconnect(k),G.disconnect(L),L.disconnect(k),G.disconnect(P),P.disconnect(k),G.disconnect(I),I.disconnect(k),G.disconnect(D),D.disconnect(k),G.disconnect(W),W.disconnect(k),k.disconnect(z),z.disconnect(c.destination)};return u(Zl(Y,M),ee,re)},p5=t=>(e,{disableNormalization:n,imag:r,real:i})=>{const o=r instanceof Float32Array?r:new Float32Array(r),s=i instanceof Float32Array?i:new Float32Array(i),l=e.createPeriodicWave(s,o,{disableNormalization:n});if(Array.from(r).length<2)throw t();return l},Yu=(t,e,n,r)=>t.createScriptProcessor(e,n,r),g5=(t,e)=>(n,r)=>{const i=r.channelCountMode;if(i==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const o=n.createStereoPanner();return Nn(o,r),mn(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>i,set:s=>{if(s!==i)throw e()}}),o},m5=(t,e,n,r,i,o)=>{const l=new Float32Array([1,1]),a=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(d,g,m,v)=>{const b=new Float32Array(16385),C=new Float32Array(16385);for(let A=0;A<16385;A+=1){const M=A/16384*a;b[A]=Math.cos(M),C[A]=Math.sin(M)}const x=n(d,{...u,gain:0}),_=r(d,{...c,curve:b}),w=r(d,{...c,curve:l}),y=n(d,{...u,gain:0}),S=r(d,{...c,curve:C});return{connectGraph(){g.connect(x),g.connect(w.inputs===void 0?w:w.inputs[0]),g.connect(y),w.connect(m),m.connect(_.inputs===void 0?_:_.inputs[0]),m.connect(S.inputs===void 0?S:S.inputs[0]),_.connect(x.gain),S.connect(y.gain),x.connect(v,0,0),y.connect(v,0,1)},disconnectGraph(){g.disconnect(x),g.disconnect(w.inputs===void 0?w:w.inputs[0]),g.disconnect(y),w.disconnect(m),m.disconnect(_.inputs===void 0?_:_.inputs[0]),m.disconnect(S.inputs===void 0?S:S.inputs[0]),_.disconnect(x.gain),S.disconnect(y.gain),x.disconnect(v,0,0),y.disconnect(v,0,1)}}},f=(d,g,m,v)=>{const b=new Float32Array(16385),C=new Float32Array(16385),x=new Float32Array(16385),_=new Float32Array(16385),w=Math.floor(16385/2);for(let I=0;I<16385;I+=1)if(I>w){const D=(I-w)/(16384-w)*a;b[I]=Math.cos(D),C[I]=Math.sin(D),x[I]=0,_[I]=1}else{const D=I/(16384-w)*a;b[I]=1,C[I]=0,x[I]=Math.cos(D),_[I]=Math.sin(D)}const y=e(d,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),S=n(d,{...u,gain:0}),A=r(d,{...c,curve:b}),M=n(d,{...u,gain:0}),R=r(d,{...c,curve:C}),k=r(d,{...c,curve:l}),$=n(d,{...u,gain:0}),E=r(d,{...c,curve:x}),L=n(d,{...u,gain:0}),P=r(d,{...c,curve:_});return{connectGraph(){g.connect(y),g.connect(k.inputs===void 0?k:k.inputs[0]),y.connect(S,0),y.connect(M,0),y.connect($,1),y.connect(L,1),k.connect(m),m.connect(A.inputs===void 0?A:A.inputs[0]),m.connect(R.inputs===void 0?R:R.inputs[0]),m.connect(E.inputs===void 0?E:E.inputs[0]),m.connect(P.inputs===void 0?P:P.inputs[0]),A.connect(S.gain),R.connect(M.gain),E.connect($.gain),P.connect(L.gain),S.connect(v,0,0),$.connect(v,0,0),M.connect(v,0,1),L.connect(v,0,1)},disconnectGraph(){g.disconnect(y),g.disconnect(k.inputs===void 0?k:k.inputs[0]),y.disconnect(S,0),y.disconnect(M,0),y.disconnect($,1),y.disconnect(L,1),k.disconnect(m),m.disconnect(A.inputs===void 0?A:A.inputs[0]),m.disconnect(R.inputs===void 0?R:R.inputs[0]),m.disconnect(E.inputs===void 0?E:E.inputs[0]),m.disconnect(P.inputs===void 0?P:P.inputs[0]),A.disconnect(S.gain),R.disconnect(M.gain),E.disconnect($.gain),P.disconnect(L.gain),S.disconnect(v,0,0),$.disconnect(v,0,0),M.disconnect(v,0,1),L.disconnect(v,0,1)}}},p=(d,g,m,v,b)=>{if(g===1)return h(d,m,v,b);if(g===2)return f(d,m,v,b);throw i()};return(d,{channelCount:g,channelCountMode:m,pan:v,...b})=>{if(m==="max")throw i();const C=t(d,{...b,channelCount:1,channelCountMode:m,numberOfInputs:2}),x=n(d,{...b,channelCount:g,channelCountMode:m,gain:1}),_=n(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v});let{connectGraph:w,disconnectGraph:y}=p(d,g,x,_,C);Object.defineProperty(_.gain,"defaultValue",{get:()=>0}),Object.defineProperty(_.gain,"maxValue",{get:()=>1}),Object.defineProperty(_.gain,"minValue",{get:()=>-1});const S={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(k){x.channelCount!==k&&(A&&y(),{connectGraph:w,disconnectGraph:y}=p(d,k,x,_,C),A&&w()),x.channelCount=k},get channelCountMode(){return x.channelCountMode},set channelCountMode(k){if(k==="clamped-max"||k==="max")throw i();x.channelCountMode=k},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(k){x.channelInterpretation=k},get context(){return x.context},get inputs(){return[x]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get pan(){return _.gain},addEventListener(...k){return x.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return x.dispatchEvent(k[0])},removeEventListener(...k){return x.removeEventListener(k[0],k[1],k[2])}};let A=!1;const M=()=>{w(),A=!0},R=()=>{y(),A=!1};return o(Zl(S,C),M,R)}},v5=(t,e,n,r,i,o,s)=>(l,a)=>{const u=l.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&l.createGain().gain.automationRate===void 0)return n(l,a);Nn(u,a);const c=a.curve===null||a.curve instanceof Float32Array?a.curve:new Float32Array(a.curve);if(c!==null&&c.length<2)throw e();tn(u,{curve:c},"curve"),tn(u,a,"oversample");let h=null,f=!1;return s(u,"curve",g=>()=>g.call(u),g=>m=>(g.call(u,m),f&&(r(m)&&h===null?h=t(l,u):!r(m)&&h!==null&&(h(),h=null)),m)),i(u,()=>{f=!0,r(u.curve)&&(h=t(l,u))},()=>{f=!1,h!==null&&(h(),h=null)})},y5=(t,e,n,r,i)=>(o,{curve:s,oversample:l,...a})=>{const u=o.createWaveShaper(),c=o.createWaveShaper();Nn(u,a),Nn(c,a);const h=n(o,{...a,gain:1}),f=n(o,{...a,gain:-1}),p=n(o,{...a,gain:1}),d=n(o,{...a,gain:-1});let g=null,m=!1,v=null;const b={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(_){h.channelCount=_,f.channelCount=_,u.channelCount=_,p.channelCount=_,c.channelCount=_,d.channelCount=_},get channelCountMode(){return u.channelCountMode},set channelCountMode(_){h.channelCountMode=_,f.channelCountMode=_,u.channelCountMode=_,p.channelCountMode=_,c.channelCountMode=_,d.channelCountMode=_},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(_){h.channelInterpretation=_,f.channelInterpretation=_,u.channelInterpretation=_,p.channelInterpretation=_,c.channelInterpretation=_,d.channelInterpretation=_},get context(){return u.context},get curve(){return v},set curve(_){if(_!==null&&_.length<2)throw e();if(_===null)u.curve=_,c.curve=_;else{const w=_.length,y=new Float32Array(w+2-w%2),S=new Float32Array(w+2-w%2);y[0]=_[0],S[0]=-_[w-1];const A=Math.ceil((w+1)/2),M=(w+1)/2-1;for(let R=1;R<A;R+=1){const k=R/A*M,$=Math.floor(k),E=Math.ceil(k);y[R]=$===E?_[$]:(1-(k-$))*_[$]+(1-(E-k))*_[E],S[R]=$===E?-_[w-1-$]:-((1-(k-$))*_[w-1-$])-(1-(E-k))*_[w-1-E]}y[A]=w%2===1?_[A-1]:(_[A-2]+_[A-1])/2,u.curve=y,c.curve=S}v=_,m&&(r(v)&&g===null?g=t(o,h):g!==null&&(g(),g=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(_){u.oversample=_,c.oversample=_},addEventListener(..._){return h.addEventListener(_[0],_[1],_[2])},dispatchEvent(..._){return h.dispatchEvent(_[0])},removeEventListener(..._){return h.removeEventListener(_[0],_[1],_[2])}};s!==null&&(b.curve=s instanceof Float32Array?s:new Float32Array(s)),l!==b.oversample&&(b.oversample=l);const C=()=>{h.connect(u).connect(p),h.connect(f).connect(c).connect(d).connect(p),m=!0,r(v)&&(g=t(o,h))},x=()=>{h.disconnect(u),u.disconnect(p),h.disconnect(f),f.disconnect(c),c.disconnect(d),d.disconnect(p),m=!1,g!==null&&(g(),g=null)};return i(Zl(b,p),C,x)},pr=()=>new DOMException("","NotSupportedError"),w5={numberOfChannels:1},b5=(t,e,n,r,i)=>class extends t{constructor(s,l,a){let u;if(typeof s=="number"&&l!==void 0&&a!==void 0)u={length:l,numberOfChannels:s,sampleRate:a};else if(typeof s=="object")u=s;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:f}={...w5,...u},p=r(h,c,f);e(Eu,()=>Eu(p))||p.addEventListener("statechange",(()=>{let d=0;const g=m=>{this._state==="running"&&(d>0?(p.removeEventListener("statechange",g),m.stopImmediatePropagation(),this._waitForThePromiseToSettle(m)):d+=1)};return g})()),super(p,h),this._length=c,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ek(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}},_5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},S5=(t,e,n,r,i,o,s)=>class extends t{constructor(a,u){const c=i(a),h={..._5,...u},f=n(c,h),p=o(c),d=p?r():null,g=a.sampleRate/2;super(a,!1,f,d),this._detune=e(this,p,f.detune,153600,-153600),this._frequency=e(this,p,f.frequency,g,-g),this._nativeOscillatorNode=f,this._onended=null,this._oscillatorNodeRenderer=d,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(a){const u=typeof a=="function"?s(this,a):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?a:c}get type(){return this._nativeOscillatorNode.type}set type(a){this._nativeOscillatorNode.type=a,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(a){this._nativeOscillatorNode.setPeriodicWave(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=a)}start(a=0){if(this._nativeOscillatorNode.start(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=a),this.context.state!=="closed"){Nl(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),_o(this)&&Uu(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(a=0){this._nativeOscillatorNode.stop(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=a)}},x5=(t,e,n,r,i)=>()=>{const o=new WeakMap;let s=null,l=null,a=null;const u=async(c,h)=>{let f=n(c);const p=rr(f,h);if(!p){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:s===null?void 0:s,type:f.type};f=e(h,d),l!==null&&f.start(l),a!==null&&f.stop(a)}return o.set(h,f),p?(await t(h,c.detune,f.detune),await t(h,c.frequency,f.frequency)):(await r(h,c.detune,f.detune),await r(h,c.frequency,f.frequency)),await i(c,h,f),f};return{set periodicWave(c){s=c},set start(c){l=c},set stop(c){a=c},render(c,h){const f=o.get(h);return f!==void 0?Promise.resolve(f):u(c,h)}}},C5={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},T5=(t,e,n,r,i,o,s)=>class extends t{constructor(a,u){const c=i(a),h={...C5,...u},f=n(c,h),p=o(c),d=p?r():null;super(a,!1,f,d),this._nativePannerNode=f,this._orientationX=e(this,p,f.orientationX,cr,yr),this._orientationY=e(this,p,f.orientationY,cr,yr),this._orientationZ=e(this,p,f.orientationZ,cr,yr),this._positionX=e(this,p,f.positionX,cr,yr),this._positionY=e(this,p,f.positionY,cr,yr),this._positionZ=e(this,p,f.positionZ,cr,yr),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(a){this._nativePannerNode.coneInnerAngle=a}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(a){this._nativePannerNode.coneOuterAngle=a}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(a){this._nativePannerNode.coneOuterGain=a}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(a){this._nativePannerNode.distanceModel=a}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(a){this._nativePannerNode.maxDistance=a}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(a){this._nativePannerNode.panningModel=a}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(a){this._nativePannerNode.refDistance=a}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(a){this._nativePannerNode.rolloffFactor=a}},k5=(t,e,n,r,i,o,s,l,a,u)=>()=>{const c=new WeakMap;let h=null;const f=async(p,d)=>{let g=null,m=o(p);const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},b={...v,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},C=rr(m,d);if("bufferSize"in m)g=r(d,{...v,gain:1});else if(!C){const x={...b,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=i(d,x)}if(c.set(d,g===null?m:g),g!==null){if(h===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const R=new s(6,p.context.length,d.sampleRate),k=e(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});k.connect(R.destination),h=(async()=>{const $=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(E,L)=>{const P=n(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:L===0?1:0});return await l(R,E,P.offset),P}));for(let E=0;E<6;E+=1)$[E].connect(k,0,E),$[E].start(0);return u(R)})()}const x=await h,_=r(d,{...v,gain:1});await a(p,d,_);const w=[];for(let R=0;R<x.numberOfChannels;R+=1)w.push(x.getChannelData(R));let y=[w[0][0],w[1][0],w[2][0]],S=[w[3][0],w[4][0],w[5][0]],A=r(d,{...v,gain:1}),M=i(d,{...b,orientationX:y[0],orientationY:y[1],orientationZ:y[2],positionX:S[0],positionY:S[1],positionZ:S[2]});_.connect(A).connect(M.inputs[0]),M.connect(g);for(let R=128;R<x.length;R+=128){const k=[w[0][R],w[1][R],w[2][R]],$=[w[3][R],w[4][R],w[5][R]];if(k.some((E,L)=>E!==y[L])||$.some((E,L)=>E!==S[L])){y=k,S=$;const E=R/d.sampleRate;A.gain.setValueAtTime(0,E),A=r(d,{...v,gain:0}),M=i(d,{...b,orientationX:y[0],orientationY:y[1],orientationZ:y[2],positionX:S[0],positionY:S[1],positionZ:S[2]}),A.gain.setValueAtTime(1,E),_.connect(A).connect(M.inputs[0]),M.connect(g)}}return g}return C?(await t(d,p.orientationX,m.orientationX),await t(d,p.orientationY,m.orientationY),await t(d,p.orientationZ,m.orientationZ),await t(d,p.positionX,m.positionX),await t(d,p.positionY,m.positionY),await t(d,p.positionZ,m.positionZ)):(await l(d,p.orientationX,m.orientationX),await l(d,p.orientationY,m.orientationY),await l(d,p.orientationZ,m.orientationZ),await l(d,p.positionX,m.positionX),await l(d,p.positionY,m.positionY),await l(d,p.positionZ,m.positionZ)),Xl(m)?await a(p,d,m.inputs[0]):await a(p,d,m),m};return{render(p,d){const g=c.get(d);return g!==void 0?Promise.resolve(g):f(p,d)}}},A5={disableNormalization:!1},M5=(t,e,n,r)=>class uk{constructor(o,s){const l=e(o),a=r({...A5,...s}),u=t(l,a);return n.add(u),u}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===uk.prototype||n.has(o)}},E5=(t,e)=>(n,r,i)=>(t(r).replay(i),e(r,n,i)),$5=(t,e,n)=>async(r,i,o)=>{const s=t(r);await Promise.all(s.activeInputs.map((l,a)=>Array.from(l).map(async([u,c])=>{const f=await e(u).render(u,i),p=r.context.destination;!n(u)&&(r!==p||!n(r))&&f.connect(o,c,a)})).reduce((l,a)=>[...l,...a],[]))},R5=(t,e,n)=>async(r,i,o)=>{const s=e(r);await Promise.all(Array.from(s.activeInputs).map(async([l,a])=>{const c=await t(l).render(l,i);n(l)||c.connect(o,a)}))},L5=(t,e,n,r)=>i=>t(Eu,()=>Eu(i))?Promise.resolve(t(r,r)).then(o=>{if(!o){const s=n(i,512,0,1);i.oncomplete=()=>{s.onaudioprocess=null,s.disconnect()},s.onaudioprocess=()=>i.currentTime,s.connect(i.destination)}return i.startRendering()}):new Promise(o=>{const s=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=l=>{s.disconnect(),o(l.renderedBuffer)},s.connect(i.destination),i.startRendering()}),N5=t=>(e,n)=>{t.set(e,n)},P5=t=>(e,n)=>t.set(e,n),O5=(t,e,n,r,i,o,s,l)=>(a,u)=>n(a).render(a,u).then(()=>Promise.all(Array.from(r(u)).map(c=>n(c).render(c,u)))).then(()=>i(u)).then(c=>(typeof c.copyFromChannel!="function"?(s(c),D0(c)):e(o,()=>o(c))||l(c),t.add(c),c)),I5={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},D5=(t,e,n,r,i,o)=>class extends t{constructor(l,a){const u=i(l),c={...I5,...a},h=n(u,c),f=o(u),p=f?r():null;super(l,!1,h,p),this._pan=e(this,f,h.pan)}get pan(){return this._pan}},F5=(t,e,n,r,i)=>()=>{const o=new WeakMap,s=async(l,a)=>{let u=n(l);const c=rr(u,a);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(a,h)}return o.set(a,u),c?await t(a,l.pan,u.pan):await r(a,l.pan,u.pan),Xl(u)?await i(l,a,u.inputs[0]):await i(l,a,u),u};return{render(l,a){const u=o.get(a);return u!==void 0?Promise.resolve(u):s(l,a)}}},W5=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},j5=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let o=!1,s=!1;try{await r.audioWorklet.addModule(i);const l=new t(r,"a",{numberOfOutputs:0}),a=r.createOscillator();l.port.onmessage=()=>o=!0,l.onprocessorerror=()=>s=!0,a.connect(l),a.start(0),await r.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(i)}return o&&!s},B5=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{n.oncomplete=()=>{r.disconnect(),i(n.currentTime!==0)},n.startRendering()})},z5=()=>new DOMException("","UnknownError"),H5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},V5=(t,e,n,r,i,o,s)=>class extends t{constructor(a,u){const c=i(a),h={...H5,...u},f=n(c,h),d=o(c)?r():null;super(a,!0,f,d),this._isCurveNullified=!1,this._nativeWaveShaperNode=f,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(a){if(a===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(a.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=a}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(a){this._nativeWaveShaperNode.oversample=a}},U5=(t,e,n)=>()=>{const r=new WeakMap,i=async(o,s)=>{let l=e(o);if(!rr(l,s)){const u={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,curve:l.curve,oversample:l.oversample};l=t(s,u)}return r.set(s,l),Xl(l)?await n(o,s,l.inputs[0]):await n(o,s,l),l};return{render(o,s){const l=r.get(s);return l!==void 0?Promise.resolve(l):i(o,s)}}},G5=()=>typeof window>"u"?null:window,q5=(t,e)=>n=>{n.copyFromChannel=(r,i,o=0)=>{const s=t(o),l=t(i);if(l>=n.numberOfChannels)throw e();const a=n.length,u=n.getChannelData(l),c=r.length;for(let h=s<0?-s:0;h+s<a&&h<c;h+=1)r[h]=u[h+s]},n.copyToChannel=(r,i,o=0)=>{const s=t(o),l=t(i);if(l>=n.numberOfChannels)throw e();const a=n.length,u=n.getChannelData(l),c=r.length;for(let h=s<0?-s:0;h+s<a&&h<c;h+=1)u[h+s]=r[h]}},K5=t=>e=>{e.copyFromChannel=(n=>(r,i,o=0)=>{const s=t(o),l=t(i);if(s<e.length)return n.call(e,r,l,s)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,o=0)=>{const s=t(o),l=t(i);if(s<e.length)return n.call(e,r,l,s)})(e.copyToChannel)},Y5=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",i=>()=>{const o=i.call(e);return o===r?null:o},i=>o=>i.call(e,o===null?r:o))},Q5=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(r,()=>{const l=r.numberOfInputs;for(let a=0;a<l;a+=1)i.connect(r,0,a)},()=>i.disconnect(r))},hk=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),fk=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Qu=(t,e,n,r)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:o,set:s}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(o),set:r(s)})},X5=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Z5=t=>({...t,channelCount:t.numberOfOutputs}),J5=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},dk=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;dk(t,e,n+1e-7)}},eW=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},tW=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},nW=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},z0=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},pk=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},H0=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},rW=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},iW=t=>{t.start=(e=>(n=0,r=0,i)=>{const o=t.buffer,s=o===null?r:Math.min(o.duration,r);o!==null&&s>o.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,s,i)})(t.start)},gk=(t,e)=>{const n=e.createGain();t.connect(n);const r=(i=>()=>{i.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Zl(t,n),t.stop=(i=>{let o=!1;return(s=0)=>{if(o)try{i.call(t,s)}catch{n.gain.setValueAtTime(0,s)}else i.call(t,s),o=!0}})(t.stop)},Jl=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},oW=TF(Ca),sW=RF(Ca),aW=H3(bp),mk=new WeakMap,lW=a4(mk),Ei=w3(new Map,new WeakMap),eo=G5(),vk=D4(Ei,no),V0=s4(ur),Vn=$5(ur,V0,va),cW=IF(vk,Zt,Vn),Kt=u4(wp),Po=u5(eo),Wt=A4(Po),yk=new WeakMap,wk=J3(Jl),Xu=B4(eo),U0=x4(Xu),G0=C4(eo),bk=T4(eo),$u=H4(eo),xn=a3(kF(qT),$F(oW,sW,Sd,aW,xd,ur,lW,Vu,Zt,Ca,_o,va,Lf),Ei,y4(Hv,xd,ur,Zt,Mu,_o),no,_p,pr,W3(Sd,Hv,ur,Zt,Mu,Kt,_o,Wt),G3(yk,ur,ki),wk,Kt,U0,G0,bk,Wt,$u),uW=OF(xn,cW,no,vk,Kt,Wt),q0=new WeakSet,o_=F4(eo),_k=L3(new Uint32Array(1)),K0=q5(_k,no),Y0=K5(_k),Sk=FF(q0,Ei,pr,o_,Po,W5(o_),K0,Y0),Sp=LF(Cr),xk=R5(V0,Gu,va),ro=k3(xk),ec=j4(Sp,Ei,eW,tW,nW,z0,pk,H0,iW,Y5(Qu),gk),io=E5(l4(Gu),xk),hW=BF(ro,ec,Zt,io,Vn),$i=l3(AF(KT),yk,I0,c3,wF,bF,_F,SF,xF,jv,UT,Xu,dk),fW=jF(xn,hW,$i,Dn,ec,Kt,Wt,Jl),dW=QF(xn,XF,no,Dn,z4(Cr,Qu),Kt,Wt,Vn),pW=y3(ro,lk,Zt,io,Vn),Ta=P5(mk),gW=v3(xn,$i,pW,_p,lk,Kt,Wt,Ta),Rs=O4(Ca,G0),mW=Q5(Dn,Rs),Ls=Q4(Xu,mW),vW=S3(Ls,Zt,Vn),yW=_3(xn,vW,Ls,Kt,Wt),wW=T3(Ku,Zt,Vn),bW=C3(xn,wW,Ku,Kt,Wt,Z5),_W=J4(Sp,ec,Cr,Rs),tc=Z4(Sp,Ei,_W,z0,H0),SW=R3(ro,tc,Zt,io,Vn),xW=$3(xn,$i,SW,tc,Kt,Wt,Jl),Ck=e5(pr,Qu),CW=O3(Ck,Zt,Vn),TW=P3(xn,CW,Ck,Kt,Wt,Ta),kW=z3(ro,ck,Zt,io,Vn),AW=B3(xn,$i,kW,ck,Kt,Wt,Ta),Tk=t5(pr),MW=Q3(ro,Tk,Zt,io,Vn),EW=Y3(xn,$i,MW,Tk,pr,Kt,Wt,Ta),$W=i4(ro,Cr,Zt,io,Vn),RW=r4(xn,$i,$W,Cr,Kt,Wt),LW=o5(_p,Dn,Yu,pr),xp=L5(Ei,Cr,Yu,B5(Cr,Po)),NW=v4(ec,Zt,Po,Vn,xp),PW=n5(LW),OW=g4(xn,PW,NW,Kt,Wt,Ta),IW=ZF($i,Ls,tc,Yu,pr,hk,Wt,Qu),kk=new WeakMap,DW=P4(dW,IW,wk,Wt,kk,Jl),Ak=h5(Sp,Ei,z0,pk,H0,gk),FW=x5(ro,Ak,Zt,io,Vn),WW=S5(xn,$i,Ak,FW,Kt,Wt,Jl),Mk=M3(ec),jW=y5(Mk,Dn,Cr,fk,Rs),Cp=v5(Mk,Dn,jW,fk,Rs,Xu,Qu),BW=d5(Sd,Dn,Ls,Cr,Yu,Cp,pr,xd,hk,Rs),Ek=f5(BW),zW=k5(ro,Ls,tc,Cr,Ek,Zt,Po,io,Vn,xp),HW=T5(xn,$i,Ek,zW,Kt,Wt,Ta),VW=p5(no),UW=M5(VW,Kt,new WeakSet,J5),GW=m5(Ls,Ku,Cr,Cp,pr,Rs),$k=g5(GW,pr),qW=F5(ro,$k,Zt,io,Vn),KW=D5(xn,$i,$k,qW,Kt,Wt),YW=U5(Cp,Zt,Vn),QW=V5(xn,Dn,Cp,YW,Kt,Wt,Ta),Rk=M4(eo),Q0=e4(eo),Lk=new WeakMap,XW=h4(Lk,Po),ZW=Rk?EF(Ei,pr,Z3(eo),Q0,t4(CF),Kt,XW,Wt,$u,new WeakMap,new WeakMap,j5($u,Po),eo):void 0,JW=k4(U0,Wt),ej=F3(q0,Ei,D3,X3,new WeakSet,Kt,JW,bd,Eu,K0,Y0),Nk=g3(ZW,uW,Sk,fW,gW,yW,bW,xW,TW,ej,AW,EW,RW,OW,DW,WW,HW,UW,KW,QW),tj=E4(xn,s5,Kt,Wt),nj=R4(xn,a5,Kt,Wt),rj=L4(xn,l5,Kt,Wt),ij=c5(Dn,Wt),oj=N4(xn,ij,Kt),sj=YF(Nk,Dn,pr,z5,tj,nj,rj,oj,Xu),X0=f4(kk),aj=NF(X0),Pk=A3(no),lj=V3(X0),Ok=q3(no),Ik=new WeakMap,cj=o4(Ik,ki),uj=Y4(Pk,no,Dn,Ls,Ku,tc,Cr,Yu,pr,Ok,Q0,cj,Rs),hj=U4(Dn,uj,Cr,pr,Rs),fj=p3(ro,Pk,ec,Ls,Ku,tc,Cr,lj,Ok,Q0,Zt,$u,Po,io,Vn,xp),dj=c4(Lk),pj=N5(Ik),s_=Rk?h3(aj,xn,$i,fj,hj,ur,dj,Kt,Wt,$u,X5,pj,rW,Jl):void 0,gj=I3(pr,Po),mj=O5(q0,Ei,V0,X0,xp,bd,K0,Y0),vj=b5(Nk,Ei,Dn,gj,mj),yj=w4(wp,U0),wj=b4(O0,G0),bj=_4(I0,bk),_j=S4(wp,Wt);function ti(t){return t===void 0}function bt(t){return t!==void 0}function Sj(t){return typeof t=="function"}function Eo(t){return typeof t=="number"}function aa(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function xj(t){return typeof t=="boolean"}function Dr(t){return Array.isArray(t)}function $o(t){return typeof t=="string"}function cf(t){return $o(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Xe(t,e){if(!t)throw new Error(e)}function Ro(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Dk(t){!t.isOffline&&t.state!=="running"&&Tp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Fk=!1,a_=!1;function l_(t){Fk=t}function Cj(t){ti(t)&&Fk&&!a_&&(a_=!0,Tp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Wk=console;function Tj(...t){Wk.log(...t)}function Tp(...t){Wk.warn(...t)}function kj(t){return new sj(t)}function Aj(t,e,n){return new vj(t,e,n)}const Rr=typeof self=="object"?self:null,Mj=Rr&&(Rr.hasOwnProperty("AudioContext")||Rr.hasOwnProperty("webkitAudioContext"));function Ej(t,e,n){return Xe(bt(s_),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(Rr==null?void 0:Rr.BaseAudioContext)?Rr==null?void 0:Rr.AudioWorkletNode:s_)(t,e,n)}class $j{constructor(e,n,r,i){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(i||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function ya(t){return bj(t)}function ps(t){return wj(t)}function Nf(t){return _j(t)}function qa(t){return yj(t)}function Rj(t){return t instanceof Sk}function Lj(t,e){return t==="value"||ya(e)||ps(e)||Rj(e)}function la(t,...e){if(!e.length)return t;const n=e.shift();if(aa(t)&&aa(n))for(const r in n)Lj(r,n[r])?t[r]=n[r]:aa(n[r])?(t[r]||Object.assign(t,{[r]:{}}),la(t[r],n[r])):Object.assign(t,{[r]:n[r]});return la(t,...e)}function Nj(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function Je(t,e,n=[],r){const i={},o=Array.from(e);if(aa(o[0])&&r&&!Reflect.has(o[0],r)&&(Object.keys(o[0]).some(l=>Reflect.has(t,l))||(la(i,{[r]:o[0]}),n.splice(n.indexOf(r),1),o.shift())),o.length===1&&aa(o[0]))la(i,o[0]);else for(let s=0;s<n.length;s++)bt(o[s])&&(i[n[s]]=o[s]);return la(t,i)}function Pj(t){return t.constructor.getDefaults()}function _l(t,e){return ti(t)?e:t}function Js(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Oo{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Rr&&this.toString()===Rr.TONE_DEBUG_CLASS)&&Tj(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Oo.version=VT;const Z0=1e-6;function Pl(t,e){return t>e+Z0}function Kv(t,e){return Pl(t,e)||gi(t,e)}function Ad(t,e){return t+Z0<e}function gi(t,e){return Math.abs(t-e)<Z0}function Oj(t,e,n){return Math.max(Math.min(t,n),e)}class ni extends Oo{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Je(ni.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Xe(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];Xe(Kv(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(gi(this._timeline[n].time,e)){for(let r=n;r>=0&&gi(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Kv(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const i=this._timeline.length;let o=i;if(i>0&&this._timeline[i-1][n]<=e)return i-1;for(;r<o;){let s=Math.floor(r+(o-r)/2);const l=this._timeline[s],a=this._timeline[s+1];if(gi(l[n],e)){for(let u=s;u<this._timeline.length;u++){const c=this._timeline[u];if(gi(c[n],e))s=u;else break}return s}else{if(Ad(l[n],e)&&Pl(a[n],e))return s;Pl(l[n],e)?o=s:r=s+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let i=this._search(e),o=this._search(n);return i!==-1&&o!==-1?(this._timeline[i].time!==e&&(i+=1),this._timeline[o].time===n&&(o-=1),this._iterate(r,i,o)):i===-1&&this._iterate(r,0,o),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&gi(this._timeline[r].time,e)){let i=r;for(let o=r;o>=0&&gi(this._timeline[o].time,e);o--)i=o;this._iterate(o=>{n(o)},i,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const jk=[];function kp(t){jk.push(t)}function Ij(t){jk.forEach(e=>e(t))}const Bk=[];function Ap(t){Bk.push(t)}function Dj(t){Bk.forEach(e=>e(t))}class Zu extends Oo{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(i=>{ti(this._events)&&(this._events={}),this._events.hasOwnProperty(i)||(this._events[i]=[]),this._events[i].push(n)}),this}once(e,n){const r=(...i)=>{n(...i),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(i=>{if(ti(this._events)&&(this._events={}),this._events.hasOwnProperty(i))if(ti(n))this._events[i]=[];else{const o=this._events[i];for(let s=o.length-1;s>=0;s--)o[s]===n&&o.splice(s,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let i=0,o=r.length;i<o;i++)r[i].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Zu.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class zk extends Zu{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ju extends zk{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new ni,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Je(Ju.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=kj({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new $j(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Ij(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Xe(qa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Xe(qa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Xe(qa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Xe(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Xe(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Xe(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Xe(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Ej(this.rawContext,e,n)}addAudioWorkletModule(e){return Sn(this,void 0,void 0,function*(){Xe(bt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Sn(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return qa(this._context)?this._context.resume():Promise.resolve()}close(){return Sn(this,void 0,void 0,function*(){qa(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&Dj(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let o=0;o<r.length;o++)r[o]=e;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=n,i.loop=!0,i.start(0),this._constants.set(e,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,i=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),i()},id:r,time:o+n})};return i(),r}}class Fj extends zk{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Sn(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function on(t,e){Dr(e)?e.forEach(n=>on(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function J0(t,e){Dr(e)?e.forEach(n=>J0(t,n)):Object.defineProperty(t,e,{writable:!0})}const Ft=()=>{};class Dt extends Oo{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ft;const e=Je(Dt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,$o(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Ft,onload:Ft,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:tr().sampleRate}set(e){return e instanceof Dt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Sn(this,void 0,void 0,function*(){const n=Dt.load(e).then(r=>{this.set(r),this.onload(this)});Dt.downloads.push(n);try{yield n}finally{const r=Dt.downloads.indexOf(n);Dt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Dr(e)&&e[0].length>0,r=n?e.length:1,i=n?e[0].length:e.length,o=tr(),s=o.createBuffer(r,i,o.sampleRate),l=!n&&r===1?[e]:e;for(let a=0;a<r;a++)s.copyToChannel(l[a],a);return this._buffer=s,this}toMono(e){if(Eo(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let i=0;i<r;i++){const o=this.toArray(i);for(let s=0;s<o.length;s++)n[s]+=o[s]}n=n.map(i=>i/r),this.fromArray(n)}return this}toArray(e){if(Eo(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){Xe(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),i=Math.floor(n*this.sampleRate);Xe(r<i,"The start time must be less than the end time");const o=i-r,s=tr().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let l=0;l<this.numberOfChannels;l++)s.copyToChannel(this.getChannelData(l).subarray(r,i),l);return new Dt(s)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Dt().fromArray(e)}static fromUrl(e){return Sn(this,void 0,void 0,function*(){return yield new Dt().load(e)})}static load(e){return Sn(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const a=n[1].split("|");let u=a[0];for(const c of a)if(Dt.supportsType(c)){u=c;break}e=e.replace(n[0],u)}const r=Dt.baseUrl===""||Dt.baseUrl.endsWith("/")?Dt.baseUrl:Dt.baseUrl+"/",i=document.createElement("a");i.href=r+e,i.pathname=(i.pathname+i.hash).split("/").map(encodeURIComponent).join("/");const o=yield fetch(i.href);if(!o.ok)throw new Error(`could not load url: ${e}`);const s=yield o.arrayBuffer();return yield tr().decodeAudioData(s)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Sn(this,void 0,void 0,function*(){for(yield Promise.resolve();Dt.downloads.length;)yield Dt.downloads[0]})}}Dt.baseUrl="";Dt.downloads=[];class Mp extends Ju{constructor(){super({clockSource:"offline",context:Nf(arguments[0])?arguments[0]:Aj(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Nf(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Nf(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Sn(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(i=>setTimeout(i,1)))}})}render(){return Sn(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new Dt(n)})}close(){return Promise.resolve()}}const Hk=new Fj;let ea=Hk;function tr(){return ea===Hk&&Mj&&Yv(new Ju),ea}function Yv(t,e=!1){e&&ea.dispose(),qa(t)?ea=new Ju(t):Nf(t)?ea=new Mp(t):ea=t}function Sl(){return ea.resume()}if(Rr&&!Rr.TONE_SILENCE_LOGGING){const e=` * Tone.js v${VT} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Wj(t){return Math.pow(10,t/20)}function jj(t){return 20*(Math.log(t)/Math.LN10)}function Vk(t){return Math.pow(2,t/12)}let Ep=440;function Bj(){return Ep}function zj(t){Ep=t}function ta(t){return Math.round(Uk(t))}function Uk(t){return 69+12*Math.log2(t/Ep)}function Gk(t){return Ep*Math.pow(2,(t-69)/12)}class ew extends Oo{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),i=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/r)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let i=0;return e&&e!=="0"&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(i+=this._beatsToUnits(parseFloat(r)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ew&&this.fromType(this._val),ti(this._val))return this._noArg();if($o(this._val)&&ti(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(aa(this._val)){let e=0;for(const n in this._val)if(bt(this._val[n])){const r=this._val[n],i=new this.constructor(this.context,n).valueOf()*r;e+=i}return e}if(bt(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return $o(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class yi extends ew{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new yi(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),i=this.valueOf(),l=Math.round(i/r)*r-i;return i+l*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let o=1;o<9;o++){const s=Math.pow(2,o);n.push(s+"n."),n.push(s+"n"),n.push(s+"t")}n.push("0");let r=n[0],i=new yi(this.context,n[0]).toSeconds();return n.forEach(o=>{const s=new yi(this.context,o).toSeconds();Math.abs(s-e)<Math.abs(i-e)&&(r=o,i=s)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let i=n%1*4;n=Math.floor(n)%this._getTimeSignature();const o=i.toString();return o.length>3&&(i=parseFloat(parseFloat(o).toFixed(3))),[r,n,i].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return ta(this.toFrequency())}_now(){return this.context.now()}}class Pr extends yi{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Bj()}static set A4(e){zj(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Pr.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const i=Hj[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?i:Pr.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let i=1;return e&&e!=="0"&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(i*=this._beatsToUnits(parseFloat(r)/4)),i}}})}transpose(e){return new Pr(this.context,this.valueOf()*Vk(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return ta(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Pr.A4);let r=Math.round(12*n)+57;const i=Math.floor(r/12);return i<0&&(r+=-12*i),Vj[r%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Gk(e)}static ftom(e){return ta(e)}}const Hj={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Vj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Gc extends yi{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class xr extends Oo{constructor(){super();const e=Je(xr.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:tr()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Cj(e),new yi(this.context,e).toSeconds()}toFrequency(e){return new Pr(this.context,e).toFrequency()}toTicks(e){return new Gc(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{ti(e[r])&&delete n[r]}),n}get(){const e=Pj(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];bt(r)&&bt(r.value)&&bt(r.setValueAtTime)?e[n]=r.value:r instanceof xr?e[n]=r._getPartialProperties(e[n]):Dr(r)||Eo(r)||$o(r)||xj(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&bt(this[n])&&(this[n]&&bt(this[n].value)&&bt(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof xr?this[n].set(e[n]):this[n]=e[n])}),this}}class tw extends ni{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Ro(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let i=r;i>=0;i--){const o=this._timeline[i];if(o.state===e)return o}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let i=r;i<this._timeline.length;i++){const o=this._timeline[i];if(o.state===e)return o}}}class Bt extends xr{constructor(){const e=Je(Bt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Xe(bt(e.param)&&(ya(e.param)||e.param instanceof Bt),"param must be an AudioParam");!ya(e.param);)e.param=e.param._param;this._swappable=bt(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new ni(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,bt(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(xr.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return bt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return bt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return bt(this.maxValue)&&bt(this.minValue)&&Ro(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?Wj(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?jj(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),i=this._fromType(e);return Xe(isFinite(i)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),i=this._events.get(n);let o=this._initialValue;if(i===null)o=this._initialValue;else if(i.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const s=this._events.getBefore(i.time);let l;s===null?l=this._initialValue:l=s.value,i.type==="setTargetAtTime"&&(o=this._exponentialApproach(i.time,l,i.value,i.constant,n))}else if(r===null)o=i.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let s=i.value;if(i.type==="setTargetAtTime"){const l=this._events.getBefore(i.time);l===null?s=this._initialValue:s=l.value}r.type==="linearRampToValueAtTime"?o=this._linearInterpolate(i.time,s,r.time,r.value,n):o=this._exponentialInterpolate(i.time,s,r.time,r.value,n)}else o=i.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),i=this.toSeconds(n);return Xe(isFinite(r)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:i,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,i),this._param.linearRampToValueAtTime(r,i),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=gi(r,0)?this._minOutput:r,this._assertRange(r);const i=this.toSeconds(n);return Xe(isFinite(r)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,i),this._param.exponentialRampToValueAtTime(r,i),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const i=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,i),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const i=this._fromType(e);Xe(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(n);return this._assertRange(i),Xe(isFinite(i)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:o,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",e,o,r),this._param.setTargetAtTime(i,o,r),this}setValueCurveAtTime(e,n,r,i=1){r=this.toSeconds(r),n=this.toSeconds(n);const o=this._fromType(e[0])*i;this.setValueAtTime(this._toType(o),n);const s=r/(e.length-1);for(let l=1;l<e.length;l++){const a=this._fromType(e[l])*i;this.linearRampToValueAtTime(this._toType(a),n+l*s)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Xe(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));Xe(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const i=this._events.get(n),o=this._events.getAfter(n);return i&&gi(i.time,n)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const i=this._events.getAfter(r.time),o=i?i.time:n+2,s=(o-n)/10;for(let l=n;l<o;l+=s)e.linearRampToValueAtTime(this.getValueAtTime(l),l)}return this._events.forEachAfter(this.context.currentTime,i=>{i.type==="cancelScheduledValues"?e.cancelScheduledValues(i.time):i.type==="setTargetAtTime"?e.setTargetAtTime(i.value,i.time,i.constant):e[i.type](i.value,i.time)}),this}setParam(e){Xe(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,i,o){return r+(n-r)*Math.exp(-(o-e)/i)}_linearInterpolate(e,n,r,i,o){return n+(i-n)*((o-e)/(r-e))}_exponentialInterpolate(e,n,r,i,o){return n*Math.pow(i/n,(o-e)/(r-e))}}class lt extends xr{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return bt(this.input)?ya(this.input)||this.input instanceof Bt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return bt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return bt(e)&&(e instanceof lt||ps(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Xe(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return nc(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Tp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return Uj(this,e,n,r),this}chain(...e){return Ru(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),bt(this.input)&&(this.input instanceof lt?this.input.dispose():ps(this.input)&&this.input.disconnect()),bt(this.output)&&(this.output instanceof lt?this.output.dispose():ps(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ru(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof lt?n.connect(r):ps(n)&&nc(n,r),r),e)}function nc(t,e,n=0,r=0){for(Xe(bt(t),"Cannot connect from undefined node"),Xe(bt(e),"Cannot connect to undefined node"),(e instanceof lt||ps(e))&&Xe(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Xe(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof lt||e instanceof Bt;)bt(e.input)&&(e=e.input);for(;t instanceof lt;)bt(t.output)&&(t=t.output);ya(e)?t.connect(e,n):t.connect(e,n,r)}function Uj(t,e,n=0,r=0){if(bt(e))for(;e instanceof lt;)e=e.input;for(;!ps(t);)bt(t.output)&&(t=t.output);ya(e)?t.disconnect(e,n):ps(e)?t.disconnect(e,n,r):t.disconnect()}class Ln extends lt{constructor(){const e=Je(Ln.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Bt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),on(this,"gain")}static getDefaults(){return Object.assign(lt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ol extends lt{constructor(e){super(e),this.onended=Ft,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ln({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(lt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ft})}_startGain(e,n=1){Xe(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Xe(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ft&&(this.onended(this),this.onended=Ft,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Xe(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Ft,this}}class nw extends Ol{constructor(){const e=Je(nw.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),nc(this._source,this._gainNode),this.offset=new Bt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ol.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class rn extends lt{constructor(){const e=Je(rn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new nw({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(lt.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return rw(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,i){return this._param.setValueCurveAtTime(e,n,r,i),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function rw(t,e,n,r){(e instanceof Bt||ya(e)||e instanceof rn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof rn&&(e.overridden=!0)),nc(t,e,n,r)}class iw extends Bt{constructor(){const e=Je(iw.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new ni(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Bt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const i=this._fromType(e),o=this._events.get(n),s=Math.round(Math.max(1/r,1));for(let l=0;l<=s;l++){const a=r*l+n,u=this._exponentialApproach(o.time,o.value,i,r,a);this.linearRampToValueAtTime(this._toType(u),a)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const i=this._events.get(r),o=this._events.previousEvent(i),s=this._getTicksUntilEvent(o,r);return i.ticks=Math.max(s,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const i=this._events.get(r),o=this._events.previousEvent(i),s=this._getTicksUntilEvent(o,r);return i.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max((n-i.time)*10,1)),s=(n-i.time)/o;for(let l=0;l<=o;l++){const a=s*l+i.time,u=this._exponentialInterpolate(i.time,i.value,n,r,a);this.linearRampToValueAtTime(this._toType(u),a)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ti(e.ticks)){const s=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(s,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let i=this._fromType(this.getValueAtTime(n));const o=this._events.get(n);return o&&o.time===n&&o.type==="setValueAtTime"&&(i=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+i)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),i=this.getTicksAtTime(n);return this.getTimeOfTick(i+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const i=this._fromType(this.getValueAtTime(n.time)),s=(this._fromType(this.getValueAtTime(r.time))-i)/(r.time-n.time),l=Math.sqrt(Math.pow(i,2)-2*s*(n.ticks-e)),a=(-i+l)/s,u=(-i-l)/s;return(a>0?a:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),i=this.toSeconds(e),o=this.getTicksAtTime(r);return this.getTicksAtTime(r+i)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class ow extends rn{constructor(){const e=Je(ow.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new iw({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(rn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class sw extends xr{constructor(){const e=Je(sw.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new tw,this._tickOffset=new ni,this._ticksAtTime=new ni,this._secondsAtTime=new ni,this.frequency=new ow({context:this.context,units:e.units,value:e.frequency}),on(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},xr.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),bt(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),i=this._ticksAtTime.get(n),o={state:"paused",time:n};this._state.add(o);let s=i||r,l=i?i.ticks:0,a=null;return this._state.forEachBetween(s.time,n+this.sampleTime,u=>{let c=s.time;const h=this._tickOffset.get(u.time);h&&h.time>=s.time&&(l=h.ticks,c=h.time),s.state==="started"&&u.state!=="started"&&(l+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(c),u.time!==o.time&&(a={state:u.state,time:u.time,ticks:l})),s=u}),this._state.remove(o),a&&this._ticksAtTime.add(a),l}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const i=this._secondsAtTime.get(e);let o=i||n,s=i?i.seconds:0,l=null;return this._state.forEachBetween(o.time,e+this.sampleTime,a=>{let u=o.time;const c=this._tickOffset.get(a.time);c&&c.time>=o.time&&(s=c.seconds,u=c.time),o.state==="started"&&a.state!=="started"&&(s+=a.time-u,a.time!==r.time&&(l={state:a.state,time:a.time,seconds:s})),o=a}),this._state.remove(r),l&&this._secondsAtTime.add(l),s}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),i=this._state.get(n),o=Math.max(r.time,i.time),s=this.frequency.getTicksAtTime(o)+e-r.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(e,n,r){let i=this._state.get(e);this._state.forEachBetween(e,n,s=>{i&&i.state==="started"&&s.state!=="started"&&this.forEachTickBetween(Math.max(i.time,e),s.time-this.sampleTime,r),i=s});let o=null;if(i&&i.state==="started"){const s=Math.max(i.time,e),l=this.frequency.getTicksAtTime(s),a=this.frequency.getTicksAtTime(i.time),u=l-a;let c=Math.ceil(u)-u;c=gi(c,1)?0:c;let h=this.frequency.getTimeOfTick(l+c);for(;h<n;){try{r(h,Math.round(this.getTicksAtTime(h)))}catch(f){o=f;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class $p extends xr{constructor(){const e=Je($p.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Ft,this._lastUpdate=0,this._state=new tw("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new sw({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,on(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(xr.getDefaults(),{callback:Ft,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Dk(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),i=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(i+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const i=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,i);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,i)=>{this.callback(r,i)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Zu.mixin($p);class ka extends lt{constructor(){const e=Je(ka.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Ln({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,on(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(lt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class aw extends lt{constructor(){const e=Je(aw.getDefaults(),arguments);super(e),this.name="Destination",this.input=new ka({context:this.context}),this.output=new Ln({context:this.context}),this.volume=this.input.volume,Ru(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(lt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ru(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}kp(t=>{t.destination=new aw({context:t})});Ap(t=>{t.destination.dispose()});class Gj extends lt{constructor(){super(...arguments),this.name="Listener",this.positionX=new Bt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Bt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Bt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Bt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Bt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Bt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Bt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Bt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Bt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(lt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}kp(t=>{t.listener=new Gj({context:t})});Ap(t=>{t.listener.dispose()});function qk(t,e){return Sn(this,arguments,void 0,function*(n,r,i=2,o=tr().sampleRate){const s=tr(),l=new Mp(i,r,o);Yv(l),yield n(l);const a=l.render();Yv(s);const u=yield a;return new Dt(u)})}class lw extends Oo{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Je(lw.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ft,onload:Ft,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Xe(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Ft,i=Ft){return $o(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Dt(this.baseUrl+n,r,i))):this._buffers.set(e.toString(),new Dt(n,r,i)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Md extends Pr{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return ta(super._frequencyToUnits(e))}_ticksToUnits(e){return ta(super._ticksToUnits(e))}_beatsToUnits(e){return ta(super._beatsToUnits(e))}_secondsToUnits(e){return ta(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Gk(this.toMidi())}transpose(e){return new Md(this.context,this.toMidi()+e)}}class ul extends Gc{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class qj extends xr{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new ni,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}kp(t=>{t.draw=new qj({context:t})});Ap(t=>{t.draw.dispose()});class Kj extends Oo{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Xe(bt(e.time),"Events must have a time property"),Xe(bt(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new Yj(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,i=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,i=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,i=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,i=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,i=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),i&&this._rebalance(i)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),i=e.right;i&&(e.right=i.left,i.left=e),n!==null?r?n.left=i:n.right=i:this._setRoot(i)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),i=e.left;i&&(e.left=i.right,i.right=e),n!==null?r?n.left=i:n.right=i:this._setRoot(i)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let i=1;i<n.length;i++)n[i].low>r.low&&(r=n[i]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(i=>{i.event&&n(i.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(i=>{i.event&&n(i.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class Yj{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Qj extends Oo{constructor(e){super(),this.name="TimelineValue",this._timeline=new ni({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class xs extends lt{constructor(){super(Je(xs.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return rw(this,e,n,r),this}}class eh extends xs{constructor(){const e=Je(eh.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Dr(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Sj(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(rn.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let i=0,o=n;i<o;i++){const s=i/(o-1)*2-1;r[i]=e(s,i)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));Xe(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Rp extends xs{constructor(){const e=Je(Rp.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new eh({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(xs.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Cs{constructor(e,n){this.id=Cs._eventId++,this._remainderTime=0;const r=Object.assign(Cs.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Ft,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Cs._eventId=0;class cw extends Cs{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(cw.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Cs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Ad(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new ul(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Ad(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ul(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);Pl(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Lp extends xr{constructor(){const e=Je(Lp.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new Qj(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new ni,this._repeatedEvents=new Kj,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new $p({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),on(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(xr.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),i=Math.sin(r*Math.PI)*this._swingAmount;e+=new ul(this.context,this._swingTicks*2/3).toSeconds()*i}l_(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),l_(!1)}schedule(e,n){const r=new Cs(this,{callback:e,time:new Gc(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,i=1/0){const o=new cw(this,{callback:e,duration:new yi(this.context,i).toTicks(),interval:new yi(this.context,n).toTicks(),time:new Gc(this.context,r).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,n){const r=new Cs(this,{callback:e,once:!0,time:new Gc(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new ul(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return bt(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Dr(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new yi(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new yi(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new ul(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new ul(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),i=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),o=n+i;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),i=e-r%e;return this._clock.nextTickTime(i,n)}}syncSignal(e,n){const r=this.now();let i=this.bpm,o=1/(60/i.getValueAtTime(r)/this.PPQ),s=[];if(e.units==="time"){const a=.015625/o,u=new Ln(a),c=new Rp(-1),h=new Ln(a);i.chain(u,c,h),i=h,o=1/o,s=[u,c,h]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/o:n=0);const l=new Ln(n);return i.connect(l),l.connect(e._param),s.push(l),this._syncedSignals.push({initial:e.value,nodes:s,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(i=>i.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),J0(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Zu.mixin(Lp);kp(t=>{t.transport=new Lp({context:t})});Ap(t=>{t.transport.dispose()});class Tr extends lt{constructor(e){super(e),this.input=void 0,this._state=new tw("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ft,this._syncedStop=Ft,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ka({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,on(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(lt.getDefaults(),{mute:!1,onstop:Ft,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let i=ti(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),!this._synced&&this._state.getValueAtTime(i)==="started")Xe(Pl(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,n,r);else if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const o=this._state.get(i);o&&(o.offset=this.toSeconds(_l(n,0)),o.duration=r?this.toSeconds(r):void 0);const s=this.context.transport.schedule(l=>{this._start(l,n,r)},i);this._scheduled.push(s),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else Dk(this.context),this._start(i,n,r);return this}stop(e){let n=ti(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||bt(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(Pl(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const i=n-this.toSeconds(r.time);let o;r.duration&&(o=this.toSeconds(r.duration)-i),this._start(e,this.toSeconds(r.offset)+i,o)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ft,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Np extends Ol{constructor(){const e=Je(Np.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,nc(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Bt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Dt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ol.getDefaults(),{url:new Dt,loop:!1,loopEnd:0,loopStart:0,onload:Ft,onerror:Ft,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,i=1){Xe(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,i),this.loop?n=_l(n,this.loopStart):n=_l(n,0);let s=Math.max(this.toSeconds(n),0);if(this.loop){const l=this.toSeconds(this.loopEnd)||this.buffer.duration,a=this.toSeconds(this.loopStart),u=l-a;Kv(s,l)&&(s=(s-a)%u+a),gi(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Ad(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,s)),bt(r)){let l=this.toSeconds(r);l=Math.max(l,0),this.stop(o+l)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Aa(t,e){return Sn(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Mp(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class uw extends Ol{constructor(){const e=Je(uw.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],nc(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Bt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Bt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),on(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ol.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class kn extends Tr{constructor(){const e=Je(kn.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new rn({context:this.context,units:"frequency",value:e.frequency}),on(this,"frequency"),this.detune=new rn({context:this.context,units:"cents",value:e.detune}),on(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Tr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new uw({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return kn._periodicWaveCache.find(n=>n.phase===this._phase&&Nj(n.partials,this._partials));{const e=kn._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(bt(r)){const{partials:i,wave:o}=r;this._wave=o,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[i,o]=this._getRealImaginary(e,this._phase),s=this.context.createPeriodicWave(i,o);this._wave=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),kn._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),kn._periodicWaveCache.length>100&&kn._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Ro(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const i=new Float32Array(e);this._partials.forEach((o,s)=>i[s]=o),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(e,n){let i=2048;const o=new Float32Array(i),s=new Float32Array(i);let l=1;if(e==="custom"){if(l=this._partials.length+1,this._partialCount=this._partials.length,i=l,this._partials.length===0)return[o,s]}else{const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);a?(l=parseInt(a[2],10)+1,this._partialCount=parseInt(a[2],10),e=a[1],l=Math.max(l,2),i=l):this._partialCount=0,this._partials=[]}for(let a=1;a<i;++a){const u=2/(a*Math.PI);let c;switch(e){case"sine":c=a<=l?1:0,this._partials[a-1]=c;break;case"square":c=a&1?2*u:0,this._partials[a-1]=c;break;case"sawtooth":c=u*(a&1?1:-1),this._partials[a-1]=c;break;case"triangle":a&1?c=2*(u*u)*(a-1>>1&1?-1:1):c=0,this._partials[a-1]=c;break;case"custom":c=this._partials[a-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(o[a]=-c*Math.sin(n*a),s[a]=c*Math.cos(n*a)):(o[a]=0,s[a]=0)}return[o,s]}_inverseFFT(e,n,r){let i=0;const o=e.length;for(let s=0;s<o;s++)i+=e[s]*Math.cos(s*r)+n[s]*Math.sin(s*r);return i}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const i=Math.PI*2,o=32;for(let s=0;s<o;s++)r=Math.max(this._inverseFFT(e,n,s/o*i),r);return Oj(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Sn(this,arguments,void 0,function*(e=1024){return Aa(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}kn._periodicWaveCache=[];class Xj extends xs{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new eh({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class wa extends rn{constructor(){const e=Je(wa.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Ln({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(rn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Pp extends Tr{constructor(){const e=Je(Pp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Xj({context:this.context}),this._modulationNode=new Ln({context:this.context}),this._carrier=new kn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new kn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new wa({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),on(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(kn.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Sn(this,arguments,void 0,function*(e=1024){return Aa(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Op extends Tr{constructor(){const e=Je(Op.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Ln({context:this.context,gain:0}),this._carrier=new kn({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new rn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new kn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new wa({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new wa({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),on(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(kn.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Sn(this,arguments,void 0,function*(e=1024){return Aa(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class th extends Tr{constructor(){const e=Je(th.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Ln({context:this.context,gain:0}),this._thresh=new eh({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new rn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new kn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),on(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Tr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Sn(this,arguments,void 0,function*(e=1024){return Aa(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ip extends Tr{constructor(){const e=Je(Ip.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new rn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new rn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,on(this,["frequency","detune"])}static getDefaults(){return Object.assign(kn.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((i,o)=>i.detune.value=n+r*o)}}get count(){return this._oscillators.length}set count(e){if(Ro(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new kn({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Ft});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Sn(this,arguments,void 0,function*(e=1024){return Aa(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Dp extends Tr{constructor(){const e=Je(Dp.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new wa({context:this.context,value:2}),this._pulse=new th({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new kn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),on(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Tr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Sn(this,arguments,void 0,function*(e=1024){return Aa(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const c_={am:Pp,fat:Ip,fm:Op,oscillator:kn,pulse:th,pwm:Dp};class Il extends Tr{constructor(){const e=Je(Il.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new rn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new rn({context:this.context,units:"cents",value:e.detune}),on(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(kn.getDefaults(),Op.getDefaults(),Pp.getDefaults(),Ip.getDefaults(),th.getDefaults(),Dp.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=c_[e],r=this.now();if(this._oscillator){const i=this._oscillator;i.stop(r),this.context.setTimeout(()=>i.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof c_[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Eo(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Eo(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&$o(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Sn(this,arguments,void 0,function*(e=1024){return Aa(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class hw extends rn{constructor(){super(Je(hw.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Ln({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ru(this._constantSource,this._sum)}static getDefaults(){return Object.assign(rn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class fw extends xs{constructor(){const e=Je(fw.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new wa({context:this.context,value:e.max-e.min}),this._add=this.output=new hw({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(xs.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function Kk(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(o){Ro(o,t,e),n.set(this,o)}})}}function Io(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(o){Ro(this.toSeconds(o),t,e),n.set(this,o)}})}}class Fp extends Tr{constructor(){const e=Je(Fp.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Dt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Tr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ft,onerror:Ft,playbackRate:1,reverse:!1})}load(e){return Sn(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Ft){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=_l(n,this._loopStart):n=_l(n,0);const i=this.toSeconds(n),o=r;r=_l(r,Math.max(this._buffer.duration-i,0));let s=this.toSeconds(r);s=s/this._playbackRate,e=this.toSeconds(e);const l=new Np({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+s),this._state.setStateAtTime("stopped",e+s,{implicitEnd:!0})),this._activeSources.add(l),this._loop&&ti(o)?l.start(e,i):l.start(e,i,s-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var i;(i=[...this._activeSources].pop())===null||i===void 0||i.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const i=this.toSeconds(e);this._stop(r),this._start(r,i)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ro(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ro(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(i=>i.cancelStop())),this._activeSources.forEach(i=>{i.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Mi([Io(0)],Fp.prototype,"fadeIn",void 0);Mi([Io(0)],Fp.prototype,"fadeOut",void 0);class Ai extends lt{constructor(){const e=Je(Ai.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new rn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(lt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if($o(e))return e;{let r;for(r in uf)if(uf[r][n]===e)return r;return e}}_setCurve(e,n,r){if($o(r)&&Reflect.has(uf,r)){const i=uf[r];aa(i)?e!=="_decayCurve"&&(this[e]=i[n]):this[e]=i}else if(Dr(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let i=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),s=this.getValueAtTime(e);if(s>0){const l=1/i;i=(1-s)/l}if(i<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,i,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,i,e);else{this._sig.cancelAndHoldAtTime(e);let l=this._attackCurve;for(let a=1;a<l.length;a++)if(l[a-1]<=s&&s<=l[a]){l=this._attackCurve.slice(a),l[0]=s;break}this._sig.setValueCurveAtTime(l,e,i,n)}if(o&&this.sustain<1){const l=n*this.sustain,a=e+i;this.log("decay",a),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(l,o+a):this._sig.exponentialApproachValueAtTime(l,a,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(Xe(Dr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return rw(this,e,n,r),this}asArray(){return Sn(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new Mp(1,n,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=i+this.toSeconds(this.release),s=o*.1,l=o+s,a=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/l,decay:n*this.toSeconds(this.decay)/l,release:n*this.toSeconds(this.release)/l,context:r}));return a._sig.toDestination(),a.triggerAttackRelease(n*(i+s)/l,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Mi([Io(0)],Ai.prototype,"attack",void 0);Mi([Io(0)],Ai.prototype,"decay",void 0);Mi([Kk(0,1)],Ai.prototype,"sustain",void 0);Mi([Io(0)],Ai.prototype,"release",void 0);const uf=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const i=[],o=6.4;for(e=0;e<127;e++){n=e/127;const f=Math.sin(n*(Math.PI*2)*o-Math.PI/2)+1;i[e]=f/10+n*.83}i[127]=1;const s=[],l=5;for(e=0;e<128;e++)s[e]=Math.ceil(e/127*l)/l;const a=[];for(e=0;e<128;e++)n=e/127,a[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const f=Math.pow(n,3)*4+.2,p=Math.cos(f*Math.PI*2*n);u[e]=Math.abs(p*(1-n))}function c(f){const p=new Array(f.length);for(let d=0;d<f.length;d++)p[d]=1-f[d];return p}function h(f){return f.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:r,Out:h(r)},exponential:"exponential",linear:"linear",ripple:{In:i,Out:c(i)},sine:{In:a,Out:c(a)},step:{In:s,Out:c(s)}}})();class Ts extends lt{constructor(){const e=Je(Ts.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new ka({context:this.context,volume:e.volume}),this.volume=this._volume.volume,on(this,"volume")}static getDefaults(){return Object.assign(lt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...i)=>{const o=i[n],s=this.context.transport.schedule(l=>{i[n]=l,r.apply(this,i)},o);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,i){const o=this.toSeconds(r),s=this.toSeconds(n);return this.triggerAttack(e,o,i),this.triggerRelease(o+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Lo extends Ts{constructor(){const e=Je(Lo.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Ts.getDefaults(),{detune:0,onsilence:Ft,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const i=this.toSeconds(n);return this._triggerEnvelopeAttack(i,r),this.setNote(e,i),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),i=e instanceof Pr?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,o,r)}else this.frequency.setValueAtTime(i,r);return this}}Mi([Io(0)],Lo.prototype,"portamento",void 0);class Wp extends Ai{constructor(){super(Je(Wp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ln({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ba extends Lo{constructor(){const e=Je(ba.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Il(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Wp(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),on(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Lo.getDefaults(),{envelope:Object.assign(Js(Ai.getDefaults(),Object.keys(lt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Js(Il.getDefaults(),[...Object.keys(Tr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+i)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ed extends lt{constructor(){const e=Je(Ed.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Bt({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Bt({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Bt({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Bt({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(lt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Xe(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let s=0;s<e;s++){const a=Math.pow(s/e,2)*19980+20;n[s]=a}const r=new Float32Array(e),i=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(n,r,i),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class $d extends lt{constructor(){const e=Je($d.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Ln({context:this.context}),this.output=new Ln({context:this.context}),this._filters=[],this._filters=[],this.Q=new rn({context:this.context,units:"positive",value:e.Q}),this.frequency=new rn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new rn({context:this.context,units:"cents",value:e.detune}),this.gain=new rn({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,on(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(lt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Xe(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=Eo(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let i=r.indexOf(n);Xe(i!==-1,`rolloff can only be ${r.join(", ")}`),i+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(i);for(let o=0;o<i;o++){const s=new Ed({context:this.context});s.type=this._type,this.frequency.connect(s.frequency),this.detune.connect(s.detune),this.Q.connect(s.Q),this.gain.connect(s.gain),this._filters[o]=s}this._internalChannels=this._filters,Ru(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new Ed({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((o,s)=>r[s]*=o)}),n.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),J0(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Rd extends Ai{constructor(){const e=Je(Rd.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Rp({context:this.context,value:e.exponent}),this._scale=this.output=new fw({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Ai.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const n=this.toFrequency(e);Ro(n,0),this._baseFrequency=n,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class dw extends Lo{constructor(){const e=Je(dw.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new Il(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new $d(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Rd(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Wp(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),on(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Lo.getDefaults(),{envelope:Object.assign(Js(Ai.getDefaults(),Object.keys(lt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Js($d.getDefaults(),Object.keys(lt.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Js(Rd.getDefaults(),Object.keys(lt.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Js(Il.getDefaults(),Object.keys(Tr.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,n=1){if(this.envelope.triggerAttack(e,n),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+i)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class jp extends ba{constructor(){const e=Je(jp.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,on(this,["oscillator","envelope"])}static getDefaults(){return la(Lo.getDefaults(),ba.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),i=this.toFrequency(e instanceof Pr?e.toFrequency():e),o=i*this.octaves;return this.oscillator.frequency.setValueAtTime(o,r),this.oscillator.frequency.exponentialRampToValueAtTime(i,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Mi([Kk(0)],jp.prototype,"octaves",void 0);Mi([Io(0)],jp.prototype,"pitchDecay",void 0);const Yk=new Set;function pw(t){Yk.add(t)}function Qk(t,e){const n=`registerProcessor("${t}", ${e})`;Yk.add(n)}const Zj=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;pw(Zj);const Jj=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;pw(Jj);const eB=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;pw(eB);const tB="feedback-comb-filter",nB=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Qk(tB,nB);class nh extends Ts{constructor(){const e=Je(nh.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=i=>this.releaseAll(i),Xe(!Eo(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Ts.getDefaults(),{maxPolyphony:32,options:{},voice:ba})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Xe(e instanceof Lo,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Tp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,r){e.forEach(i=>{const o=new Md(this.context,i).toMidi(),s=this._getNextAvailableVoice();s&&(s.triggerAttack(i,n,r),this._activeVoices.push({midi:o,voice:s,released:!1}),this.log("triggerAttack",i,n))})}_triggerRelease(e,n){e.forEach(r=>{const i=new Md(this.context,r).toMidi(),o=this._activeVoices.find(({midi:s,released:l})=>s===i&&!l);o&&(o.voice.triggerRelease(n),o.released=!0,this.log("triggerRelease",r,n))})}_scheduleEvent(e,n,r,i){Xe(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(n,r,i):this._triggerRelease(n,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,r,i)},r-this.now())}triggerAttack(e,n,r){Array.isArray(e)||(e=[e]);const i=this.toSeconds(n);return this._scheduleEvent("attack",e,i,r),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,n,r,i){const o=this.toSeconds(r);if(this.triggerAttack(e,o,i),Dr(n)){Xe(Dr(e),"If the duration is an array, the notes must also be an array"),e=e;for(let s=0;s<e.length;s++){const l=n[Math.min(s,n.length-1)],a=this.toSeconds(l);Xe(a>0,"The duration must be greater than 0"),this.triggerRelease(e[s],o+a)}}else{const s=this.toSeconds(n);Xe(s>0,"The duration must be greater than 0"),this.triggerRelease(e,o+s)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=Js(e,["onsilence","context"]);return this.options=la(this.options,n),this._voices.forEach(r=>r.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Hr extends Ts{constructor(){const e=Je(Hr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const i=parseInt(r,10);if(Xe(cf(r)||Eo(i)&&isFinite(i),`url key is neither a note or midi pitch: ${r}`),cf(r)){const o=new Pr(this.context,r).toMidi();n[o]=e.urls[r]}else Eo(i)&&isFinite(i)&&(n[i]=e.urls[i])}),this._buffers=new lw({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Ts.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ft,onerror:Ft,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(i=>{const o=Uk(new Pr(this.context,i).toFrequency()),s=Math.round(o),l=o-s,a=this._findClosest(s),u=s-a,c=this._buffers.get(u),h=Vk(a+l),f=new Np({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);f.start(n,0,c.duration/h,r),Dr(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(f),f.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){const p=this._activeSources.get(s),d=p.indexOf(f);d!==-1&&p.splice(d,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=new Pr(this.context,r).toMidi();if(this._activeSources.has(i)&&this._activeSources.get(i).length){const o=this._activeSources.get(i);n=this.toSeconds(n),o.forEach(s=>{s.stop(n)}),this._activeSources.set(i,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,i=1){const o=this.toSeconds(r);return this.triggerAttack(e,o,i),Dr(n)?(Xe(Dr(e),"notes must be an array when duration is array"),e.forEach((s,l)=>{const a=n[Math.min(l,n.length-1)];this.triggerRelease(s,o+this.toSeconds(a))})):this.triggerRelease(e,o+this.toSeconds(n)),this}add(e,n,r){if(Xe(cf(e)||isFinite(e),`note must be a pitch or midi: ${e}`),cf(e)){const i=new Pr(this.context,e).toMidi();this._buffers.add(i,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Mi([Io(0)],Hr.prototype,"attack",void 0);Mi([Io(0)],Hr.prototype,"release",void 0);class Bp extends lt{constructor(){const e=Je(Bp.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Bt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",on(this,"pan")}static getDefaults(){return Object.assign(lt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const rB="bit-crusher",iB=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Qk(rB,iB);class Tn extends lt{constructor(){const e=Je(Tn.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Ln({context:this.context}),Tn._allSolos.has(this.context)||Tn._allSolos.set(this.context,new Set),Tn._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(lt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Tn._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Tn._soloed.has(this.context)||Tn._soloed.set(this.context,new Set),Tn._soloed.get(this.context).add(this)}_removeSolo(){Tn._soloed.has(this.context)&&Tn._soloed.get(this.context).delete(this)}_isSoloed(){return Tn._soloed.has(this.context)&&Tn._soloed.get(this.context).has(this)}_noSolos(){return!Tn._soloed.has(this.context)||Tn._soloed.has(this.context)&&Tn._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Tn._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Tn._allSolos=new Map;Tn._soloed=new Map;class gw extends lt{constructor(){const e=Je(gw.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Bp({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ka({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,on(this,["pan","volume"])}static getDefaults(){return Object.assign(lt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class hl extends lt{constructor(){const e=Je(hl.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Tn({solo:e.solo,context:this.context}),this._panVol=this.output=new gw({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),on(this,["pan","volume"])}static getDefaults(){return Object.assign(lt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return hl.buses.has(e)||hl.buses.set(e,new Ln({context:this.context})),hl.buses.get(e)}send(e,n=0){const r=this._getBus(e),i=new Ln({context:this.context,units:"decibels",gain:n});return this.connect(i),i.connect(r),i}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}hl.buses=new Map;function Lu(){return tr().now()}tr().transport;tr().destination;tr().destination;tr().listener;tr().draw;tr();function Nu(){return Dt.loaded()}class fl{constructor(){ge(this,"synth");ge(this,"panner");ge(this,"volumeController");ge(this,"now");this.volumeController=new ka({volume:0}).toDestination(),this.panner=new Bp({pan:0,channelCount:2}).connect(this.volumeController),this.synth=this.create().connect(this.panner),this.now=Lu()}static load(e){if(this.loaded)return!1;this.loadedResources={},this.loaded=!0;for(let n in this.resourceUrls){const r=e+"/"+this.resourceSubfolder+this.resourceUrls[n];this.loadedResources[n]=new Dt(r)}}resetTime(){this.now=Lu()}setVolume(e){this.volumeController.volume.value=Math.max(-114514,20*Math.log10(e))}setPan(e){this.panner.pan.value=e}dispose(){this.synth.disconnect()}}ge(fl,"resourceSubfolder",""),ge(fl,"resourceUrls",{}),ge(fl,"loadedResources",{}),ge(fl,"loaded",!1);class Ns extends fl{scheduleNote(e,n,r){try{this.synth.triggerAttackRelease(this.transformPitch(e),r/1e3,this.now+n/1e3)}catch{}}transformPitch(e){return e}}class zp extends fl{scheduleNote(e,n,r){try{this.synth.triggerAttackRelease(this.transformPitch(e),r/1e3,this.now+n/1e3)}catch{}}transformPitch(e){return"C2"}}class Xk extends Ns{create(){return new nh(ba,{volume:-1})}}const qc=class qc extends Ns{create(){return new Hr({urls:qc.loadedResources,release:1,volume:-14})}transformPitch(e){return"C5"}};ge(qc,"resourceSubfolder","drum/"),ge(qc,"resourceUrls",{C5:"kit8-snare.mp3"});let Qv=qc;const Kc=class Kc extends zp{create(){return new Hr({urls:Kc.loadedResources,release:1,volume:-14})}transformPitch(e){return"C5"}};ge(Kc,"resourceSubfolder","drum/"),ge(Kc,"resourceUrls",{C5:"kit8-snare.mp3"});let Xv=Kc;class oB extends Ns{create(){return new nh(dw,{volume:-11,oscillator:{type:"square8"},envelope:{attack:.12,decay:0,sustain:.4,release:.8},filterEnvelope:{attack:.001,decay:.7,sustain:.1,release:.8,baseFrequency:300,octaves:4}})}}const Yc=class Yc extends Ns{create(){return new Hr({urls:Yc.loadedResources,release:1})}};ge(Yc,"resourceSubfolder","piano/"),ge(Yc,"resourceUrls",{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"});let Pu=Yc;const Qc=class Qc extends Ns{create(){return new Hr({urls:Qc.loadedResources,volume:-6,release:1})}};ge(Qc,"resourceSubfolder","organ/"),ge(Qc,"resourceUrls",{C3:"C3.mp3",C4:"C4.mp3",C5:"C5.mp3",C6:"C6.mp3","D#1":"Ds1.mp3","D#2":"Ds2.mp3","D#3":"Ds3.mp3","D#4":"Ds4.mp3","D#5":"Ds5.mp3","F#1":"Fs1.mp3","F#2":"Fs2.mp3","F#3":"Fs3.mp3","F#4":"Fs4.mp3","F#5":"Fs5.mp3",A1:"A1.mp3",A2:"A2.mp3",A3:"A3.mp3",A4:"A4.mp3",A5:"A5.mp3",C1:"C1.mp3",C2:"C2.mp3"});let Zv=Qc;const Xc=class Xc extends Ns{create(){return new Hr({urls:Xc.loadedResources,volume:-2,release:1})}};ge(Xc,"resourceSubfolder","guitar/"),ge(Xc,"resourceUrls",{F4:"F4.mp3","F#2":"Fs2.mp3","F#3":"Fs3.mp3","F#4":"Fs4.mp3",G2:"G2.mp3",G3:"G3.mp3",G4:"G4.mp3","G#2":"Gs2.mp3","G#3":"Gs3.mp3","G#4":"Gs4.mp3",A2:"A2.mp3",A3:"A3.mp3",A4:"A4.mp3","A#2":"As2.mp3","A#3":"As3.mp3","A#4":"As4.mp3",B2:"B2.mp3",B3:"B3.mp3",B4:"B4.mp3",C3:"C3.mp3",C4:"C4.mp3",C5:"C5.mp3","C#3":"Cs3.mp3","C#4":"Cs4.mp3","C#5":"Cs5.mp3",D2:"D2.mp3",D3:"D3.mp3",D4:"D4.mp3",D5:"D5.mp3","D#2":"Ds2.mp3","D#3":"Ds3.mp3","D#4":"Ds4.mp3",E2:"E2.mp3",E3:"E3.mp3",E4:"E4.mp3",F2:"F2.mp3",F3:"F3.mp3"});let Jv=Xc;const Zc=class Zc extends Ns{create(){return new Hr({urls:Zc.loadedResources,volume:-10,release:1})}};ge(Zc,"resourceSubfolder","violin/"),ge(Zc,"resourceUrls",{A3:"A3.mp3",A4:"A4.mp3",A5:"A5.mp3",A6:"A6.mp3",C4:"C4.mp3",C5:"C5.mp3",C6:"C6.mp3",C7:"C7.mp3",E4:"E4.mp3",E5:"E5.mp3",E6:"E6.mp3",G4:"G4.mp3",G5:"G5.mp3",G6:"G6.mp3"});let ey=Zc;const Jc=class Jc extends zp{create(){return new Hr({urls:Jc.loadedResources,release:1,volume:-4})}transformPitch(e){return e.toUpperCase()=="X"?"D5":e.toUpperCase()=="Y"?"G4":"G3"}};ge(Jc,"resourceSubfolder","drum/"),ge(Jc,"resourceUrls",{D5:"CR78-tom1.mp3",G4:"CR78-tom2.mp3",G3:"CR78-tom3.mp3"});let ty=Jc;const eu=class eu extends zp{create(){return new Hr({urls:eu.loadedResources,release:1,volume:-8})}transformPitch(e){return e.toUpperCase()=="X"?"D5":e.toUpperCase()=="Y"?"G4":"G3"}};ge(eu,"resourceSubfolder","drum/"),ge(eu,"resourceUrls",{D5:"TC2-kick.mp3",G4:"TC2-snare.mp3",G3:"TC2-hithat.mp3"});let ny=eu;const tu=class tu extends zp{create(){return new Hr({urls:tu.loadedResources,release:1,volume:-4})}transformPitch(e){return e.toUpperCase()=="X"?"D5":e.toUpperCase()=="Y"?"G4":"G3"}};ge(tu,"resourceSubfolder","drum/"),ge(tu,"resourceUrls",{D5:"4OP-kick.mp3",G4:"BB13-hithat.mp3",G3:"CR78-hihat.mp3"});let ry=tu;class sB extends Ns{create(){return new nh(ba,{volume:-2,oscillator:{type:"amtriangle",harmonicity:1,modulationType:"sine"},envelope:{attackCurve:"exponential",attack:.05,decay:.1,sustain:.2,release:1.5},portamento:.05})}}const Zk={mute:!1,solo:!1,volume:100,pan:0,type:"part",octave:0,tonicInstrument:"piano",drumlineInstrument:"snare"},Jk={mute:!1,solo:!1,volume:100,pan:0,type:"beatMachine",drumlineInstrument:"beat2",beatModulo:1},Dl={chip:Xk,saw:sB,piccolo:oB,piano:Pu,organ:Zv,violin:ey,guitar:Jv,snare:Qv},na={drum:ry,beat1:ty,beat2:ny,snare:Xv};var gs;(t=>{t.maxVolume=150,t.maxOctave=6,t.maxModulo=18;function e(){let o=[];for(let s=1;s<=t.maxModulo;s++)o.push(s);return o}t.moduloList=e;function n(o){const s=[];return er(o,(l,a)=>{s.push(JSON.stringify({id:a,c:{m:l.control.mute,s:l.control.solo,p:l.control.pan,v:l.control.volume,nx:l.control.drumlineInstrument,...l.control.type!="beatMachine"&&{nn:l.control.tonicInstrument,o:l.control.octave},...l.control.type=="beatMachine"&&{bm:l.control.beatModulo}}}))}),s}t.dehydrate=n;function r(o,s){if(!o||typeof o!="object")return;const l=s?{...Jk}:{...Zk};if("m"in o&&typeof o.m=="boolean"&&(l.mute=o.m),"s"in o&&typeof o.s=="boolean"&&(l.solo=o.s),"p"in o&&typeof o.p=="number"&&o.p==o.p&&(l.pan=Math.min(1,Math.max(-1,o.p))),"v"in o&&typeof o.v=="number"&&o.v==o.v&&(l.volume=Math.min(t.maxVolume,Math.max(0,Math.floor(o.v)))),"nx"in o&&typeof o.nx=="string"&&lr(o.nx,na)&&(l.drumlineInstrument=o.nx),l.type!="beatMachine"){if("nn"in o&&typeof o.nn=="string"){let a=o.nn;!lr(a,Dl)&&a=="flute"&&(a="piccolo"),lr(a,Dl)&&(l.tonicInstrument=a)}"o"in o&&typeof o.o=="number"&&o.o==o.o&&(l.octave=Math.min(t.maxOctave,Math.max(-t.maxOctave,Math.floor(o.o))))}else"bm"in o&&typeof o.bm=="number"&&o.bm==o.bm&&(l.beatModulo=Math.min(t.maxModulo,Math.max(0,Math.floor(o.bm))));return l}function i(o,s){const l={};for(let u of s)try{const c=JSON.parse(u.trim());if(!c||typeof c!="object"||!("id"in c)||typeof c.id!="string"||!("c"in c))continue;const h=c.id=="beatMachine",f=r(c.c,h);if(!f)continue;l[c.id]=f}catch(c){console.warn("Cannot parse part data",u.trim(),c)}const a={...o};for(let u in a)l[u]&&(a[u]={...a[u],control:l[u]});return a}t.revive=i})(gs||(gs={}));function aB(t,e=[]){let n=[];function r(o,s){const l=V.createContext(s),a=n.length;n=[...n,s];const u=h=>{var v;const{scope:f,children:p,...d}=h,g=((v=f==null?void 0:f[t])==null?void 0:v[a])||l,m=V.useMemo(()=>d,Object.values(d));return U.jsx(g.Provider,{value:m,children:p})};u.displayName=o+"Provider";function c(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[a])||l,d=V.useContext(p);if(d)return d;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,c]}const i=()=>{const o=n.map(s=>V.createContext(s));return function(l){const a=(l==null?void 0:l[t])||o;return V.useMemo(()=>({[`__scope${t}`]:{...l,[t]:a}}),[l,a])}};return i.scopeName=t,[r,lB(i,...e)]}function lB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((l,{useScope:a,scopeName:u})=>{const h=a(o)[`__scope${u}`];return{...l,...h}},{});return V.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var eA=["PageUp","PageDown"],tA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nA={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rc="Slider",[iy,cB,uB]=LC(rc),[rA,hH]=aB(rc,[uB]),[hB,Hp]=rA(rc),iA=V.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:a=0,defaultValue:u=[r],value:c,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:d,...g}=t,m=V.useRef(new Set),v=V.useRef(0),C=s==="horizontal"?fB:dB,[x=[],_]=Nv({prop:c,defaultProp:u,onChange:R=>{var $;($=[...m.current][v.current])==null||$.focus(),h(R)}}),w=V.useRef(x);function y(R){const k=yB(x,R);M(R,k)}function S(R){M(R,v.current)}function A(){const R=w.current[v.current];x[v.current]!==R&&f(x)}function M(R,k,{commit:$}={commit:!1}){const E=SB(o),L=xB(Math.round((R-r)/o)*o+r,E),P=fd(L,[r,i]);_((I=[])=>{const D=mB(I,P,k);if(_B(D,a*o)){v.current=D.indexOf(P);const W=String(D)!==String(I);return W&&$&&f(D),W?D:I}else return I})}return U.jsx(hB,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:v,thumbs:m.current,values:x,orientation:s,form:d,children:U.jsx(iy.Provider,{scope:t.__scopeSlider,children:U.jsx(iy.Slot,{scope:t.__scopeSlider,children:U.jsx(C,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:Gt(g.onPointerDown,()=>{l||(w.current=x)}),min:r,max:i,inverted:p,onSlideStart:l?void 0:y,onSlideMove:l?void 0:S,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&M(r,0,{commit:!0}),onEndKeyDown:()=>!l&&M(i,x.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:k})=>{if(!l){const L=eA.includes(R.key)||R.shiftKey&&tA.includes(R.key)?10:1,P=v.current,I=x[P],D=o*L*k;M(I+D,P,{commit:!0})}}})})})})});iA.displayName=rc;var[oA,sA]=rA(rc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),fB=V.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:l,onSlideEnd:a,onStepKeyDown:u,...c}=t,[h,f]=V.useState(null),p=vn(e,C=>f(C)),d=V.useRef(),g=NC(i),m=g==="ltr",v=m&&!o||!m&&o;function b(C){const x=d.current||h.getBoundingClientRect(),_=[0,x.width],y=mw(_,v?[n,r]:[r,n]);return d.current=x,y(C-x.left)}return U.jsx(oA,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:U.jsx(aA,{dir:g,"data-orientation":"horizontal",...c,ref:p,style:{...c.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const x=b(C.clientX);s==null||s(x)},onSlideMove:C=>{const x=b(C.clientX);l==null||l(x)},onSlideEnd:()=>{d.current=void 0,a==null||a()},onStepKeyDown:C=>{const _=nA[v?"from-left":"from-right"].includes(C.key);u==null||u({event:C,direction:_?-1:1})}})})}),dB=V.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:a,...u}=t,c=V.useRef(null),h=vn(e,c),f=V.useRef(),p=!i;function d(g){const m=f.current||c.current.getBoundingClientRect(),v=[0,m.height],C=mw(v,p?[r,n]:[n,r]);return f.current=m,C(g-m.top)}return U.jsx(oA,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:U.jsx(aA,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const m=d(g.clientY);o==null||o(m)},onSlideMove:g=>{const m=d(g.clientY);s==null||s(m)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=nA[p?"from-bottom":"from-top"].includes(g.key);a==null||a({event:g,direction:v?-1:1})}})})}),aA=V.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:l,onStepKeyDown:a,...u}=t,c=Hp(rc,n);return U.jsx(sn.span,{...u,ref:e,onKeyDown:Gt(t.onKeyDown,h=>{h.key==="Home"?(s(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):eA.concat(tA).includes(h.key)&&(a(h),h.preventDefault())}),onPointerDown:Gt(t.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),c.thumbs.has(f)?f.focus():r(h)}),onPointerMove:Gt(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Gt(t.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),o(h))})})}),lA="SliderTrack",cA=V.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Hp(lA,n);return U.jsx(sn.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});cA.displayName=lA;var oy="SliderRange",uA=V.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Hp(oy,n),o=sA(oy,n),s=V.useRef(null),l=vn(e,s),a=i.values.length,u=i.values.map(f=>fA(f,i.min,i.max)),c=a>1?Math.min(...u):0,h=100-Math.max(...u);return U.jsx(sn.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...t.style,[o.startEdge]:c+"%",[o.endEdge]:h+"%"}})});uA.displayName=oy;var sy="SliderThumb",hA=V.forwardRef((t,e)=>{const n=cB(t.__scopeSlider),[r,i]=V.useState(null),o=vn(e,l=>i(l)),s=V.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return U.jsx(pB,{...t,ref:o,index:s})}),pB=V.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,s=Hp(sy,n),l=sA(sy,n),[a,u]=V.useState(null),c=vn(e,b=>u(b)),h=a?s.form||!!a.closest("form"):!0,f=YC(a),p=s.values[r],d=p===void 0?0:fA(p,s.min,s.max),g=vB(r,s.values.length),m=f==null?void 0:f[l.size],v=m?wB(m,d,l.direction):0;return V.useEffect(()=>{if(a)return s.thumbs.add(a),()=>{s.thumbs.delete(a)}},[a,s.thumbs]),U.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${d}% + ${v}px)`},children:[U.jsx(iy.ItemSlot,{scope:t.__scopeSlider,children:U.jsx(sn.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":p,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:c,style:p===void 0?{display:"none"}:t.style,onFocus:Gt(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),h&&U.jsx(gB,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:p},r)]})});hA.displayName=sy;var gB=t=>{const{value:e,...n}=t,r=V.useRef(null),i=aT(e);return V.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&a){const u=new Event("input",{bubbles:!0});a.call(o,e),o.dispatchEvent(u)}},[i,e]),U.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function mB(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function fA(t,e,n){const o=100/(n-e)*(t-e);return fd(o,[0,100])}function vB(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function yB(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function wB(t,e,n){const r=t/2,o=mw([0,50],[0,r]);return(r-o(e)*n)*n}function bB(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function _B(t,e){if(e>0){const n=bB(t);return Math.min(...n)>=e}return!0}function mw(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function SB(t){return(String(t).split(".")[1]||"").length}function xB(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var CB=iA,TB=cA,kB=uA,AB=hA;const MB=Mn({SliderRoot:{position:"relative",display:"flex",alignItems:"center",userSelect:"none",touchAction:"none",height:"1em"},SliderTrack:{position:"relative",flexGrow:1,borderRadius:"114514px",height:"0.15em"},SliderRange:{position:"absolute",borderRadius:"114514px",height:"100%"}}),EB=(t,e,n,r)=>V.useMemo(()=>Mn({SliderThumb:{display:"block",width:"1em",height:"1em",backgroundColor:t,borderRadius:"114514px",border:"2px solid "+r,"&:hover":{backgroundColor:e},"&:focus":{baclgroundColor:n},outline:"none"}}),[t,e,n,r])();function u_(t){const e=MB(),n=EB(t.thumbColor??"#FFF",t.hoverColor??"#EEE",t.activeColor??"#DDD",t.highlightColor??"#777");return U.jsxs(CB,{min:t.min,max:t.max,step:t.step,value:[t.value],onValueChange:r=>t.onChange&&t.onChange(r[0]),className:[e.SliderRoot,t.className].join(" "),style:t.style,onKeyDown:t.onRootKeyDown,children:[U.jsx(TB,{style:{background:t.trackColor??"#0002"},className:e.SliderTrack,children:U.jsx(kB,{style:{background:t.highlightColor??"#0004",...t.noRange&&{display:"none"}},className:e.SliderRange})}),U.jsx(AB,{className:n.SliderThumb,style:{...t.noRange&&t.value==0&&{borderColor:t.trackColor}}})]})}function $B(t){return kr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.003 7.754a.75.75 0 0 1 .75-.75h5.232a.75.75 0 0 1 .53 1.28l-2.776 2.777c.55.097 1.057.253 1.492.483.905.477 1.504 1.284 1.504 2.418 0 .966-.471 1.75-1.172 2.27-.687.511-1.587.77-2.521.77-1.367 0-2.274-.528-2.667-.756a.75.75 0 0 1 .755-1.297c.331.193.953.553 1.912.553.673 0 1.243-.188 1.627-.473.37-.275.566-.635.566-1.067 0-.5-.219-.836-.703-1.091-.538-.284-1.375-.443-2.471-.443a.75.75 0 0 1-.53-1.28l2.643-2.644h-3.421a.75.75 0 0 1-.75-.75ZM7.88 15.215a1.4 1.4 0 0 0-1.446.83.75.75 0 0 1-1.37-.61 2.899 2.899 0 0 1 2.986-1.71c.589.06 1.139.323 1.557.743.434.446.685 1.058.685 1.778 0 1.641-1.254 2.437-2.12 2.986-.538.341-1.18.694-1.495 1.273H9.75a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75c0-1.799 1.337-2.63 2.243-3.21 1.032-.659 1.55-1.031 1.55-1.8 0-.355-.116-.584-.26-.732a1.071 1.071 0 0 0-.652-.298Zm.234-13.121a.75.75 0 0 1 .386.656V9h1.252a.75.75 0 0 1 0 1.5H5.75a.75.75 0 0 1 0-1.5H7V4.103l-.853.533a.749.749 0 1 1-.795-1.272l2-1.25a.749.749 0 0 1 .762-.02Z"},child:[]}]})(t)}function RB(t){return kr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 4l10 16"},child:[]},{tag:"path",attr:{d:"M17 4l-10 16"},child:[]}]})(t)}function LB(t){return kr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 17m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M7 7m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M6 18l12 -12"},child:[]}]})(t)}const Zi="inspector.play.controls.",dA=Mn({partCard:{padding:"12px 0",borderBottom:"1px solid #0004"},labelLine:{fontSize:"16px",display:"flex",flexDirection:"row",alignContent:"middle"},partLabel:{flex:"auto",whiteSpace:"nowrap",flexBasis:0,overflowX:"hidden",tableLayout:"fixed",display:"block"},partLabelIn:{display:"inline-block",verticalAlign:"middle",width:"100%"},volumeLine:{fontSize:"16px",display:"flex",flexDirection:"row",padding:"8px 0"},miscLine:{display:"flex",flexDirection:"row",fontSize:"15px"},controlLabel:{paddingRight:"0.4em"},controlValue:{padding:"0 0.4em"},saveCard:{padding:"12px 0"},saveButton:{flexBasis:0,flex:1,fontSize:"15px !important"},hint:{paddingBottom:"0.8em",fontSize:"14px",opacity:.6,lineHeight:1.5}}),NB=V.memo(t=>{const e=dA(),{language:n}=V.useContext(zt),r=He((i,o)=>{const s={...t.data,[i]:{...t.data[i],control:o}};t.setData(s)});return U.jsxs(U.Fragment,{children:[er(t.data,(i,o)=>U.jsx(PB,{signature:i.signature,partData:i.control,setPartData:r,playing:t.playing},o)),U.jsxs("div",{className:e.saveCard,children:[U.jsx("div",{className:e.hint,children:Me.editorText(n,`${Zi}prefab.hint`)}),U.jsxs(yp,{children:[U.jsx(Qt,{classes:[e.saveButton],onClick:t.onSaveData,children:Me.editorText(n,`${Zi}prefab.save`)}),U.jsx(is,{}),U.jsx(Qt,{disabled:t.playing||!t.canLoadData,classes:[e.saveButton],onClick:t.onLoadData,children:Me.editorText(n,`${Zi}prefab.load`)})]})]})]})}),PB=V.memo(t=>{const{language:e,colorScheme:n}=V.useContext(zt),{partData:r}=t,i=dA(),o=r.type=="beatMachine";function s(a){t.setPartData(t.signature.hash,a)}function l(a){if(o)return;const u=r.octave+a;Math.abs(u)>gs.maxOctave||s({...r,octave:u})}return U.jsxs("div",{className:i.partCard,children:[U.jsxs("div",{className:i.labelLine,children:[U.jsx("div",{className:i.partLabel,style:{...o&&{fontStyle:"italic"}},children:U.jsx("span",{className:i.partLabelIn,children:IB(e,t.signature)})}),U.jsx("div",{style:{display:"table",paddingRight:"0.4em",paddingLeft:"0.4em",flex:0},children:U.jsx("div",{style:{display:"table-cell",verticalAlign:"middle"},children:U.jsx(u_,{style:{width:"100px",fontSize:"18px"},highlightColor:n.positive,trackColor:n.voidaryHover,thumbColor:"white",hoverColor:n.voidary,activeColor:n.voidaryHover,min:-1,max:1,step:.25,value:r.pan,onChange:a=>{s({...r,pan:a})},noRange:!0,onRootKeyDown:a=>{a.stopPropagation()}})})}),U.jsx(Qt,{selected:r.mute,onClick:()=>{s({...r,mute:!r.mute,solo:r.solo&&r.mute})},style:{borderRight:"none"},mini:!0,children:"M"}),U.jsx(Qt,{selected:r.solo,onClick:()=>{s({...r,mute:r.mute&&r.solo,solo:!r.solo})},style:{borderLeft:"none"},mini:!0,children:"S"})]}),U.jsxs("div",{className:i.volumeLine,children:[U.jsx(u_,{style:{flex:"auto",fontSize:"18px"},highlightColor:n.positive,trackColor:n.voidaryHover,thumbColor:"white",hoverColor:n.voidary,activeColor:n.voidaryHover,min:0,max:gs.maxVolume,step:5,value:r.volume,onChange:a=>{s({...r,volume:a})},onRootKeyDown:a=>{a.stopPropagation()}}),U.jsx("div",{style:{display:"table",flex:0,flexBasis:"2.4em"},children:U.jsx("span",{style:{display:"table-cell",textAlign:"right"},children:r.volume})})]}),U.jsxs("div",{className:i.miscLine,children:[U.jsxs("span",{style:{flexBasis:0,flex:3},children:[!o&&U.jsxs("span",{style:{marginRight:"0.2em"},children:[U.jsx($B,{style:{fontSize:"1.2em",transform:"translateY(0.2em)",marginLeft:"-0.1em"}}),U.jsx(Rf,{mini:!0,items:er(Dl,(a,u)=>({value:u,label:Me.editorText(e,`${Zi}instrument.${u}`)})),onChange:a=>s({...r,tonicInstrument:a}),itemFontSize:"14px",value:r.tonicInstrument,style:{minWidth:"4.8em",marginRight:"0.4em"},disabled:t.playing})]}),U.jsxs("span",{children:[U.jsx(RB,{style:{fontSize:"1.2em",transform:"translateY(0.2em)",marginLeft:"-0.2em"}}),U.jsx(Rf,{mini:!0,items:er(na,(a,u)=>({value:u,label:Me.editorText(e,`${Zi}instrument.${u}`)})),onChange:a=>s({...r,drumlineInstrument:a}),itemFontSize:"14px",value:r.drumlineInstrument,style:{minWidth:"4.8em",marginRight:"0.4em"},disabled:t.playing})]}),o&&U.jsxs("span",{children:[U.jsx(LB,{style:{fontSize:"1.2em",transform:"translateY(0.2em)"}}),U.jsx(Rf,{mini:!0,items:gs.moduloList().map(a=>({value:""+a,label:""+a})),onChange:a=>s({...r,beatModulo:+a}),itemFontSize:"14px",value:""+r.beatModulo,style:{minWidth:"4.8em",paddingRight:"0.4em"},disabled:t.playing})]})]}),!o&&U.jsxs("span",{style:{},children:[U.jsx("span",{className:i.controlLabel,children:Me.editorText(e,`${Zi}octave`)}),U.jsx(Qt,{onClick:()=>l(-1),mini:!0,children:"-"}),U.jsx("span",{className:i.controlValue,children:(r.octave<0?"-":"+")+Math.abs(r.octave)}),U.jsx(Qt,{onClick:()=>l(1),mini:!0,children:"+"})]})]})]})});function OB(t,e){if(e.type=="beatMachine")return Me.editorText(t,`${Zi}part.beat_machine`);if(e.type=="titled"){let n="";const r=e.value;return r.type=="scriptedText"?n=r.text+"_"+r.sub:n=r.text,Me.editorText(t,`${Zi}part.titled`,n)}return Me.editorText(t,`${Zi}part.untitled`,""+(e.value+1))}function IB(t,e){const n=OB(t,e);return e.type!="beatMachine"&&e.head=="Na"?n+Me.editorText(t,`${Zi}part.accompany`):n}class DB{constructor(){ge(this,"disposed",!1);ge(this,"now",0);ge(this,"visualLatency",0);this.resetTime()}static init(){}resetTime(){this.now=Lu(),this.visualLatency=Math.max(0,tr().lookAhead*1e3)}schedule(e,n,r=!1){tr().setTimeout(()=>{this.disposed||e(this.now+n/1e3)},this.now+n/1e3-Lu()+(r?this.visualLatency:0)/1e3)}dispose(){this.disposed=!0}}var Fl;(t=>{function e(l){return["1","2","3","4","5","6","7"].includes(l.char)}t.isTonicNote=e;function n(l){return["X","Y","Z"].includes(l.char)}t.isDrunlimeNote=n;function r(l,a,u){return u+[-1,0,2,4,5,7,9,11][+l.char]+l.octave*12+l.finalDelta+(isNaN(a.base.value)?0:a.base.value)}t.getPitchValue=r;function i(l){const a=l.qpm,u=l.beats,c=60*1e3/a,h=c*4,f=h/u.value.y,p=Math.floor(ne.toFloat(ne.div(l.lengthQuarters,ne.create(4,u.value.y))));return{qpm:a,beats:u,quarterLength:c,fullNoteLength:h,beatNoteLength:f,maxBeatPoints:p}}t.interceptBeats=i;function o(l,a,u,c,h,f,p){const d=i(a),g=c("beatMachine"),m=h("beatMachine");if(!g||!m)return;const{beats:v,maxBeatPoints:b,beatNoteLength:C}=d;g.drumlineInstrument.now=l;for(let x=0;x<(v.value.x==0?b:Math.min(b,v.value.x));x++)f&&f(C*x/u,x),p&&p(C*(x+1)/u,x),!(m&&m.type=="beatMachine"&&v.value.y>4&&x%m.beatModulo!=0)&&g.drumlineInstrument.scheduleNote(x==0?"X":"Y",C*x/u,C/u)}t.scheduleBeatMachine=o;function s(l,a,u,c,h,f,p,d){const g=i(a),{quarterLength:m}=g;Lt.handleSequenceNotes(a,(v,b)=>{const C=h(b),x=f(b);if(!C||!x||C.type=="beatMachine"||x.type=="beatMachine")return;C.drumlineInstrument.now=l,C.tonicInstrument.now=l;const _=v.props;return w=>{const y=m*ne.toFloat(w.startPos)/u,S=m*ne.toFloat(w.length)/u;if(p&&p(y,w),d&&d(y+S,w),w.type!="note"||w.voided)return;const A=w.char;if(e(A)){const R=440*2**((r(A,_,c+x.octave*12)-9)/12);C.tonicInstrument.scheduleNote(R,y,S)}else n(A)&&C.drumlineInstrument.scheduleNote(A.char,y,S)}})}t.scheduleNotes=s})(Fl||(Fl={}));var mi;(t=>{function e(s,l){for(let a in l){const u=l[a].control;u.type=="beatMachine"?s[a]={type:"beatMachine",drumlineInstrument:new na[u.drumlineInstrument]}:s[a]={type:"part",drumlineInstrument:new na[u.drumlineInstrument],tonicInstrument:new Dl[u.tonicInstrument]}}}t.createInstruments=e;function n(s,l){for(let a in s){const u=s[a].control;u.type=="beatMachine"?na[u.drumlineInstrument].load(l):(na[u.drumlineInstrument].load(l),Dl[u.tonicInstrument].load(l))}}t.loadInstruments=n;function r(s,l,a){var h,f;let u=!1;for(let p in l){const d=(h=l[p])==null?void 0:h.control;if(!d)return;d.solo&&(u=!0)}const c=s;for(let p in c){const d=(f=l[p])==null?void 0:f.control,g=c[p];if(!d)return;t.tuneInstrument(g.drumlineInstrument,d,u,a),g.type!="beatMachine"&&t.tuneInstrument(g.tonicInstrument,d,u,a)}}t.updateInstruments=r;function i(s,l,a,u){return(!a||l.solo)&&!l.mute||l.type=="beatMachine"&&u?s.setVolume(l.volume/gs.maxVolume):s.setVolume(0),s.setPan(l.pan),s}t.tuneInstrument=i;function o(s){for(let l in s){const a=s[l];a.drumlineInstrument.dispose(),a.type!="beatMachine"&&a.tonicInstrument.dispose()}}t.clearInstruments=o})(mi||(mi={}));const FB=V.memo(t=>{const e=V.useRef({}),n=V.useRef(),r=V.useRef(Si(12));let{iterationIndex:i,sectionIndex:o,preSection:s}=t;const{prefs:l}=V.useContext(zt);V.useEffect(()=>()=>{var w;(w=n.current)==null||w.dispose()},[]);const a=He(t.updateNoteHighlight),u=V.useRef({}),c=He(()=>{u.current={}}),h=He(w=>{u.current[w]=!0}),f=He(w=>{delete u.current[w]}),p=He(()=>{a(er(u.current,(w,y)=>y))}),d=He(()=>{t.setPlaying(!1)}),g=He(w=>{let y=r.current=Si(12);Sl().then(()=>{m(),Nu().then(()=>{y==r.current&&(w||(c(),p()),v(),x(Lu(),s,i,o))})})}),m=He(()=>{mi.loadInstruments(t.controlData,l.instrumentSourceUrl)}),v=He(()=>{n.current=new DB,e.current={},mi.createInstruments(e.current,t.controlData),mi.updateInstruments(e.current,t.controlData,s)}),b=He(()=>{r.current=Si(12),n.current&&n.current.dispose(),mi.clearInstruments(e.current),c(),p()});V.useEffect(()=>{t.playing&&d()},[t.sequence,d]),V.useEffect(()=>{t.playing==!0?g(s):b()},[b,g,t.playing]),kC(()=>()=>{d(),b()}),V.useEffect(()=>{mi.updateInstruments(e.current,t.controlData,s)},[t.controlData,s]);const C=He((w,y)=>Lt.findSectionInSequence(t.sequence,w,y)),x=He((w,y,S,A)=>{const M=C(S,A).section;if(!M){d();return}Fl.scheduleBeatMachine(w,M,t.speedModifier,R=>e.current[R],R=>{var k;return(k=t.controlData[R])==null?void 0:k.control}),n.current.now=w,y||Fl.scheduleNotes(w,M,t.speedModifier,t.pitchModifier,R=>e.current[R],R=>{var k;return(k=t.controlData[R])==null?void 0:k.control},(R,k)=>n.current.schedule(()=>{h(k.uuid),p()},R,!0),(R,k)=>n.current.schedule(()=>{f(k.uuid),p()},R,!0)),n.current.schedule(R=>{t.playing&&_(R)},M.lengthMillis/t.speedModifier)}),_=He(w=>{if(n.current.now=w,s)s=!1,n.current.schedule(()=>{t.setPreSection(s)},0,!0),c(),p(),mi.updateInstruments(e.current,t.controlData,s);else{const y=C(i,o).next;if(y===void 0){n.current.schedule(()=>{d()},0);return}i=y[0],o=y[1],n.current.schedule(()=>{t.setIterationIndex(i),t.setSectionIndex(o)},0,!0)}x(w,s,i,o)});return U.jsx(U.Fragment,{})}),WB="modulepreload",jB=function(t,e){return new URL(t,e).href},h_={},BB=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),a=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=jB(u,r),u in h_)return;h_[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const g=s[d];if(g.href===u&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":WB,c||(p.as="script"),p.crossOrigin="",p.href=u,a&&p.setAttribute("nonce",a),document.head.appendChild(p),c)return new Promise((d,g)=>{p.addEventListener("load",d),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};var Ou;(t=>{function e(i){return{sampleRate:i.sampleRate,channelCount:i.numberOfChannels,data:Array(i.numberOfChannels).fill(0).map((o,s)=>i.getChannelData(s))}}t.unpackBuffer=e;async function n(){return(await BB(async()=>{const{encoder:o}=await import("./index-w6uqmlxM.js").then(s=>s.i);return{encoder:o}},[],import.meta.url)).encoder}t.getVorbisEncoder=n;async function r(i,o=1){const s=Math.min(1,Math.max(0,o)),l=await n(),a=new l(i.sampleRate,i.channelCount,s*2-1,{});a.encodeFrom({getChannelData:h=>i.data[h]});const c=await a.finish().arrayBuffer();return new Uint8Array(c)}t.encodeVorbis=r})(Ou||(Ou={}));var zB=0;function pA(t,e){var n=e.data;if(!(!Array.isArray(n)||n.length<2)){var r=n[0],i=n[1],o=n[2],s=t._callbacks[r];s&&(delete t._callbacks[r],s(i,o))}}function gA(t){var e=this;e._worker=t,e._callbacks={},t.addEventListener("message",function(n){pA(e,n)})}gA.prototype.postMessage=function(t){var e=this,n=zB++,r=[n,t];return new Promise(function(i,o){if(e._callbacks[n]=function(l,a){if(l)return o(new Error(l.message));i(a)},typeof e._worker.controller<"u"){var s=new MessageChannel;s.port1.onmessage=function(l){pA(e,l)},e._worker.controller.postMessage(r,[s.port2])}else e._worker.postMessage(r)})};var HB=gA;const VB=Wl(HB);class UB{constructor(e,n,r){ge(this,"sequence");ge(this,"speedModifier");ge(this,"pitchModifier");ge(this,"startingPoint",[0,0]);ge(this,"repo",{});ge(this,"controlData",{});ge(this,"indexes",[]);this.sequence=e,this.speedModifier=n,this.pitchModifier=r}init(e,n){const r=[e?0:1,-1],i=Lt.findSectionInSequence(this.sequence,r[0],r[1],!0);return i.next?(this.startingPoint=i.next,this.controlData=n,this.indexes=[],!0):!1}async render(e,n){await Sl(),mi.loadInstruments(this.controlData,e),await Nu();const r=this.setSectionIndexes();let i;const s=(await qk(l=>{mi.createInstruments(this.repo,this.controlData),mi.updateInstruments(this.repo,this.controlData,!1),this.renderSections(),n&&n(0,r);const a=l.rawContext;i=setInterval(()=>{const u=a.currentTime*1e3;r==0?n&&n(1,1):n&&n(Math.min(u,r),r),a.state=="closed"&&clearInterval(i)},250)},.5+r/1e3+1)).get();return n&&n(r,r),i&&clearInterval(i),s}setSectionIndexes(){this.indexes=[];let e=0,n=this.startingPoint;for(;;){let r=Lt.findSectionInSequence(this.sequence,n[0],n[1]);if(r.section&&(e+=r.section.lengthMillis/this.speedModifier,this.indexes.push({section:r.section,ptr:n})),!r.next)break;n=r.next}return e}renderSections(){let e=500;for(let n of this.indexes){const{section:r}=n;this.renderSection(e,r),e+=r.lengthMillis/this.speedModifier}}renderSection(e,n){Fl.scheduleBeatMachine(e/1e3,n,this.speedModifier,r=>this.repo[r],r=>{var i;return(i=this.controlData[r])==null?void 0:i.control}),Fl.scheduleNotes(e/1e3,n,this.speedModifier,this.pitchModifier,r=>this.repo[r],r=>{var i;return(i=this.controlData[r])==null?void 0:i.control})}}function GB(t){return new Worker(""+new URL("audio-encode-D1m-M7So.js",import.meta.url).href,{type:"module",name:t==null?void 0:t.name})}var ay;(t=>{function e(n,r,i,o,s,l,a,u){let c=()=>{};const h=()=>{c()};return{promise:(async()=>{const p=new UB(n,i,o);if(!p.init(s==0,r))return;const d=await p.render(l,(C,x)=>{u(C,x)});if(!d)return;const g=Ou.unpackBuffer(d);if(!a())return;const m=new GB,v=new VB(m);c=()=>{m.terminate()};const b=await v.postMessage(g);if(m.terminate(),c=()=>{},!!a())return b})(),cancel:h}}t.renderAudio=e})(ay||(ay={}));function qB(t){return kr({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M99.06,128.61a8,8,0,0,0-8.72,1.73L68.69,152H48a8,8,0,0,0-8,8v40a8,8,0,0,0,8,8H68.69l21.65,21.66A8,8,0,0,0,104,224V136A8,8,0,0,0,99.06,128.61ZM88,204.69,77.66,194.34A8,8,0,0,0,72,192H56V168H72a8,8,0,0,0,5.66-2.34L88,155.31ZM152,180a40.55,40.55,0,0,1-20,34.91A8,8,0,0,1,124,201.09a24.49,24.49,0,0,0,0-42.18A8,8,0,0,1,132,145.09,40.55,40.55,0,0,1,152,180Zm61.66-97.66-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40v80a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216H168a8,8,0,0,0,0,16h32a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160Z"},child:[]}]})(t)}const KB=Mn({headroom:{flexShrink:0,borderBottom:"1px solid #0004",padding:"12px"},contentroom:{flex:"auto",overflowY:"auto",display:"flex",flexDirection:"column",height:0},modifierRoom:{flexShrink:0,borderBottom:"1px solid #0004",padding:"12px",display:"flex",flexDirection:"row","&>div":{flex:"auto",flexBasis:0},fontSize:"15px"},selectorRoom:{flexShrink:0,paddingTop:"12px"},overviewRoom:{flexShrink:0,borderBottom:"1px solid #0004",fontSize:"12px"},controlRoom:{flexShrink:0,padding:"0 12px",fontSize:"12px"}});function f_(t,e){const n={},r={};function i(o){const s=o.hash;n[s]||(n[s]=!0,e&&e[s]?r[s]={...e[s],signature:o}:(r[s]={control:o.type=="beatMachine"?{...Jk}:{...Zk},signature:o},o.type!="beatMachine"&&o.head=="Na"&&(r[s].control.drumlineInstrument="drum")))}i({type:"beatMachine",hash:"beatMachine"});for(let o of t.sequenced.score.articles)if(o.type=="music")for(let s of o.parts)i(s.signature);return r}const YB=dt.memo(function(t){const{prefs:e,language:n,colorScheme:r}=V.useContext(zt),i=KB(),o=V.useRef(null),[s,l,a]=V.useMemo(()=>[t.result.sequenced.score.articles.map((Se,Be)=>Be).filter(Se=>t.result.sequenced.score.articles[Se].type=="music"),t.result.sequenced.score.articles,t.result.sequenced.sequence],[t.result]),[u,c]=V.useState(!1),h=He(Se=>{c(Se)}),[f,p]=V.useState(!1),d=He(p),[g,m]=V.useState(!0),[v,b]=V.useState(1),[C,x]=V.useState(0),[_,w]=V.useState(-1),y=He(w),[S,A]=V.useState(-1),M=He(A),[R,k]=V.useState(-1),$=He(k),[E,L]=V.useState(()=>f_(t.result)),P=He(()=>E),I=He(Se=>{L(Se)}),D=He(L),{exporting:W,setExporting:z,exportProgress:G,setExportProgress:Z}=t,q=He(()=>W);He(()=>G),V.useMemo(()=>{I(f_(t.result,P()))},[t.result,I,P]);const X=V.useRef(null),Y=V.useRef(+new Date);V.useEffect(()=>{X.current=null,Y.current=+new Date},[t.result]);const ee=He(Se=>{Se.length>0&&(X.current=Se[Se.length-1],g&&+new Date-Y.current>=500&&t.onAutoScroll(X.current)),t.onNoteHighlightUpdate(Se)}),re=He(Se=>{t.onTogglePicker(Se)});V.useEffect(()=>()=>{ee([]),re(!1)},[ee,re]);const[ie,ue]=V.useMemo(()=>{let Se=_;if(s.indexOf(Se)==-1){if(s.length==0)return[void 0,void 0];w(Se=s[0])}const Be=l[Se];return Be.type!="music"?[void 0,void 0]:[Be,a[Se]]},[l,s,_,a]),he=V.useMemo(()=>{if(!ue)return;let Se=S;if(Se<0||Se>=ue.iterations.length){if(ue.iterations.length==0)return;A(Se=1)}return ue.iterations[Se]},[S,ue]),[_e,Te]=V.useMemo(()=>{if(!he)return[void 0,-1];let Se=R,Be=0;for(let ze of he.sections){if(ze.index==Se)return[ze,Be];Be+=1}return he.sections.length==0?[void 0,-1]:(k(Se=he.sections[0].index),[he.sections[0],0])},[he,R]),tt=He(()=>{if(!_e){ee([]);return}const Se=[];for(let Be in _e.parts){const ze=_e.parts[Be];if(ze.section.type=="section")for(let Ye of ze.section.notes)Se.push(Ye.uuid)}ee(Se)});V.useEffect(()=>{u||tt()},[_e,tt,u]);const ot=V.useRef(null);V.useEffect(()=>{if(ot.current){const Se=ot.current,Be=Hi.findChildrenWithAttr(Se,"data-index",S);if(!Be)return;Hi.smoothScrollFor(Se,Be,"left")}},[S]);const we=V.useRef(null);V.useEffect(()=>{if(we.current){const Se=we.current,Be=Hi.findChildrenWithAttr(Hi.findChildrenWithAttr(Hi.findChildrenWithAttr(Se,"data-tag","container"),"data-tag","containerIn"),"data-index",R);if(!Be)return;Hi.scrollToMakeVisible(Se,Be,"top",-32,.4)}},[R]),t.getPickReporter.current=(Se,Be)=>{const ze=Lt.locateSection(a,Se,S,Be.idCard.uuid);Y.current=+new Date,w(ze.article),A(ze.iteration),k(ze.section),o.current&&o.current.focus()};const Ae="SparksNMN.MIDIPlay.MixingConfig",st=He(()=>{const Se=kf.writeMeta(t.code,Ae,gs.dehydrate(E),Me.editorText(n,"inspector.play.controls.remark"));Se!=t.code&&t.setCode(Se)}),qe=He(()=>{const Se=kf.readMeta(t.code,Ae);Se&&L(gs.revive(E,Se))}),Ue=V.useMemo(()=>kf.hasMeta(t.code,Ae),[t.code]);kC(()=>{Ue&&qe()});function _t(Se){h(!0),d(Se),t.onTogglePicker(!1)}function Jt(){c(!1),p(!1)}function At(){M(1),$(0)}function an(){g||X.current!==null&&t.onAutoScroll(X.current),m(Se=>!Se)}const yn=He(Se=>{u&&ee(Se)}),Re=V.useRef(()=>{});async function de(){if(W){Le();return}if(!ue)return;const Se=Si(12);z(Se),Z([0,1]);const Be=t.onExportFinish,ze=ay.renderAudio(ue,E,v,C,S,e.instrumentSourceUrl,()=>Se==q(),(rt,ln)=>{Se==q()&&Z([rt,ln])});Re.current=ze.cancel;const Ye=await ze.promise;z(""),Re.current=()=>{},Ye&&(c(!1),Be&&Be(Ye))}async function Le(){Re.current(),z("")}let Oe=(G[0]/G[1]*100).toFixed(0);Oe=="100"?Oe=Me.editorText(n,"inspector.play.render.progress.encoding"):Oe=Me.editorText(n,"inspector.play.render.progress.rendering",Oe);const at=Se=>{let Be=!0;if(!Se.ctrlKey&&(Se.key=="ArrowLeft"||Se.key=="ArrowRight")){Se.preventDefault();const ze=Se.key=="ArrowLeft"?-1:1;if(Se.shiftKey){const Ye=S+ze;if(!ue||Ye<0||Ye>=ue.iterations.length)return;A(Ye)}else{const Ye=Te+ze;if(!he||Ye<0||Ye>=he.sections.length)return;k(he.sections[Ye].index)}}else!Se.ctrlKey&&Se.key.toLowerCase()=="r"?At():!Se.ctrlKey&&Se.key.toLowerCase()=="a"?an():!Se.ctrlKey&&Se.key.toLowerCase()=="k"?u?c(!1):Ke&&(c(!0),p(!1)):Be=!1;Be&&o.current&&o.current.focus()},Ke=e.instrumentSourceUrl!==void 0&&_e!==void 0;return U.jsxs("div",{style:{flex:"auto",display:"flex",flexDirection:"column"},onKeyDown:at,ref:o,tabIndex:0,children:[U.jsx(FB,{playing:u,setPlaying:h,preSection:f,setPreSection:d,sequence:ue,controlData:E,iterationIndex:S,setIterationIndex:M,sectionIndex:R,setSectionIndex:$,speedModifier:v,pitchModifier:C,updateNoteHighlight:yn}),U.jsx("div",{className:i.headroom,style:{...!e.isMobile&&{borderBottom:"none",paddingBottom:0}},children:U.jsxs(yp,{children:[U.jsx(Qt,{title:Me.editorText(n,"inspector.play.play"),onClick:()=>_t(!1),selected:u&&!f,disabled:u&&f||!Ke,children:U.jsx(YO,{style:{transform:"translateY(0.13em)"}})}),U.jsx(is,{}),U.jsx(Qt,{title:Me.editorText(n,"inspector.play.play_pre"),onClick:()=>_t(!0),selected:u&&f,disabled:u&&!f||!Ke,children:U.jsx(UO,{style:{transform:"translateY(0.13em)"}})}),U.jsx(is,{}),U.jsx(Qt,{title:Me.editorText(n,"inspector.play.pause"),onClick:()=>Jt(),selected:!u,children:U.jsx(GO,{style:{transform:"translateY(0.13em)"}})}),U.jsx(is,{}),U.jsx(Qt,{title:Me.editorText(n,"inspector.play.stop"),onClick:()=>At(),children:U.jsx(QO,{style:{transform:"translateY(0.13em)"}})}),U.jsx(is,{}),U.jsx(Qt,{title:Me.editorText(n,"inspector.play.auto_scroll"),selected:g,onClick:()=>an(),children:U.jsx(qO,{style:{transform:"translateY(0.13em)"}})}),U.jsx(lF,{}),U.jsxs(Qt,{onClick:()=>de(),selected:W!="",disabled:!Ke&&!W,style:{fontSize:"15px"},title:W?Me.editorText(n,"inspector.play.render.tooltip.progress"):Me.editorText(n,"inspector.play.render.tooltip.idle"),children:[U.jsx("span",{style:{paddingRight:"0.4em"},children:W?Oe:Me.editorText(n,"inspector.play.render.idle")}),U.jsx(qB,{style:{transform:"translateY(0.1em) scale(1.1)",fontSize:"1.2em"}})]})]})}),U.jsxs("div",{className:i.contentroom,style:{...!e.isMobile&&{flexShrink:0,height:"",overflowY:"hidden"}},children:[U.jsx("div",{className:i.modifierRoom,children:U.jsx(uF,{speed:v,pitch:C,onSpeedChange:b,onPitchChange:x})}),U.jsxs("div",{className:i.selectorRoom,children:[U.jsx(hF,{articles:l,sequence:a,value:_,onChange:y,pickingSections:t.pickingSections,onTogglePicker:()=>re(!t.pickingSections),playing:u}),ie&&U.jsx(dF,{article:ie,sequence:ue,value:S,onChange:M,ref:ot})]}),U.jsx("div",{ref:we,className:i.overviewRoom,style:{...!e.isMobile&&{flex:3,height:0,overflowY:"auto"}},children:ie&&he&&U.jsx(gF,{article:ie,iteration:he,value:R,onChange:$})}),U.jsx("div",{className:i.controlRoom,style:{...!e.isMobile&&{flex:4,height:0,overflowY:"auto"}},children:U.jsx(NB,{data:E,setData:D,onSaveData:st,onLoadData:qe,canLoadData:Ue,playing:u})})]})]})}),QB=Mn({root:{padding:"12px",overflowY:"auto"}}),hf="inspector.instrument_test.",d_="inspector.play.controls.instrument.";function XB(){const t=QB(),{prefs:e,language:n}=V.useContext(zt),r=e.instrumentSourceUrl;function i(l,a){Sl().then(()=>{a.load(r),Nu().then(()=>{const u=new a;u.setPan(0),u.scheduleNote(l,0,250)})})}function o(l,a){Sl().then(()=>{a.load(r),Nu().then(()=>{new a().scheduleNote(l,0,250)})})}function s(){Sl().then(async()=>{const a=(await qk(()=>{new Xk().scheduleNote(440,0,5)},5)).get();if(!a)return;const u=await Ou.encodeVorbis(Ou.unpackBuffer(a)),c=new Blob([u],{type:"audio/ogg"}),h=URL.createObjectURL(c);window.open(h),setTimeout(()=>{URL.revokeObjectURL(h)},1e4)})}return U.jsxs("div",{className:t.root,children:[U.jsx("div",{style:{marginBottom:"12px",fontWeight:"bold"},children:Me.editorText(n,`${hf}tonic`)}),er(Dl,(l,a)=>{if(l!==null)return U.jsxs("div",{style:{marginBottom:"12px"},children:[U.jsx("span",{style:{paddingRight:"0.4em"},children:Me.editorText(n,`${d_}${a}`)}),[131,220,262,440,524].map(u=>U.jsx(Qt,{style:{marginRight:"8px"},small:!0,onMouseDown:()=>i(u,l),children:u},u))]},a)}),U.jsx("div",{style:{marginBottom:"12px",fontWeight:"bold"},children:Me.editorText(n,`${hf}drumline`)}),er(na,(l,a)=>{if(l!==null)return U.jsxs("div",{style:{marginBottom:"12px"},children:[U.jsx("span",{style:{paddingRight:"0.4em"},children:Me.editorText(n,`${d_}${a}`)}),["X","Y","Z"].map(u=>U.jsx(Qt,{style:{marginRight:"8px"},small:!0,onMouseDown:()=>o(u,l),children:u},u))]},a)}),U.jsx("div",{style:{marginBottom:"12px",fontWeight:"bold"},children:Me.editorText(n,`${hf}offline`)}),U.jsx(Qt,{style:{marginRight:"8px"},small:!0,onMouseDown:()=>s(),children:"Test"}),U.jsx("div",{style:{marginTop:"24px",fontStyle:"italic"},children:Me.editorText(n,`${hf}comment`)})]})}const ZB=Mn({group:{width:"100%",display:"flex",flexDirection:"row",height:"100%"},progressBarWrapper:{flex:"auto",minWidth:"50px",padding:"8px 0",paddingRight:"8px"},progressBarOuter:{height:"100%",background:"#3333",position:"relative"},progressBarInner:{height:"100%",width:"50%",background:"#333",position:"absolute"}});function JB(t){const{language:e,prefs:n,colorScheme:r}=V.useContext(zt),i=ql(r),o=ZB(),s="status.exporting.",l=Math.min(100,Math.max(0,t.exportProgress[0]/t.exportProgress[1]*100));return U.jsx("div",{className:o.group,children:t.exporting!=""&&U.jsxs(U.Fragment,{children:[U.jsx("button",{type:"button",disabled:!0,className:i.pill,children:l==100?Me.editorText(e,`${s}encoding`):Me.editorText(e,`${s}rendering`)}),U.jsx("div",{className:o.progressBarWrapper,children:U.jsx("div",{className:o.progressBarOuter,children:U.jsx("div",{className:o.progressBarInner,style:{width:l+"%"}})})})]})})}const ez=Mn({keyGroup:{marginBottom:"12px",display:"table",borderCollapse:"collapse",tableLayout:"fixed",width:"100%"},keyLine:{},keyCell:{padding:0,border:"1px solid #0003"}});function p_(t){const e=ez(),n=V.useRef(null);function r(){for(let o=0;o<t.buttons.length;o++){let s=t.buttons[o];for(let l=0;l<s.length;l++)if(s[l].value==t.value)return[o,l]}}function i(o){if(!o.ctrlKey){let s=!0;o.key==" "?t.onSelect(t.value):o.key=="Delete"?t.deleteValue!==void 0&&t.onSelect(t.deleteValue):(()=>{const l={ArrowUp:[-1,0],ArrowDown:[1,0],ArrowLeft:[0,-1],ArrowRight:[0,1]}[o.key];if(l===void 0){s=!1;return}let a=r();a===void 0?a=[0,0]:a=[a[0]+l[0],a[1]+l[1]];let u=t.buttons[a[0]];for(;u&&a[1]>=u.length;)a[0]+=1,u=t.buttons[a[0]],a[1]=0;for(;u&&a[1]<0;)a[0]-=1,u=t.buttons[a[0]],u&&(a[1]=u.length-1);let c=u&&u[a[1]];c&&t.onSelect(c.value)})(),s&&(o.preventDefault(),n.current&&n.current.focus())}}return U.jsx("table",{ref:n,className:e.keyGroup,tabIndex:0,onKeyDown:i,children:U.jsx("tbody",{children:t.buttons.map((o,s)=>U.jsx("tr",{className:e.keyLine,children:o.map((l,a)=>U.jsx("td",{className:e.keyCell,children:U.jsx(Qt,{small:!0,selected:t.value==l.value,style:{minWidth:"0",fontSize:"15px",width:"100%",border:"none"},tabIndex:-1,onMouseDown:()=>t.onSelect(l.value),children:l.label})},a))},s))})})}function tz(){const{colorScheme:t}=V.useContext(zt);return HT(t)}function nz(t){const e=tz(),n=V.useRef(null);function r(){var o;(o=n.current)==null||o.select()}function i(){setTimeout(()=>{var o;(o=n.current)==null||o.select()},0)}return U.jsx("input",{ref:n,onFocus:r,onClick:i,style:{...t.style},className:e.copyInfoBox,type:"text",value:t.value,readOnly:!0})}function vw(){const{colorScheme:t}=V.useContext(zt);return V.useMemo(()=>Mn({container:{padding:"12px",height:"100%",overflowY:"auto"},title:{fontWeight:700,fontSize:"1.08em",marginBottom:"12px",marginTop:"18px",lineHeight:1.35},pline:{marginBottom:"12px",lineHeight:1.35},buttonBoxOuter:{display:"table",height:"240px",width:"100%",border:"2px dashed #0002",boxSizing:"border-box",background:t.voidary,outline:"none","&:focus":{borderColor:"#0004",background:t.voidaryActive},marginBottom:"12px",lineHeight:1.35},buttonBoxInner:{display:"table-cell",textAlign:"center",verticalAlign:"middle",padding:"16px"}}),[t])()}function rz(t){const e="inspector.determine_props.",n=vw(),{language:r}=V.useContext(zt);return U.jsxs("div",{className:n.container,children:[U.jsx("div",{className:n.pline,children:Me.editorText(r,`${e}tips`)}),U.jsx(sz,{}),U.jsx(az,{})]})}function iz(t){const e=oi.absoluteKeysToName(t);return e[0]=="#"||e[0]=="b"?U.jsxs(U.Fragment,{children:[U.jsx("sup",{children:e[0]}),e.substring(1,e.length-1),U.jsx("sub",{children:e.substring(e.length-1)})]}):U.jsxs(U.Fragment,{children:[" ",e.substring(0,e.length-1),U.jsx("sub",{children:e.substring(e.length-1)})]})}function oz(t){const e=oi.relativeKeysToName(t);return e[0]=="#"||e[0]=="b"?U.jsxs(U.Fragment,{children:[U.jsx("sup",{children:e[0]}),e.substring(1)]}):U.jsxs(U.Fragment,{children:[" ",e]})}function sz(t){const e="inspector.determine_props.base.",n=vw(),{prefs:r,colorScheme:i,language:o}=V.useContext(zt),[s,l]=V.useState(NaN),[a,u]=V.useState(NaN),c=He(async f=>{if(l(f),r.instrumentSourceUrl===void 0)return;const p=440*2**((f-9)/12);Pu.load(r.instrumentSourceUrl),await Sl(),await Nu(),new Pu().scheduleNote(p,0,1e3)}),h=He(f=>{u(f)});return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:n.title,children:Me.editorText(o,`${e}title`)}),U.jsx("div",{className:n.pline,children:Me.editorText(o,`${e}tips.1.sound`)}),U.jsx("div",{className:n.pline,children:Me.editorText(o,`${e}tips.1`)}),U.jsx(p_,{value:s,onSelect:c,deleteValue:NaN,buttons:[4,5,6,7,8,9,10,11].map(f=>[0,1,2,3,4,5].map(p=>{const d=6*(f-8)+p;return{label:iz(d),value:d}}))}),!isNaN(s)&&U.jsxs(U.Fragment,{children:[U.jsx("div",{className:n.pline,children:Me.editorText(o,`${e}tips.2`)}),U.jsx(p_,{value:a,onSelect:h,deleteValue:NaN,buttons:[-2,-1,0,1,2,3].map(f=>[0,1,2,3,4,5].map(p=>{const d=6*f+p;return{label:oz(d),value:d}}))})]}),!isNaN(s)&&!isNaN(a)&&U.jsxs(U.Fragment,{children:[U.jsx("div",{className:n.pline,children:Me.editorText(o,`${e}tips.3`)}),U.jsx("div",{className:n.pline,children:U.jsx(nz,{value:"1="+oi.absoluteKeysToName(s-a,!0)})}),U.jsx("div",{className:n.pline,style:{opacity:.6,fontSize:"0.9em"},children:Me.editorText(o,`${e}tips.3.hint`)})]})]})}function az(t){const e="inspector.determine_props.speed.",n=vw(),{colorScheme:r,language:i}=V.useContext(zt),[o,s]=V.useState("idle"),[l,a]=V.useState(NaN),[u,c]=V.useState(NaN),[h,f]=V.useState(0);function p(){o=="idle"&&s("preparing")}function d(){o=="preparing"&&s("idle")}function g(C){C.ctrlKey||(C.key==" "||C.key=="."||C.key=="Enter"?(v(),C.preventDefault()):C.key=="Escape"&&(m("preparing"),C.preventDefault()))}function m(C){s(C),f(0)}function v(){if(o=="preparing"){s("measuring");const C=+new Date;a(C),c(C),f(1)}else if(o=="measuring"){const C=+new Date;c(C),f(x=>x+1)}}const b=h<=1?NaN:(h-1)/(u-l)*1e3*60;return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:n.title,children:Me.editorText(i,`${e}title`)}),U.jsx("div",{className:n.buttonBoxOuter,tabIndex:0,onFocus:p,onBlur:d,onKeyDown:g,onMouseDown:v,children:U.jsxs("div",{className:n.buttonBoxInner,children:[o!="idle"&&U.jsxs("div",{style:{textAlign:"center"},children:[U.jsx("span",{style:{fontSize:"2.5em",fontWeight:700},children:b.toFixed(1)}),"BPM"]}),U.jsxs("div",{style:{textAlign:"center",fontSize:"0.95em"},children:[o=="idle"&&Me.editorText(i,`${e}idle`),o=="preparing"&&Me.editorText(i,`${e}preparing`),o=="measuring"&&Me.editorText(i,`${e}measuring`,h.toFixed(0),((u-l)/1e3).toFixed(2))]})]})}),U.jsx("div",{children:U.jsx(Qt,{style:{width:"100%",fontSize:"16px"},onClick:()=>m("idle"),disabled:o!="measuring",children:Me.editorText(i,`${e}reset`)})})]})}const lz=Mn({editor:{height:"100%",display:"flex",flexDirection:"column","& ::-webkit-scrollbar":{width:"8px",height:"8px"},"& ::-webkit-scrollbar-thumb":{background:"#0004"}},groupStatusBar:{borderTop:"1px solid #0002",height:"28px",whiteSpace:"nowrap",display:"flex",flexDirection:"row"},editorInner:{height:"0",flex:"auto",display:"flex",flexDirection:"row"},editorInnerMobile:{flexDirection:"column"},groupInspector:{width:"360px",height:"100%",borderLeft:"2px solid #0002",flexShrink:"0",overflowY:"hidden",display:"flex",flexDirection:"column"},groupInspectorMobile:{width:"100%",height:0,flex:4,borderLeft:"none",borderTop:"2px solid #0002"},editorInnerInner:{height:"100%",width:"0",display:"flex",flex:"auto",flexDirection:"column",position:"relative"},editorInnerInnerMobile:{height:0,width:"100%",flex:4},groupPreview:{height:0,flex:4,overflowY:"auto",overflowX:"hidden"},groupSeparator:{height:"1px",background:"#0002"},groupEdit:{height:0,flex:3},groupInspectorButton:{display:"block",position:"absolute",width:"42px",height:"42px",textAlign:"center",verticalAlign:"middle",right:"24px",bottom:"24px",fontSize:"24px",zIndex:10},groupInspectorButtonMobile:{width:"36px",height:"36px",fontSize:"20px",right:"24px",bottom:"24px"},inspectorButton:{display:"block",width:"100%",height:"100%",borderRadius:"0",border:"1px solid #0002"},statusBarGroup:{padding:"0 8px",height:"100%",flexGrow:0},statusBarSpacer:{height:"100%",flex:"auto"},hidden:{display:"none"},"@media print":{groupSeparator:{display:"none"},groupEdit:{display:"none"},groupStatusBar:{display:"none"},groupInspectorButton:{display:"none"},groupInspector:{display:"none"},editorInner:{height:"unset"},editorInnerInner:{position:"initial"}}}),mA={voidary:"#F0EEF1",voidaryActive:"#d0ced1",voidaryHover:"#e0dee1",voidarySelected:"#d8d7d9",positive:"#8764b8",positiveHover:"#7851af",positiveActive:"#644392"},vA={fontFamily:"'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', 'Sarasa Mono SC'",fontSize:14.5,autoSave:"off",previewRefresh:"delay2000",showFileSize:"all",fileSizeUnit:"kb",showProcessTime:"on",previewMaxWidth:1e3,previewAlign:"left",displayMode:"split",modifyTitle:void 0,inspectorOpen:!1,importantWarning:void 0,temporarySave:!1,logTimeStat:!1,isMobile:!1,onAudioExport:()=>{}},zt=dt.createContext({language:Me.languages.zh_cn,prefs:vA,colorScheme:mA}),cz=dt.forwardRef((t,e)=>{const n=V.useMemo(()=>({language:t.language,prefs:{...vA,...t.editorPrefs},colorScheme:{...mA,...t.colorScheme}}),[t.colorScheme,t.editorPrefs,t.language]);return U.jsx(zt.Provider,{value:n,children:U.jsx(uz,{ref:e,onRequestSave:t.onRequestSave})})}),uz=dt.forwardRef((t,e)=>{const{language:n,prefs:r,colorScheme:i}=V.useContext(zt),o=V.useMemo(()=>Si(24),[]),s=Me.languages.zh_cn,l=lz(),a=ZO(i),u=V.useRef(null),[c,h]=V.useState(()=>Si(24)),[f,p]=V.useState("split");V.useLayoutEffect(()=>{window.dispatchEvent(new Event("resize"))},[f]);const[d,g]=V.useState(!r.isMobile&&r.inspectorOpen);V.useLayoutEffect(()=>{window.dispatchEvent(new Event("resize"))},[d]);const m=r.previewRefresh;let v="none",b=1e3;m=="realtime"?v="instant":m.startsWith("delay")&&(v="dethrottle",b=+m.substring(5));const C=V.useMemo(()=>_1(b),[b]),x=V.useMemo(()=>_1(50),[]),_="",[w,y]=V.useState(_),[S,A]=V.useState(void 0),[M,R]=V.useState(!1),[k,$]=V.useState(!1),[E,L]=V.useState(void 0),[P,I]=V.useState(0),[D,W]=V.useState(0),[z,G]=V.useState(NaN);function Z(We){let Mt=+new Date;return{result:qi.parse(We),time:+new Date-Mt}}const[q,X]=V.useState(()=>{const We=Z(_);return{result:We.result,timing:We.time}}),Y=He(We=>{if(We===void 0&&!k)return q.result;const Mt=Z(We??w);return X({result:Mt.result,timing:Mt.time}),$(!1),Mt.result});function ee(We){y(We),R(!0),$(!0),x(re)(),v=="instant"?Y(We):v=="dethrottle"&&C(Y)()}const re=He(()=>{var Ot;const We=(Ot=u.current)==null?void 0:Ot.editor;if(!We)return;const Mt=We.session.getValue(),yt=We.getCursorPosition();E&&E.position[1]==yt.column&&E.position[0]==yt.row+1&&E.code==Mt||L({code:Mt,position:[yt.row+1,yt.column]})}),ie=He(We=>{x(re)()}),ue=He((We,Mt)=>{var Ur;const yt=(Ur=u.current)==null?void 0:Ur.editor;if(!yt)return;const Ot=qi.convertPosition(w,We,Mt);yt.clearSelection(),yt.moveCursorTo(Ot.row-1,Ot.col),yt.renderer.scrollCursorIntoView(yt.getCursorPosition()),yt.focus()}),he=f=="preview"?void 0:E;function _e(We){We.key=="Escape"&&ll(u,Mt=>Mt.editor.blur())}function Te(){k&&Y()}const tt=f!="edit",ot=f!="preview"&&(f!="split"||!r.isMobile||!d),we=r.showFileSize,[Ae,st]=V.useState([]),qe=He(st),Ue=V.useRef(null),_t=He(We=>{if(Ue.current){const Mt=Ue.current,yt=xt(".SparksNMN-notehl-"+We)[0];if(!yt)return;const Ot=Hi.iterateForClass(yt,"wcl-equifield-field");Hi.scrollToMakeVisible(Mt,Ot,"top")}}),[Jt,At]=V.useState(!1),an=He(We=>{At(We)}),yn=V.useRef(null),Re=He((We,Mt)=>{At(!1),yn.current&&yn.current(We,Mt)}),[de,Le]=V.useState(""),[Oe,at]=V.useState([0,1]),Ke=He(We=>{r.onAudioExport&&r.onAudioExport(We)}),Se=V.useMemo(()=>U.jsx($O,{result:q.result,onPosition:ue,language:s,cursor:he,onReportSize:W,onReportTiming:I,onReportPages:G,highlightedNotes:Ae,pickingSections:Jt,onPickSection:Re}),[q,Ae,ue,s,he,Jt,Re]),Be=U.jsxs("div",{className:l.editor,children:[U.jsxs("div",{className:`${l.editorInner} ${r.isMobile?l.editorInnerMobile:""}`,children:[U.jsxs("div",{className:`${l.editorInnerInner} ${r.isMobile?l.editorInnerInnerMobile:""}`,children:[U.jsx("div",{ref:Ue,className:`${l.groupPreview} ${tt?"":l.hidden}`,children:Se}),U.jsx("div",{className:`${l.groupSeparator} ${tt&&ot?"":l.hidden}`}),U.jsxs("div",{className:`${l.groupEdit} ${ot?"":l.hidden}`,onKeyDown:_e,children:[U.jsx("style",{children:`
							.${l.groupEdit} .ace_editor, .ace_editor.ace_autocomplete {
								font-family: ${r.fontFamily}
							}
						`}),U.jsx(xO,{name:o,language:s,value:w,onChange:ee,onCursorChange:ie,ref:u,issues:q.result.issues,fontSize:r.fontSize},c)]}),!d&&U.jsx("div",{className:`${l.groupInspectorButton} ${r.isMobile?l.groupInspectorButtonMobile:""}`,style:{background:i.voidary},children:U.jsx("button",{className:`${l.inspectorButton} ${a.voidaryButton}`,title:Ut.editorText(n,"inspector.tooltip"),onClick:()=>g(!0),children:U.jsx(XO,{style:{transform:"translateY(2px)"}})})})]}),d&&U.jsx("div",{className:`${l.groupInspector} ${r.isMobile?l.groupInspectorMobile:""}`,children:U.jsx(aF,{onClose:()=>g(!1),inspectors:[{id:"play",content:()=>U.jsx(YB,{result:q.result,pickingSections:Jt,onAutoScroll:_t,onNoteHighlightUpdate:qe,onTogglePicker:an,getPickReporter:yn,code:w,setCode:ee,onExportFinish:Ke,exporting:de,setExporting:Le,exportProgress:Oe,setExportProgress:at},c)},{id:"determine_props",content:()=>U.jsx(rz,{})},{id:"instrument_test",content:()=>U.jsx(XB,{})}]})})]}),U.jsxs("div",{className:l.groupStatusBar,style:{background:i.voidary},children:[U.jsx("div",{className:l.statusBarGroup,children:U.jsx(CO,{value:f,onChange:p})}),U.jsx("div",{className:l.statusBarSpacer,children:U.jsx(JB,{exporting:de,exportProgress:Oe})}),U.jsxs("div",{className:l.statusBarGroup,children:[U.jsx(NO,{filename:S,isDirty:M,isPreviewDirty:k,onForceUpdate:Te,onRequestSave:t.onRequestSave}),U.jsx(PO,{pages:z}),r.showProcessTime=="on"&&U.jsx(TO,{parseTime:q.timing,renderTime:P}),we!="off"&&U.jsx(kO,{sourceSize:new TextEncoder().encode(w).length,previewSize:D,showPreviewSize:we=="all"})]})]})]}),ze=()=>{ll(u,We=>{We.editor.destroy()}),h(Si(24))},Ye=He(()=>w),rt=He(()=>M),ln=He(()=>S),ir=He(We=>{y(We),Y(We),p("split"),A(void 0),R(!1),$(!1),ze()}),oo=He(()=>{k&&Y()}),Vr=He(We=>{A(We),R(!1)}),Ma=He(We=>{y(We.content),Y(We.content),p(r.displayMode),A(We.path),R(!1),$(!1),ze()}),Ri=He((We,Mt)=>{let yt=q.result;k&&(yt=Y());const Ot=qi.render(yt.result,s),Ur=qi.paginize(yt.result,Ot,s).result;let Li=Me.editorText(n,"preview.new_title");S!==void 0&&(Li=LO(S));const Ea="window.efData="+JSON.stringify(Ur.map(si=>({...si,element:si.element.outerHTML}))).replace(/</g,"\\x3c")+";document.title="+JSON.stringify(Li).replace(/</g,"\\x3c");return We.replace("/*{script:content:data}*/",Ea).replace("/*{script:content:flags}*/","window.localFontLocation = "+JSON.stringify(Mt))}),so=He(()=>{let We=q.result;return k&&(We=Y()),JSON.stringify(We)});return V.useImperativeHandle(e,()=>({getValue:()=>Ye(),getIsDirty:()=>rt(),getFilename:()=>ln(),triggerBeforeSave:()=>oo(),triggerSaved:We=>Vr(We),triggerNew:We=>ir(We),triggerOpen:We=>Ma(We),exportHtml:(We,Mt)=>Ri(We,Mt),exportJson:()=>so()})),Be}),hz="简体中文 (中国)",gm="Sparks NMN 试用模式",fz="Sparks NMN",dz="试用模式",pz=gz({"i18n.self_name":hz,title:{default:gm,new:""+gm,newDirty:"● "+gm},preview:{new_title:"新文档","heading#html":{icon:"./logo.ico",backlink:"/",title:fz,title_ext:dz,text:{1:"此页面不支持文件保存和偏好设置功能。要留存文件，可复制代码并使用自己的文本编辑器保存。",2:"本页面上的暂存功能利用浏览器的本地存储，只能存放<strong style='font-weight: 500; text-decoration: wavy #7d9198 underline'>一份</strong>代码，且<strong style='font-weight: 500; text-decoration: wavy #7d9198 underline'>随时都可能会被覆盖</strong>。请注意做好备份。",3:"如需要日常使用，建议下载桌面版。"},key:{save:"暂存代码并刷新预览",refresh:"仅刷新预览",print:"打印预览",hint:"如果没有键盘，也可以点击状态栏上的「未暂存」或「未刷新预览」进行暂存或刷新。"}}},export_finish:`音频数据导出完成，请复制下面地址访问。
链接将在 2 分钟内失效。`});function gz(t){function e(r,i,o){er(i,(s,l)=>{const a=r+l;typeof s=="string"?o[a]=s:e(a+".",s,o)})}const n={};return e("",t,n),n}const yA=dt.createContext(Object.assign((t,...e)=>wA("void",t,...e),{languageKey:"void"}));function mz(){return dt.useContext(yA)}function vz({languageKey:t,children:e}){const n=Object.assign((r,...i)=>wA(t,r,...i),{languageKey:t});return U.jsx(yA.Provider,{value:n,children:e})}function yz(t){switch(t){case"zh_cn":return pz;case"void":return{};default:throw new Error(`i18n: Unknown language key ${t}`)}}function wA(t,e,...n){const r=yz(t);if(r[e]===void 0){let h=e;if(n.length>0){h+="(";for(let f=0;f<n.length;f++){let p=n[f].toString();f>0&&(h+=","),h+=p}h+=")"}return h}let i=r[e],o=Si(32),s=/\$\{\$(\d+)\}/g,l=`{${o}$1}`,a=new RegExp("\\{"+o+"(\\d+)\\}","g"),u="${$1}";i=i.replace(s,l);let c=[];for(let h=0;h<n.length;h++){let f="${"+h.toString()+"}",p=n[h].toString();c.push([f,p])}return i=r0(i,c),i=i.replace(a,u),i}const wz="@sparks-notation/core",bz="1.15.8",_z="A natural text format for composing numbered music notation or guitar tabulate scores, formerly known as Sparks NMN.",Sz="index.js",xz="yezhiyi9670 <yezhiyi9670@sparks-lab.art>",Cz="Apache-2.0",Tz={"@sparks-notation/util":"workspace:^","@types/jquery":"^3.5.32",jquery:"^3.7.1"},kz={name:wz,version:bz,description:_z,main:Sz,author:xz,license:Cz,devDependencies:Tz},Az=`Dt: 新文档
Ds: 副标题
Dv: Version ${kz.version}
Da[作词]: ???
Da[作曲]: ???
P: 1=C 4/4
Rp: page=A4 font_lyrics=Roman,CommonSerif/600/0.95
===
N: (13)(24)(35)(46) | (57)(61e)(72e)(1e6) | (75)(64)(53)(42) | (31)(27d) 1 - |||
===
T: 这是一份默认的乐谱代码。
T: 你可以自行尝试修改它以探索功能，或者在网站上打开“示例乐谱”页面查看更多例子。
`,Mz=Mn({outer:{height:"100%",display:"flex",flexDirection:"column",userSelect:"none"},header:{height:"48px",borderBottom:"1px solid #00000029",backgroundColor:"#FAFAFA",boxSizing:"border-box",padding:"0 12px",verticalAlign:"middle",display:"none"},headerText:{display:"table-cell",height:"48px",verticalAlign:"middle",fontSize:"18px",opacity:.6,userSelect:"none"},inner:{flex:"auto",overflow:"hidden"},"@media print":{outer:{height:"unset"},header:{display:"none"},inner:{padding:"16px"}}});function Ez(t){const e=Mz();return U.jsxs("div",{className:e.outer,onKeyDown:t.onKeyDown,children:[U.jsx("div",{className:e.header,children:U.jsx("div",{className:e.headerText,children:t.text})}),U.jsx("div",{className:e.inner,children:t.children})]})}function $z(t){for(var e=window.location.search.substring(1),n=e.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");if(i[0]==t)return decodeURIComponent(i[1])}}const Rz=window.innerWidth<=900;function Lz(){const t=V.createRef(),e=mz();V.useEffect(()=>{const s=$z("load-example");if(s!==void 0){const l="example/"+s+"?time="+ +new Date;l.startsWith("//")||l.includes(":")||l.includes("..")?console.warn("The request of loading file",l,"is blocked because it does not look safe"):xt.get(l,a=>{typeof a=="string"&&!a.trim().startsWith("<")?(localStorage.setItem("sparks-nmn-demo-src",a),ll(t,u=>{u.triggerOpen({path:"",content:a}),history.replaceState(void 0,"",location.origin+location.pathname)})):console.warn("Failed to load file",l)})}else ll(t,l=>{const a=localStorage.getItem("sparks-nmn-demo-src"),u=a??Az;l.triggerOpen({path:"",content:u})})},[]);function n(){ll(t,s=>{s.triggerBeforeSave(),s.getIsDirty()&&(localStorage.setItem("sparks-nmn-demo-src",s.getValue()),s.triggerSaved(""))})}function r(s){s.ctrlKey&&!s.shiftKey&&(s.key.toLowerCase()=="s"?(s.preventDefault(),n()):s.key.toLowerCase()=="r"&&(s.preventDefault(),ll(t,l=>{l.triggerBeforeSave()})))}const i=He(s=>{const l=new Blob([s],{type:"audio/ogg"}),a=URL.createObjectURL(l);window.prompt(e("export_finish"),a);const u=document.createElement("textarea");u.setAttribute("readonly","readonly"),u.value=a,document.body.appendChild(u),u.focus(),u.select(),console.log(a,document.execCommand("copy")),u.remove(),setTimeout(()=>{URL.revokeObjectURL(a)},120*1e3)}),o=V.useMemo(()=>({modifyTitle:{default:e("title.default"),new:e("title.new"),newDirty:e("title.newDirty"),clean:e("title.new"),dirty:e("title.newDirty")},importantWarning:{html:`
			<div class="demo-important-warning-title" style="font-family: sans-serif; width: 100%; font-size: 1.8em; padding: 1.2em; border-radius: 1em; background: #f6f8fa; color: #193c47">
				<div style="display: flex; align-items: center; height: 2.7em; gap: 0.6em;">
					<a target="_blank" href="${e("preview.heading#html.backlink")}" style="display: flex; height: 2.7em; gap: 0.6em; align-items: center; color: inherit; text-decoration: none;">
						<img style="height: 2.7em; width: 2.7em; object-fit: contain" src="${e("preview.heading#html.icon")}" />
						<span style="font-size: 1.4em; font-weight: 700">${e("preview.heading#html.title")}</span>
					</a>
					<span style="font-size: 1.4em; opacity: 0.55">${e("preview.heading#html.title_ext")}</span>
				</div>
				<div class="demo-important-warning-text" style="font-size: 1.05em; margin-top: 1em; line-height: 1.4em; height: 4.2em; color: #193c47; white-space: nowrap;">
					${e("preview.heading#html.text.1")}<br />
					${e("preview.heading#html.text.2")}<br />
					${e("preview.heading#html.text.3")}
				</div>
				<div class="demo-important-warning-keys" style="font-size: 1.05em; margin-top: 0.85em; line-height: 1.4em; height: 2.85em; color: #7d9198; white-space: nowrap;">
					<code style="font-family: CommonBlack; background: #f9f9f9; border: 0.1em solid #7d9198; border-radius: 0.3em; padding: 0.05em 0.15em">Ctrl</code>
					+
					<code style="font-family: CommonBlack; background: #f9f9f9; border: 0.1em solid #7d9198; border-radius: 0.3em; padding: 0.05em 0.15em">S</code>
					${e("preview.heading#html.key.save")}

					<span style="display: inline-block; width: 1.35em"></span>
					
					<code style="font-family: CommonBlack; background: #f9f9f9; border: 0.1em solid #7d9198; border-radius: 0.3em; padding: 0.05em 0.15em">Ctrl</code>
					+
					<code style="font-family: CommonBlack; background: #f9f9f9; border: 0.1em solid #7d9198; border-radius: 0.3em; padding: 0.05em 0.15em">R</code>
					${e("preview.heading#html.key.refresh")}

					<span style="display: inline-block; width: 1.35em"></span>

					<code style="font-family: CommonBlack; background: #f9f9f9; border: 0.1em solid #7d9198; border-radius: 0.3em; padding: 0.05em 0.15em">Ctrl</code>
					+
					<code style="font-family: CommonBlack; background: #f9f9f9; border: 0.1em solid #7d9198; border-radius: 0.3em; padding: 0.05em 0.15em">P</code>
					${e("preview.heading#html.key.print")}

					<br />

					${e("preview.heading#html.key.hint")}
				</div>
			</div>
		`,height:29.5},temporarySave:!0,isMobile:Rz,inspectorOpen:!1,logTimeStat:!0,instrumentSourceUrl:"./core-resources/audio/",onAudioExport:i,previewRefresh:"delay1000"}),[e,i]);return U.jsx(Ez,{text:"Sparks NMN Dev Demo",onKeyDown:r,children:U.jsx(cz,{onRequestSave:n,ref:t,editorPrefs:o,language:Me.languages.zh_cn})})}function Nz(){return U.jsxs(U.Fragment,{children:[U.jsx("style",{children:`
			@page {
				margin-left: 0cm;
				margin-right: 0cm;
				margin-top: 8.0vw;
				margin-bottom: 8.0vw;
			}
			html, body {
				padding: 0;
				margin: 0;
			}
		`}),U.jsx(Lz,{})]})}qi.fontLoader.requestFontLoad("./core-resources/font",()=>{Ax(document.getElementById("root")).render(U.jsx(vz,{languageKey:"zh_cn",children:U.jsx(Nz,{})}))},(t,e)=>{xt(".root-loading").length!=0&&(xt(".root-progress").text(t),xt(".root-total").text(e),xt(".root-bar-in").css("width",`${t/e*100}%`))});export{_n as c,Oz as g};
//# sourceMappingURL=index-4fq4sPSL.js.map
